(window.__webpack_jsonp_uu5richtextg01_1_12_1_uu5richtextg01=window.__webpack_jsonp_uu5richtextg01_1_12_1_uu5richtextg01||[]).push([[2],{108:function(t,e,n){"use strict";n.r(e),
n.d(e,"Area",(function(){return S}));var o=n(0),r=n.n(o),i=(n(10),n(9)),a=n(70),s=n(1),l=n.n(s),c=n(98),u=n(73),d=n(148);n(243);function p(){return(p=Object.assign||function(t){
for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function h(t){
return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){for(var e=1;e<arguments.length;e++){
var n=null!=arguments[e]?Object(arguments[e]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){
return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){y(t,e,n[e])}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,
configurable:!0,writable:!0}):t[e]=n,t}function g(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){
if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()
}function m(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}
var S=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin],statics:{tagName:i.a.TAG+"Area",classNames:{main:i.a.CSS+"area"}},propTypes:{value:r.a.PropTypes.string,
onChange:r.a.PropTypes.func,onBlur:r.a.PropTypes.func,onFocus:r.a.PropTypes.func,onPaste:r.a.PropTypes.func,readOnly:r.a.PropTypes.bool,handleKeyCommand:r.a.PropTypes.bool,
getToolbar:r.a.PropTypes.func,placeholder:r.a.PropTypes.string,forceRenderModal:r.a.PropTypes.bool},getDefaultProps:function(){return{value:"",onChange:null,onBlur:null,onFocus:null,onPaste:null,
readOnly:void 0,handleKeyCommand:!1,getToolbar:null,forceRenderModal:!1}},getInitialState:function(){return this._enterCommands=[{shiftKey:!0,fn:this._handleLineBreaks}],this._tabCommands=[],
this._otherCommands=[],{editorState:this.props.value?a.EditorState.createWithContent(a.ContentState.createFromText(this.props.value)):a.EditorState.createEmpty(),readOnly:this.props.readOnly,
customStyleMap:{},customStyleFns:[],blockRenderMap:a.DefaultDraftBlockRenderMap,getEditationFormMap:{}}},componentWillReceiveProps:function(t){
void 0!==t.readOnly&&t.readOnly!==this.props.readOnly&&this.setState({readOnly:t.readOnly})},componentDidMount:function(){this._updateStyles()},componentDidUpdate:function(){this._updateStyles()},
setEditorState:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;t||(t=a.EditorState.createEmpty());var o={editorState:t
},r=this._updateCustomStyleMap(t);return r&&(o.customStyleMap=r),this._handleChangeState(o,n,e),this},modifyEditorState:function(t,e,n){var o=e.currentContent,r=m(e,["currentContent"]),i=t
;return r&&(i=a.EditorState.set(i,r)),o&&(i=n?a.EditorState.push(i,o,n):a.EditorState.set(i,{currentContent:o})),i},updateEditorState:function(t,e,n,o){
return this.setEditorState(a.EditorState.set(t,e),n,o)},getEditorState:function(){return this.state.editorState},setReadOnly:function(){
var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;return this.setState({readOnly:t},e),this},isReadOnly:function(){return this.state.readOnly},
addInlineStyle:function(t,e){return this.setState((function(n){if("function"==typeof e){if(n.customStyleFns.find((function(e){return e.name===t})))return;return{
customStyleFns:[].concat(g(n.customStyleFns),[{name:t,style:e}])}}if(!n.customStyleMap||!n.customStyleMap[t]){var o=n.customStyleMap?JSON.parse(JSON.stringify(n.customStyleMap)):{};return o[t]=e,{
customStyleMap:o}}})),this},setCustomStyleMap:function(t){var e={},n=[];for(var o in t){var r=t[o];"function"==typeof r?n.push({name:o,style:r}):e[o]=r}return this.setState({customStyleMap:e,
customStyleFns:n}),this},setBlockRenderMap:function(t){return this.setState({blockRenderMap:this._createBlockRenderMap(t)}),this},setBlockRendererFn:function(t){return this.setState({blockRendererFn:t
}),this},setDecorators:function(t){return this.setState({editorState:this._createEditorStateWithDecorators(t)}),this},set:function(t){var e=this,n={}
;if(t.blockRendererFn&&(n.blockRendererFn=t.blockRendererFn),t.blockRenderMap&&(n.blockRenderMap=this._createBlockRenderMap(t.blockRenderMap)),t.customStyleMap){var o={},r=[]
;for(var i in t.customStyleMap){var a=t.customStyleMap[i];"function"==typeof a?r.push({name:i,style:a}):o[i]=a}n.customStyleMap=o,n.customStyleFns=r}
if(t.getEditationFormMap&&(n.getEditationFormMap=t.getEditationFormMap),t.editorState){n.editorState=t.editorState
;var s=this._updateCustomStyleMap(n.editorState,n.customStyleMap||this.state.customStyleMap);s&&(n.customStyleMap=s)
}else t.decorators&&(n.editorState=this._createEditorStateWithDecorators(t.decorators));return this._enterCommands=[{shiftKey:!0,fn:this._handleLineBreaks}],this._entityOptions=t.entityOptions,
this._entityOptions.error={preserveEnters:!0},this._otherCommands=[],this._tabCommands=[],t.commands&&t.commands.forEach((function(t){
13===t.keyCode?e._enterCommands.push(t):9===t.keyCode?e._tabCommands.push(t):e._otherCommands.push(f({},t,{code:"cmd_"+e._otherCommands.length}))})),this.setState(n),this},
toggleInlineStyle:function(t,e,n){var o,r={editorState:d.a.toggleInline(this.getEditorState(),t,e)};if(n&&(o=this.focus),!this.state.customStyleMap[t]){var i=t.match(/^[^.]+\.([^:]+):(.*)$/);if(i){
var a=JSON.parse(JSON.stringify(this.state.customStyleMap)),s={};s[i[1]]=i[2],a[t]=s,r.customStyleMap=a}}return this._handleChangeState(r,o),this},toggleBlockStyle:function(t,e){
return this._updateEditorStateByFn(e,d.a.toggleSelectedBlocksStyles,t),this},toggleBlockType:function(t,e){return this._updateEditorStateByFn(e,d.a.toggleBlock,t),this},
editSelectedComponent:function(t,e,n,o){if(this._openedDialogParams){var r=this._openedDialogParams.entityName===t;if(this._closeDialog(!0),r)return}
var i=this.getEditorState(),a=c.a.getCurrentEntityKey(i),s=a?c.a.getEntityByKey(i,a):null,l=this.state.getEditationFormMap[t];if(s&&s.getType()===t){var u=c.a.seĺectEntity(i,a),d=s.getData()
;u=this._showComponentForm(u,t,e,n,l,d,!0,o)||u,this.setEditorState(u)}else this._showComponentForm(i,t,e,n,l,void 0,!1,o)},createEntity:function(t,e,n){
var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"​",i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=c.a.create(t,n,s.isMutable,i),d=a.RichUtils.toggleLink(t,t.getSelection(),l)
;if(null!==r){var p=a.Modifier.replaceText(d.getCurrentContent(),d.getSelection(),r,void 0,l);d=a.EditorState.push(d,p,"create entity")}
s.preserveSelection?this.setEditorState(d,void 0,e):u.a.moveSelectionAfterEntity(d,l,(function(t){return o.setEditorState(t,void 0,e)}))},focus:function(){var t=this;if(!this.state.readOnly){
var e=this.getEditorState(),n=a.EditorState.set(e,{selection:e.getSelection().set("hasFocus",!0),forceSelection:!0,nativelyRenderedContent:null});this.setEditorState(n,!1,(function(){
"function"==typeof t.props.onFocus&&t.props.onFocus()}))}},getStyles:function(){return this._styles},selectCurrentEntity:function(t,e){return c.a.selectCurrentEntity(t,e)},
toggleBlockStyles:function(t,e,n,o){return d.a.toggleBlockStyles(t,e,n,o)},toggleSelectedBlocksStyles:function(t,e,n){return d.a.toggleSelectedBlocksStyles(t,e,n)},
getCurrentStylesWithPrefix:function(t,e){return d.a.getCurrentStylesWithPrefix(t,e)},toggleBlock:function(t,e){return d.a.toggleBlock(t,e)},removeInlineStyle:function(t,e){return d.a.removeInline(t,e)
},updateSelection:function(t,e){return u.a.updateSelection(t,e)},updateSelectedBlocks:function(t,e){return u.a.updateSelectedBlocks(t,e)},_updateEditorStateByFn:function(t,e){
for(var n=this,o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];this.setState((function(t){var o=e.apply(void 0,[t.editorState].concat(r));if(o)return n._notifyOnChange(o),{
editorState:o}}),t)},_notifyOnChange:function(t){if("function"==typeof this.props.getToolbar){var e=this.props.getToolbar();e&&e.update(t)}},_onChange:function(t,e,n){this._handleChangeState({
editorState:t},e,n)},_handleChangeState:function(t,e,n){var o=this;"function"==typeof this.props.onChange&&(t.editorState=this.props.onChange(this,t.editorState)||t.editorState),
this.setState(t,(function(){return o._notifyOnChange(o.state.editorState),n&&!o.state.readOnly&&o._editor.focus(),"function"==typeof e&&e()}))},_handleTab:function(t){
for(var e=this.getEditorState(),n=0;n<this._tabCommands.length;n++){var o=this._tabCommands[n];if((o.shiftKey||!1)===t.shiftKey&&(o.ctrlKey||!1)===t.ctrlKey&&(o.altKey||!1)===t.altKey){
var r=o.fn(e,this);if(r)return t.stopPropagation(),t.preventDefault(),r}}var i=a.RichUtils.onTab(t,e,10);i!==e&&this.setEditorState(i)},_handleKeyCommand:function(t){
var e=a.RichUtils.handleKeyCommand(this.getEditorState(),t);if(e&&e!==this.getEditorState())return this.setEditorState(e),"handled";for(var n=0;n<this._otherCommands.length;n++){
var o=this._otherCommands[n];if(o.code===t&&(e=o.fn(this.getEditorState(),this)))return"object"===h(e)&&this.setEditorState(e),"handled"}return"not-handled"},_handleReturn:function(t,e){
for(var n=0;n<this._enterCommands.length;n++){var o=this._enterCommands[n];if((o.shiftKey||!1)===t.shiftKey&&(o.ctrlKey||!1)===t.ctrlKey&&(o.altKey||!1)===t.altKey){var r=o.fn(e,this)
;if(r)return t.stopPropagation(),t.preventDefault(),r}}return!!t.shiftKey&&(this._onChange(a.RichUtils.insertSoftNewline(e)),!0)},_handleLineBreaks:function(t,e){
var n=t.getSelection(),o=t.getCurrentContent(),r=o.getBlockForKey(n.getStartKey()).getEntityAt(n.getEndOffset());if(r){var i=o.getEntity(r),a=this._entityOptions[i.getType()]
;if(a&&a.preserveEnters)return e.setEditorState(u.a.insertText(t,"\n")),!0}return!1},_registerEditor:function(t){this._editor=t},_createEditorStateWithDecorators:function(t){
var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getEditorState().getCurrentContent(),n=new a.CompositeDecorator(t);return a.EditorState.createWithContent(e,n)},
_createBlockRenderMap:function(t){return t?l.a.Map(t):a.DefaultDraftBlockRenderMap},_showComponentForm:function(t,e,n,o,r){
var i=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0;if(!o){
for(var c=getSelection(),d=c.anchorNode||c.focusNode;1!==d.nodeType;)d=d.parentNode;o=d}var p=u.a.getSelectedText(t);if("function"==typeof r){var h=r(e,p,a,(function(){
for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];i._addComponent.apply(i,[t,l].concat(n)),i._closeDialog()}),(function(){i._closeDialog()}),s);this._openDialog(h,n,o,e)}else{
if(s)return u.a.removeEntityFromSelection(t,t.getSelection());this._addComponent(t,l,e,p,a,{preserveSelection:!0})}},_addComponent:function(t,e,n,o,r,i){this.createEntity(t,e,n,o,r,i)},
_registerModal:function(t){this._modal=t},_registerPopover:function(t){this._popover=t},_openDialog:function(t,e,n,o){var r=this;this._openedDialogParams&&this._closeDialog(!0),
this._openedDialogParams={opts:t,button:e,aroundElement:n,entityName:o},this.setReadOnly(!0,(function(){var o=t.isPopover,i=t.dialogType,a=m(t,["isPopover","dialogType"]),s="hidden"===i
;(o=void 0===i?o:"popover"===i)?(e&&"function"==typeof e.press&&e.press(),a.onClose&&(a.onClose=function(){a.onClose.apply(a,arguments),r._onClosePopover.apply(r,arguments)}),r._popover.open(f({
onClose:r._onClosePopover,aroundElement:n,position:"bottom",offset:4},a))):s?r.setState({hiddenContent:a.content}):r._modal.open(a)}))},_closeDialog:function(t){if(this._openedDialogParams){
var e=void 0===this._openedDialogParams.opts.dialogType?this._openedDialogParams.opts.isPopover:"popover"===this._openedDialogParams.opts.dialogType
;"hidden"===this._openedDialogParams.opts.dialogType?this._closeHidden():e?this._closePopover():this._closeModal(t)}},_closeHidden:function(){var t=this;this.setReadOnly(!1,(function(){t.setState({
hiddenContent:null},t.focus)})),delete this._openedDialogParams},_closeModalAndEnableEditor:function(){this._closeModal()},_closeModal:function(t){var e=this
;t?this._modal.close(!1):this.setReadOnly(!1,(function(){e._modal.close(!1),e.focus()})),delete this._openedDialogParams},_closePopover:function(){var t=this;this.setReadOnly(!1,(function(){
t._popover.close(),t._onClosePopover(!0),t.focus()}))},_onClosePopover:function(t){this._openedDialogParams&&(t||this.setReadOnly(!1),
this._openedDialogParams.button&&"function"==typeof this._openedDialogParams.button.pressUp&&this._openedDialogParams.button.pressUp(),delete this._openedDialogParams)},
_updateCustomStyleMap:function(){
for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.editorState,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.customStyleMap,n=Object(a.convertToRaw)(t.getCurrentContent()),o=!1,r=0;r<n.blocks.length;r++){
var i=n.blocks[r];if(i.inlineStyleRanges)for(var s=0;s<i.inlineStyleRanges.length;s++){var l=i.inlineStyleRanges[s].style;if(!e[l]){var c=l.match(/^[^.]+\.(.*)$/);if(!c)continue
;for(var u=c[1].split(";"),d={},p=0;p<u.length;p++){var h=u[p].match(/^([^:]+):(.+)$/);h&&(o||(o=!0,e=JSON.parse(JSON.stringify(e))),d[h[1]]=h[2])}Object.keys(d).length&&(e[l]=d)}}}if(o)return e},
_keyBindingFn:function(t){var e=this;if(a.KeyBindingUtil.hasCommandModifier(t)){for(var n=0;n<this._otherCommands.length;n++){var o=this._otherCommands[n]
;if((!o.alt||t.altKey)&&o.keyCode===t.which)return o.code}if(88===t.keyCode){var r=this._editor.restoreEditorDOM;return this._editor.restoreEditorDOM=function(){e._editor.restoreEditorDOM=r,
e._editor.restoreEditorDOM()},null}if(74===t.keyCode)return null}return Object(a.getDefaultKeyBinding)(t)},_handlePaste:function(t,e,n){
return"function"==typeof this.props.onPaste&&this.props.onPaste(t,e,n)},_showPlaceholder:function(){var t=this.getEditorState().getCurrentContent().getBlocksAsArray()
;if(1===t.length&&"unstyled"===t[0].getType()&&!t[0].getText())return this.props.placeholder},_updateStyles:function(){this._styles=getComputedStyle(this.findDOMNode())},_customStyleFn:function(t,e){
var n=this,o={},r={};t.forEach((function(t){var e=n.state.customStyleMap[t];e&&(o=f({},o,e))}));for(var i=0;i<this.state.customStyleFns.length;i++){var a=this.state.customStyleFns[i]
;if(t.get(a.name)){var s=a.style(o,e);s&&(r=f({},r,s),o=f({},o,s))}}return r},render:function(){return r.a.Common.Element.create(r.a.Common.Fragment,null,r.a.Common.Element.create(a.Editor,p({
ref:this._registerEditor},this.getMainAttrs(),{placeholder:this._showPlaceholder(),readOnly:this.isReadOnly(),editorState:this.getEditorState(),onChange:this._onChange,onTab:this._handleTab,
customStyleMap:this.state.customStyleMap,customStyleFn:this._customStyleFn,blockRendererFn:this.state.blockRendererFn,blockRenderMap:this.state.blockRenderMap,
keyBindingFn:this.props.handleKeyCommand?this._keyBindingFn:void 0,handleKeyCommand:this.props.handleKeyCommand?this._handleKeyCommand:void 0,onBlur:this.props.onBlur,onFocus:this.props.onFocus,
handlePastedText:this._handlePaste,handleReturn:this._handleReturn})),r.a.Common.Element.create(r.a.Bricks.PortalModal,{ref_:this._registerModal,onClose:this._closeModalAndEnableEditor,
forceRender:this.props.forceRenderModal}),r.a.Common.Element.create(r.a.Bricks.PortalPopover,{ref:this._registerPopover}),r.a.Common.Element.create(r.a.Bricks.Div,{hidden:!0,key:"hiddenArea"
},this.state.hiddenContent))}});e.default=S},243:function(t,e,n){var o=n(244);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!1,transform:void 0,insertInto:function(){return n(7)()}};n(8)(o,r)
;o.locals&&(t.exports=o.locals)},244:function(t,e,n){
(t.exports=n(6)(!1)).push([t.i,'.uu5-common-temp-textarea{opacity:0;position:absolute;left:-1000px;top:-1000px}.public-DraftEditor-content{min-height:72px;padding:6px 8px 7px;background:#fff;border:1px solid #bdbdbd;border-radius:2px}.public-DraftEditor-content:focus{border-color:#2196f3;box-shadow:none;outline:none}.DraftEditor-root{position:relative}.public-DraftEditorPlaceholder-root{position:absolute;left:0;right:0;pointer-events:none;color:#a8a8a8;padding-left:8px;padding-top:8px;padding-right:8px}.public-DraftStyleDefault-block>span[style*="display: none;"]:first-child,.public-DraftStyleDefault-block>span[style*="display: none;"]:last-child{display:inline!important}.DraftEditor-editorContainer [data-block]:not(:only-child) .public-DraftStyleDefault-block>span[style*="display:;"]:only-child,.public-DraftStyleDefault-block>span[style*="display: none;"]:only-child{display:none!important}',""])
},98:function(t,e,n){"use strict";var o=n(70),r=n(73),i=n(0),a={getDefaultStrategy:function(t){return function(e,n,o){e.findEntityRanges((function(e){var n=e.getEntity()
;return null!==n&&o.getEntity(n).getType()===t}),n)}},getDefaultEntityForm:function(t){var e=t.tag,n=t.props,o=t.onSave,r=t.onCancel,a=t.text
;return i.Common.UU5String.toChildren('<uu5string />\n      <UU5.Forms.Form onSave="${onSave}" onCancel="${onCancel}">\n      <UU5.Forms.Text label="Tag name" name="tag" value="${tag}" disabled />\n      <UU5.CodeKit.JsonEditor label="Props" name="props" '.concat(n?'value="${props}"':"",' />\n      <UU5.Forms.Text label="content" name="text" ').concat(a?'value="${text}"':""," />\n      <UU5.Forms.Controls /></UU5.Forms.Form>"),{
onSave:function(){return o},onCancel:function(){return r},tag:e,props:JSON.stringify(n||{}),text:a})},getCurrentEntityKey:function(t){var e=t.getSelection(),n=t.getCurrentContent(),o=e.getStartKey()
;return n.getBlockForKey(o).getEntityAt(e.getStartOffset())},getEntityByKey:function(t,e){return t.getCurrentContent().getEntity(e)},getCurrentEntity:function(t){var e=a.getCurrentEntityKey(t)
;return e&&a.getEntityByKey(t,e)},"seĺectEntity":function(t,e){var n=t,o=t.getSelection(),i=t.getCurrentContent(),a=o.getStartKey();return i.getBlockForKey(a).findEntityRanges((function(t){
return t.getEntity()===e}),(function(e,o){n=r.a.updateSelection(t,{startOffset:e,endOffset:o})})),n},selectCurrentEntity:function(t,e){
var n=t.getSelection(),o=t.getCurrentContent(),r=o.getBlockForKey(n.getAnchorKey()).getEntityAt(n.getStartOffset()),i=r&&o.getEntity(r);return i&&i.getType()===e?a.seĺectEntity(t,r):t},
toggle:function(t,e,n,r){var i=t.getCurrentContent();i.createEntity(e,"MUTABLE",{props:n,data:r});var a=i.getLastCreatedEntityKey();t=o.RichUtils.toggleLink(t,t.getSelection(),a)},remove:function(t){
return t},create:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3?arguments[3]:void 0,r=t.getCurrentContent()
;return r.createEntity(e,n?"MUTABLE":"IMMUTABLE",o),r.getLastCreatedEntityKey()}};e.a=a}}]);