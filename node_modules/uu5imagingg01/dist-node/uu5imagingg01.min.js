module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,
n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{
value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null)
;if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){
var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){
e.exports=require("uu5g04")},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3]
;if(!i)return n;if(t&&"function"==typeof btoa){
var a=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=i.sources.map((function(e){
return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(r).concat([a]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){
"string"==typeof e&&(e=[[null,e,""]]);for(var i={},a=0;a<this.length;a++){var r=this[a][0];null!=r&&(i[r]=!0)}for(a=0;a<e.length;a++){var o=e[a]
;null!=o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t){function n(e){var t=document.head||document.body
;e.setAttribute("data-owner","uu5imagingg01/uu5imagingg01@1.7.0"),e.setAttribute("data-emotion","uu-imaging"),e.setAttribute("data-tech","less")
;for(var n=t.querySelectorAll('style[data-emotion="uu-imaging"]'),i=n.length-1;i>=0;i--){var a=n[i];if("less"===a.getAttribute("data-tech"))return void a.parentNode.insertBefore(e,a.nextSibling)}
for(var r=0;r<n.length;r++){var o=n[r];if("less"!==o.getAttribute("data-tech"))return void o.parentNode.insertBefore(e,o)}var s=document.querySelector("[data-uu-app-styles-insert-before]")
;s?s.parentNode.insertBefore(e,s):t.appendChild(e)}var i={appendChild:n,insertBefore:n,insertAfter:n};e.exports=function(){return i}},function(e,t,n){var i,a,r={},o=(i=function(){
return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=i.apply(this,arguments)),a}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},u=function(e){
var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=s.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{
i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,g=0,p=[],c=n(12);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=r[i.id];if(a){a.refs++
;for(var o=0;o<a.parts.length;o++)a.parts[o](i.parts[o]);for(;o<i.parts.length;o++)a.parts.push(y(i.parts[o],t))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(y(i.parts[o],t));r[i.id]={id:i.id,
refs:1,parts:s}}}}function m(e,t){for(var n=[],i={},a=0;a<e.length;a++){var r=e[a],o=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]
})}return n}function d(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.")
;var i=p[p.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),
p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{
if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n")
;var a=u(e.insertAt.before,n);n.insertBefore(t,a)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function b(e){
var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return v(t,e.attrs),d(e,t),t}
function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,a,r;if(t.transform&&e.css){
if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var o=g++;n=l||(l=b(t)),i=C.bind(null,n,o,!1),a=C.bind(null,n,o,!0)
}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){
var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),d(e,t),t}(t),i=I.bind(null,n,t),a=function(){f(n),
n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),i=w.bind(null,n),a=function(){f(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}
e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment")
;(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=m(e,t)
;return h(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var o=n[a];(s=r[o.id]).refs--,i.push(s)}e&&h(m(e,t),t);for(a=0;a<i.length;a++){var s;if(0===(s=i[a]).refs){
for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var x,_=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function C(e,t,n,i){var a=n?"":i.css
;if(e.styleSheet)e.styleSheet.cssText=_(t,a);else{var r=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function w(e,t){
var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}
function I(e,t,n){var i=n.css,a=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||r)&&(i=c(i)),
a&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),
s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=require("uu5g04-bricks")},function(e,t){e.exports=require("uu5g04-forms")},function(e,t){e.exports=require("memoize-one")},function(e,t){
e.exports=require("react-image-crop")},function(e,t,n){e.exports=n(9)},function(e,t,n){e.exports=n(32)},function(e,t,n){var i=n(11);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,
insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,".uu5-imaging-lightbox-body{position:absolute;width:100%;height:100%}.uu5-imaging-lightbox-body-preload-image{width:1px;height:1px;position:absolute;top:-10px;left:-10px;opacity:0;pointer-events:none}.uu5-imaging-lightbox-body-content{text-align:center;overflow:hidden;position:absolute;height:100%;width:100%}.uu5-imaging-lightbox-body-vertical-align-helper{display:inline-block;height:100%;vertical-align:middle}.uu5-imaging-lightbox-body-header{position:absolute;top:0;left:0;width:100%;height:40px;z-index:1;text-align:right;font-size:24px;padding:8px;display:flex;align-items:center;background-image:linear-gradient(0deg,transparent,rgba(0,0,0,.54))}.uu5-imaging-lightbox .uu5-bricks-modal-body{padding:0}.uu5-imaging-lightbox .uu5-bricks-modal-dialog{margin:0;max-height:100%;height:100%;width:100%}.uu5-imaging-lightbox-body-navigation-arrow{background:transparent;width:48px;height:48px;position:absolute;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;font-size:48px;color:#fff;text-shadow:0 1px 4px rgba(0,0,0,.87)}.uu5-imaging-lightbox-body-navigation-arrow-right{margin:auto 0 auto auto}.uu5-imaging-lightbox-body-navigation-arrow-left{margin:auto auto auto 0}.uu5-imaging-lightbox-body-white-color{color:#fff}.uu5-imaging-lightbox-body-gray-color,.uu5-imaging-lightbox-body-white-color:hover{color:grey}.uu5-imaging-lightbox-body-gray-color:hover{color:#fff}.uu5-imaging-lightbox-body-counter-white{color:#fff}.uu5-imaging-lightbox-body-counter-gray,.uu5-imaging-lightbox-body-counter-white{display:inline;vertical-align:middle;padding-left:16px;font-size:14px;text-shadow:0 1px 2px rgba(0,0,0,.87)}.uu5-imaging-lightbox-body-counter-gray{color:grey}.uu5-imaging-lightbox-body-control-white{font-size:20px;line-height:20px;text-shadow:0 1px 2px rgba(0,0,0,.87);color:#fff}.uu5-imaging-lightbox-body-control-white:hover{color:grey}.uu5-imaging-lightbox-body-control-gray{font-size:20px;line-height:20px;text-shadow:0 1px 2px rgba(0,0,0,.87);color:grey}.uu5-imaging-lightbox-body-control-gray:hover{color:#fff}a.uu5-imaging-lightbox-body-nodecoration:hover{text-decoration:none}",""])
},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e
;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){
var a,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}))
;return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,n){
var i=n(14);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,"",""])},function(e,t,n){var i=n(16);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a)
;i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,'.uu5-imaging-image{overflow:hidden;position:relative;width:100%;display:inline-block;transform:translateZ(0);outline:none}.uu5-imaging-image.uu5-imaging-image-fit-width{width:auto}.uu5-imaging-image:focus .uu5-imaging-image-focus-wrapper{outline:none;box-shadow:inset 0 0 0 2px #a6c8ff;padding:2px}.uu5-imaging-image-original-dimensions-width{width:auto}.uu5-imaging-image-focus-wrapper{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none}.uu5-imaging-image-crop:before{content:"";display:block;float:left;padding-top:100%}.uu5-imaging-image-shape-rect4x3:before,.uu5-imaging-image-shape-rect:before{content:"";display:block;float:left;padding-top:75%}.uu5-imaging-image-shape-rect3x2:before{content:"";display:block;float:left;padding-top:66.66%}.uu5-imaging-image-shape-rect5x4:before{content:"";display:block;float:left;padding-top:80%}.uu5-imaging-image-shape-rect2x1:before{content:"";display:block;float:left;padding-top:50%}.uu5-imaging-image-shape-rect3x1:before{content:"";display:block;float:left;padding-top:33.33%}.uu5-imaging-image-shape-rect4x1:before{content:"";display:block;float:left;padding-top:25%}.uu5-imaging-image-shape-rect45x10:before{content:"";display:block;float:left;padding-top:22.22%}.uu5-imaging-image-shape-rect16x9:before{content:"";display:block;float:left;padding-top:56.25%}.uu5-imaging-image-shape-rect16x10:before{content:"";display:block;float:left;padding-top:62.5%}.uu5-imaging-image-shape-rect3x4:before{content:"";display:block;float:left;padding-top:133.33%}.uu5-imaging-image-shape-rect4x5:before{content:"";display:block;float:left;padding-top:125%}.uu5-imaging-image-shape-rect2x3:before{content:"";display:block;float:left;padding-top:150%}.uu5-imaging-image-shape-rect1x2:before{content:"";display:block;float:left;padding-top:200%}.uu5-imaging-image-img{position:relative;display:block}.uu5-imaging-image-auto-width{height:100%;width:auto}.uu5-imaging-image-auto-height{width:100%;height:auto}.uu5-imaging-image-landscape,.uu5-imaging-image-portrait{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.uu5-imaging-image-landscape{height:100%;width:auto}.uu5-imaging-image-portrait{width:100%;height:auto}.uu5-imaging-image-fit-covernoscaleup{width:100%;height:100%;left:0;top:0;right:0;bottom:0;object-fit:cover;transform:none}.uu5-imaging-image-fit-covernoscaleup-center{object-fit:none}.uu5-imaging-image-shape-rounded{border-radius:1em}.uu5-imaging-image-shape-circle{border-radius:50%}.uu5-imaging-image-effect-zoom .uu5-imaging-image-img{transition:all .2s ease}.uu5-imaging-image-effect-grayscale .uu5-imaging-image-img:hover{transition:all .5s ease;filter:url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale");-webkit-filter:grayscale(100%);filter:grayscale(100%);-webkit-filter:grey;filter:gray}.uu5-imaging-image-effect-grayscale .uu5-imaging-image-img{-webkit-filter:none;filter:none}.uu5-imaging-image-effect-sepia .uu5-imaging-image-img:hover{transition:all .5s ease;-webkit-filter:sepia(100%);filter:sepia(100%)}.uu5-imaging-image-effect-invert .uu5-imaging-image-img:hover{transition:all .5s ease;-webkit-filter:invert(100%);filter:invert(100%)}.uu5-imaging-image-effect-sepia .uu5-imaging-image-img{-webkit-filter:none;filter:none}.uu5-imaging-image-effect-blur .uu5-imaging-image-img{transition:all .3s ease}.uu5-imaging-image-effect-blur:hover .uu5-imaging-image-img{-webkit-filter:blur(5px) brightness(120%);filter:blur(5px) brightness(120%)}.uu5-imaging-image-effect-tilt{transition:all .3s ease}.uu5-imaging-image-effect-tilt:hover{z-index:100;transform:rotate(-10deg)}.uu5-imaging-image-effect-morph{transition:all .5s ease;transform:rotate(0)}.uu5-imaging-image-effect-morph:hover{border-radius:50%;transform:rotate(1turn)}.uu5-imaging-image-effect-morph:hover img{border-radius:50%;transition:border-radius .5s ease}.uu5-imaging-image-effect-blur .uu5-imaging-image-effect-caption{transition:.5s ease;opacity:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.uu5-imaging-image-effect-blur:hover .uu5-imaging-image-effect-caption{opacity:1}.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img{transform:scale(1.15)}.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-landscape,.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-portrait{transform:translate(-50%,-50%) scale(1.15)}.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-landscape.uu5-imaging-image-fit-covernoscaleup,.uu5-imaging-image-effect-zoom:hover .uu5-imaging-image-img.uu5-imaging-image-portrait.uu5-imaging-image-fit-covernoscaleup{transform:scale(1.15)}.uu5-imaging-image-effect-zoom:hover.uu5-imaging-image-crop>.uu5-imaging-image-img{position:absolute}.uu5-imaging-image-effect-zoom:hover.uu5-imaging-image-crop>.uu5-imaging-image-landscape,.uu5-imaging-image-effect-zoom:hover.uu5-imaging-image-crop>.uu5-imaging-image-portrait{left:0;top:0}.uu5-imaging-image-loading{width:1px;height:1px;position:absolute;top:-1px;left:-1px;opacity:0}.uu5-imaging-image-loading-animation{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1;background:linear-gradient(100deg,hsla(0,0%,100%,0) 30%,hsla(0,0%,100%,.7) 50%,hsla(0,0%,100%,0) 70%,hsla(0,0%,100%,0)) no-repeat 0 0;background-size:80px 100%;-webkit-animation:loading-image-animation 1.2s linear infinite;animation:loading-image-animation 1.2s linear infinite}@-webkit-keyframes loading-image-animation{0%{transform:translateX(-80px)}40%{transform:translateX(100%)}to{transform:translateX(100%)}}@keyframes loading-image-animation{0%{transform:translateX(-80px)}40%{transform:translateX(100%)}to{transform:translateX(100%)}}',""])
},function(e,t,n){var i=n(18);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,".uu5-imaging-thumbnail-list .uu5-bricks-column{display:inline-block;padding:2px;float:none;vertical-align:top}.uu5-imaging-thumbnail-list-mode-track{vertical-align:top;display:inline-block;overflow:hidden}",""])
},function(e,t,n){var i=n(20);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,".uu5-imaging-input{position:relative}",""])},function(e,t,n){var i=n(22);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){
return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,".uu5-imaging-image-input-wrapper{margin-top:8px}.uu5-imaging-image-input-message-line{margin:6px 0 0}.uu5-imaging-image-input-message-line-feedback-error{background-color:#d50000}.uu5-imaging-image-input-message-line-feedback-warning{background-color:#ff9800}.uu5-imaging-image-input-message-line-feedback-success{background-color:#4faf50}.uu5-imaging-image-input-message-line-feedback-initial{background-color:rgba(0,0,0,.34)}",""])
},function(e,t,n){var i=n(24);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,".uu5-imaging-image-input{position:relative;line-height:1.42857143;background-color:#fff;background-image:none;border:1px dashed #bdbdbd;border-radius:4px;outline:none;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;display:flex;flex-direction:column;align-items:normal;justify-content:space-around;color:rgba(0,0,0,.87);cursor:pointer;width:100%}.uu5-imaging-image-input .uu5-bricks-icon{left:0;top:0;right:auto;color:rgba(0,0,0,.54);vertical-align:baseline;display:inline-flex;align-items:center;justify-content:center;position:absolute;vertical-align:middle;text-align:center;height:100%}.uu5-imaging-image-input.uu5-common-bg-style-underline{border-width:0 0 1px;border-radius:0}.uu5-imaging-image-input.uu5-common-bg-style-filled,.uu5-imaging-image-input.uu5-common-bg-style-transparent{border-width:0}.uu5-forms-input-read-only .uu5-imaging-image-input{cursor:default}.uu5-imaging-image-input:hover{background-color:#e0e0e0;border-color:#bdbdbd}.uu5-imaging-image-input.uu5-imaging-image-input-dragover,.uu5-imaging-image-input:focus{background-color:#e3f2fd;border-color:#2196f3}.uu5-imaging-image-input-placeholder{display:inline-block}.uu5-imaging-image-input-file-input{position:absolute;visibility:hidden;height:0;width:0}.uu5-forms-input-s .uu5-imaging-image-input{min-height:24px}.uu5-forms-input-s .uu5-imaging-image-input .uu5-bricks-icon{padding:4px;font-size:16px}.uu5-forms-input-s .uu5-imaging-image-input-placeholder{font-size:12px;margin-left:28px}.uu5-forms-input-m .uu5-imaging-image-input{min-height:32px}.uu5-forms-input-m .uu5-imaging-image-input .uu5-bricks-icon{padding:6px;font-size:20px}.uu5-forms-input-m .uu5-imaging-image-input-placeholder{font-size:14px;margin-left:34px}.uu5-forms-input-l .uu5-imaging-image-input{min-height:40px}.uu5-forms-input-l .uu5-imaging-image-input .uu5-bricks-icon{padding:7px;font-size:26px}.uu5-forms-input-l .uu5-imaging-image-input-placeholder{font-size:16px;margin-left:41px}.uu5-forms-input-xl .uu5-imaging-image-input{min-height:48px}.uu5-forms-input-xl .uu5-imaging-image-input .uu5-bricks-icon{padding:7px;font-size:34px}.uu5-forms-input-xl .uu5-imaging-image-input-placeholder{font-size:18px;margin-left:49px}",""])
},function(e,t,n){var i=n(26);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,".uu5-imaging-image-input-item{position:relative;display:inline-block;width:100px;max-width:100%;vertical-align:top}.uu5-imaging-image-input-item-button-bar{position:absolute;top:4px;right:4px;z-index:1}.uu5-imaging-image-input-item-button-bar>.uu5-bricks-button{width:24px;height:24px;min-height:24px;padding:0;background-color:hsla(0,0%,100%,.8);box-shadow:0 2px 4px 0 rgba(0,0,0,.5);border-radius:4px}.uu5-imaging-image-input-item-button-bar>.uu5-bricks-button:not(:last-child){margin-right:4px}.uu5-imaging-image-input-item-button-bar>.uu5-bricks-button>.uu5-bricks-icon{font-size:20px;margin:0;padding:0;color:rgba(0,0,0,.54);left:0;right:0;top:0;bottom:0}.uu5-imaging-image-input-item:not(:last-child){margin-right:8px}.uu5-imaging-image-input-item-image-wrapper{position:relative;display:inline-block}.uu5-imaging-image-input-item-image{vertical-align:top}.uu5-imaging-image-input-item-loading-component{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);pointer-events:none}.uu5-imaging-image-input-item-loading>.uu5-imaging-image-input-item-image,.uu5-imaging-image-input-item-loading>.uu5-imaging-image-input-item-name{opacity:.42}.uu5-imaging-image-input-item-error{position:absolute;left:0;top:0;right:0;bottom:0;text-align:center;background:rgba(0,0,0,.12);border:2px solid #d50000;color:#d50000;border-radius:2px;pointer-events:none}.uu5-imaging-image-input-item-error>.uu5-imaging-image-input-item-error-icon{position:static}.uu5-imaging-image-input-item-name{font-size:10px;color:rgba(0,0,0,.87);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uu5-imaging-image-input-item-name-error{color:rgba(213,0,0,.87)}",""])
},function(e,t,n){var i=n(28);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,".uu5-imaging-upload-input{position:relative}",""])},function(e,t){e.exports=require("react-image-crop/dist/ReactCrop.css")},function(e,t,n){var i=n(31)
;"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!1,transform:void 0,insertInto:function(){return n(2)()}};n(3)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){
(e.exports=n(1)(!1)).push([e.i,'.uu5-common-temp-textarea{opacity:0;position:absolute;left:-1000px;top:-1000px}.uu5-imaging-thumbnail-generator{padding:8px;display:flex;justify-content:flex-start;flex-direction:column}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator{display:inline-flex;flex-direction:row;flex-wrap:wrap}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area{background-color:#e5e5e5;width:100%;height:240px;position:relative;display:flex;border:2px dashed #cacaca;overflow:hidden}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area.set{border:none}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area{width:520px;height:344px}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text{width:100%;position:absolute;left:50%;top:auto;bottom:15%;transform:translateX(-50%);text-align:center}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text{bottom:20%}}@media screen and (min-width:481px){.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text .uu5-bricks-header{font-size:30px;line-height:40px}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text .uu5-bricks-header{color:rgba(0,0,0,.36)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-imaging-thumbnail-generator-upload-text .uu5-bricks-p{font-size:16px;line-height:21px;color:rgba(0,0,0,.36)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file{height:100%;width:100%;margin:0}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file:not([class^=color-schema-]):not([class*=" color-schema-"]):not(.uu5-forms-file-selected):not(.uu5-common-disabled):not(.uu5-forms-input-read-only) .uu5-forms-items-input:hover:not(:focus):not(:active){background-color:transparent;border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-input-wrapper{margin:0}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-file-input-row{height:100%}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input{background-color:transparent;width:100%;height:100%;border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input:focus{background-color:transparent!important}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input .uu5-bricks-icon.mdi.mdi-cloud-upload{padding:0;height:auto;left:50%;top:10%;transform:translateX(-50%)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input .uu5-bricks-icon.mdi.mdi-cloud-upload:before{font-size:70px;color:rgba(0,0,0,.36)}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .uu5-forms-input.uu5-forms-file .uu5-forms-items-input .uu5-bricks-icon.mdi.mdi-cloud-upload{top:25%}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop{vertical-align:top}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop img{max-width:100%;max-height:240px}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop img{max-width:520px;max-height:344px}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection{border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection:after{width:100%;content:" ";display:block;border:2px dashed #fff;height:100%;transform:scale(1.01)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ReactCrop__drag-handle{margin:0;background:none;outline:none;border:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-ne,.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-nw,.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-sw{display:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop .ReactCrop__crop-selection .ReactCrop__drag-elements .ord-se{width:0;height:0;border-bottom:10px solid #fff;border-left:10px solid transparent;z-index:9}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop.avatar .ReactCrop__crop-selection,.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-image-area .ReactCrop.avatar .ReactCrop__crop-selection:after{border-radius:50%}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-img-align{margin:auto;align-self:center;max-width:100%;flex:none}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items{width:100%;padding-top:8px;align-self:flex-start;display:flex;flex-wrap:wrap;justify-content:center}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items{padding-top:0;padding-left:16px;width:152px;justify-content:flex-start}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item{width:64px;height:80px;position:relative;margin-right:4px;margin-bottom:8px}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item:last-child{margin-right:0}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item.selected{box-shadow:0 0 0 2px #3991e1;border-radius:4px}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item .uu5-imaging-thumbnail-generator-area-item{margin:0;border:none;cursor:pointer;background-color:#e5e5e5;background-size:100% 100%;background-repeat:no-repeat;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-mask-item p{position:absolute;left:50%;top:auto;bottom:0;transform:translateX(-50%);margin:0;font-size:10px;line-height:14px;color:#303030}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control{display:flex;flex-wrap:nowrap;justify-content:center;width:100%}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control{padding-top:16px;flex-wrap:wrap}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control a{display:block;padding-right:16px;color:#d0021b;font-size:12px;line-height:16px}@media screen and (min-width:769px){.uu5-imaging-thumbnail-generator-aside.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control a{padding:8px 0}}.uu5-imaging-thumbnail-generator .uu5-imaging-thumbnail-generator-mask-items .uu5-imaging-thumbnail-generator-button-control a:last-child{padding-right:0}',""])
},function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"Lightbox",(function(){return v})),n.d(i,"Image",(function(){return C})),n.d(i,"ThumbnailList",(function(){return M})),
n.d(i,"ImageRow",(function(){return Z})),n.d(i,"ImageColumn",(function(){return ne})),n.d(i,"Carousel",(function(){return ke})),n.d(i,"Input",(function(){return ot})),n.d(i,"UploadInput",(function(){
return pt})),n.d(i,"Adjustment",(function(){return Ee})),n.d(i,"ThumbnailGenerator",(function(){return yt}));var a=n(0),r=n.n(a),o="UU5.Imaging.",s="uu5-imaging-";n(10);function u(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
l(e,t,n[t])}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){
if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c,h=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin,r.a.Common.SwipeMixin],statics:{
tagName:o+"Lightbox.Body",classNames:{main:s+"lightbox-body",verticalAlign:s+"lightbox-body-vertical-align-helper",header:s+"lightbox-body-header",bodyContent:s+"lightbox-body-content",
white:s+"lightbox-body-white-color",gray:s+"lightbox-body-gray-color",counterWhite:s+"lightbox-body-counter-white",counterGray:s+"lightbox-body-counter-gray",
controlWhite:s+"lightbox-body-control-white",controlGray:s+"lightbox-body-control-gray",noDecoration:s+"lightbox-body-nodecoration",navigationArrow:s+"lightbox-body-navigation-arrow",
navigationArrowLeft:s+"lightbox-body-navigation-arrow-left",navigationArrowRight:s+"lightbox-body-navigation-arrow-right",preloadImage:s+"lightbox-body-preload-image"}},propTypes:{
getOption:r.a.PropTypes.func,setOption:r.a.PropTypes.func},getDefaultProps:function(){return{getOption:null,setOption:null}},getInitialState:function(){
var e=Object.assign({},this.props),t=this.props.getOptions();return{data:(e=Object.assign(e,t)).data,index:e.index,isLoaded:e.isLoaded,zoom:e.zoom,blackBackground:e.blackBackground,open:!1}},
componentWillReceiveProps:function(e){var t=Object.assign({},e),n=e.getOptions();return t=Object.assign(t,n),this.setData(t),this},componentDidMount:function(){this._mounted=!0,
this._checkImageLoaded()},componentWillMount:function(){this._bodyContent&&this._bodyContent.removeEventListener("wheel",this._mouseWheel,{passive:!1})},componentDidUpdate:function(){
this._checkImageLoaded()},onCloseModal:function(){return document.body.className=document.body.className.replace(new RegExp("modal-open","g"),"").trim(),
window.removeEventListener("keydown",this._keyPress),this._isOpen=!1,this},onOpenModal:function(){return window.addEventListener("keydown",this._keyPress),this._isOpen=!0,this},isOpen:function(){
return this._isOpen},setData:function(e,t){return this.setState({data:e.data,index:e.index,isLoaded:e.isLoaded,zoom:e.zoom,blackBackground:e.blackBackground},t),this},_checkImageLoaded:function(){
if(!this.state.isLoaded&&this._mainImage){var e=this._mainImage.findDOMNode();e.complete&&this._setImageLoaded(this.state.index,e)}},_allowZoom:function(){var e=this.state,t=e.index,n=e.data
;if(document.getElementById("lightbox-body")){var i=document.getElementById("lightbox-body").getBoundingClientRect(),a=n[t];return a.height>i.height||a.width>i.width}return!1},_toggleZoom:function(){
var e=this,t=this.state.zoom;t=!t,this.setState({zoom:t},(function(){e._bodyContent&&(e._bodyContent.scrollTop=0,e._bodyContent.scrollLeft=0)}))},_toggleBackground:function(){
var e=this.state.blackBackground;e=!e,this.setState({blackBackground:e}),this.props.setOptions({blackBackground:e})},_previousImage:function(){var e=this.state,t=e.index,n=(e.isLoaded,e.data)
;t=--t<0?n.length-1:t,this.setState({index:t,isLoaded:!1,zoom:!1}),this.props.setOptions({index:t})},_nextImage:function(){var e=this.state,t=e.index,n=e.data;e.isLoaded;t++,t%=n.length,
this.setState({index:t,isLoaded:!1,zoom:!1}),this.props.setOptions({index:t})},_getNavigationClassName:function(e){
var t=this.getClassName().navigationArrow,n=e?this.getClassName().navigationArrowRight:this.getClassName().navigationArrowLeft,i=this.state.blackBackground?this.getClassName().white:this.getClassName().gray
;return t.concat(" ",n," ",i)},_mouseWheel:function(e){(e.preventDefault(),this._allowZoom())&&(e.deltaY<0!==this.state.zoom&&this._toggleZoom())},_mouseDown:function(e){e.preventDefault(),
0===e.button&&this._handleStart(e.clientX,e.clientY)},_touchStart:function(e){this.swipeOnTouchStart(e),this._handleStart(e.touches[0].clientX,e.touches[0].clientY)},_handleStart:function(e,t){
this.state.zoom&&this.setState({startX:e,startY:t,mouseDrag:!0})},_mouseMove:function(e){e.preventDefault(),this._handleMove(e,e.clientX,e.clientY)},_touchMove:function(e){this.swipeOnTouchMove(e),
this._handleMove(e,e.touches[0].clientX,e.touches[0].clientY)},_handleMove:function(e,t,n){if(this.state.mouseDrag){var i=this.state,a=i.startX,r=i.startY;e.target.parentElement.scrollTop+=r-n,
e.target.parentElement.scrollLeft+=a-t,this.setState({startX:t,startY:n})}},_mouseUp:function(e){e.preventDefault(),this.state.mouseDrag&&this.setState({mouseDrag:!1})},_touchEnd:function(e){
this.swipeOnTouchEnd(e),this.state.mouseDrag?this.setState({mouseDrag:!1
}):this.isSwipedRightLong()&&this.getSwipeLength()>69?this._previousImage():this.isSwipedLeftLong()&&this.getSwipeLength()>69&&this._nextImage()},_keyPress:function(e){
"ArrowLeft"===e.code?this._previousImage():"ArrowRight"===e.code?this._nextImage():"Escape"===e.code&&this.props.closeModal()},_setImageLoaded:function(e,t){var n=t.naturalWidth,i=t.naturalHeight
;this.setState((function(t){var a=t.data;return{isLoaded:!0,data:a=[].concat(g(a.slice(0,e)),[u({},a[e],{width:n,height:i})],g(a.slice(e+1)))}}))},_setImageError:function(e,t){this.setState({
isLoaded:!0})},_getHeader:function(){var e=this.state,t=e.index,n=e.data,i=this._allowZoom();return r.a.Common.Element.create(r.a.Bricks.Div,{className:this.getClassName().header
},r.a.Common.Element.create(r.a.Bricks.Text,{className:this.state.blackBackground?this.getClassName().counterWhite:this.getClassName().counterGray
},n.length>1?t+1+"/"+n.length:null),r.a.Common.Element.create(r.a.Bricks.Span,{style:{marginLeft:"auto",marginRight:"10px"}},i&&r.a.Common.Element.create(r.a.Bricks.Link,{onClick:this._toggleZoom,
className:this.getClassName("noDecoration")},r.a.Common.Element.create(r.a.Bricks.Icon,{icon:this.state.zoom?"mdi-magnify-minus-outline":"mdi-magnify-plus-outline",style:{marginRight:"6px"},
className:this.state.blackBackground?this.getClassName().controlWhite:this.getClassName().controlGray})),r.a.Common.Element.create(r.a.Bricks.Link,{onClick:this._toggleBackground,
className:this.getClassName("noDecoration")},r.a.Common.Element.create(r.a.Bricks.Icon,{icon:"mdi-contrast-box",style:{marginRight:"12px"},
className:this.state.blackBackground?this.getClassName().controlWhite:this.getClassName().controlGray})),r.a.Common.Element.create(r.a.Bricks.Link,{onClick:this.props.closeModal,
className:this.getClassName("noDecoration")},r.a.Common.Element.create(r.a.Bricks.Icon,{icon:"mdi-close",
className:this.state.blackBackground?this.getClassName().controlWhite:this.getClassName().controlGray}))))},_setMainImageRef:function(e){this._mainImage=e,e&&this._mounted&&this._checkImageLoaded()},
_setBodyDivRef:function(e){this._bodyContent&&this._bodyContent.removeEventListener("wheel",this._mouseWheel,{passive:!1}),e?(this._bodyContent=e.findDOMNode(),
this._bodyContent.addEventListener("wheel",this._mouseWheel,{passive:!1})):this._bodyContent=null},render:function(){
var e=this,t=this.state,n=t.data,i=t.index,a=n[i],o=(i+1)%n.length,s=0===i?n.length-1:i-1,u=this.getMainPropsToPass();u.style=u.style||{},u.style.background=this.state.blackBackground?"black":"white"
;var l=this.state.isLoaded?void 0:this.getClassName("preloadImage");return this.state.blackBackground?l+=" "+this.getClassName("white"):l+=" "+this.getClassName("grey"),
r.a.Common.Element.create(r.a.Bricks.Div,u,this._getHeader(!1,!1),r.a.Common.Element.create(r.a.Bricks.Div,{id:"lightbox-body",className:this.getClassName().bodyContent,ref_:this._setBodyDivRef,
mainAttrs:{onMouseMove:this._mouseMove,onMouseDown:this._mouseDown,onMouseUp:this._mouseUp,onTouchStart:this._touchStart,onTouchMove:this._touchMove,onTouchEnd:this._touchEnd}
},!this.state.zoom&&this.state.data.length>1&&r.a.Common.Element.create(r.a.Bricks.Link,{onClick:this._previousImage,className:this.getClassName("noDecoration")
},r.a.Common.Element.create(r.a.Bricks.Icon,{className:this._getNavigationClassName(!1),icon:"mdi-chevron-left"})),!this.state.zoom&&r.a.Common.Element.create(r.a.Bricks.Span,{
className:this.getClassName().verticalAlign}),!this.state.isLoaded&&r.a.Common.Element.create(r.a.Bricks.Loading,{style:{display:"inline-block"}}),r.a.Common.Element.create(r.a.Bricks.Image,{
ref_:this._setMainImageRef,responsive:!1,className:l,src:a.src,alt:a.alt,authenticate:a.authenticate,style:this.state.zoom?{maxWidth:"none",cursor:"move"}:{maxWidth:"100%",maxHeight:"100%"},
mainAttrs:{onLoad:function(t){return e._setImageLoaded(i,t.target)},onError:function(t){return e._setImageError(i,t.target)}}
}),!this.state.zoom&&this.state.data.length>1&&r.a.Common.Element.create(r.a.Bricks.Link,{onClick:this._nextImage,className:this.getClassName("noDecoration")
},r.a.Common.Element.create(r.a.Bricks.Icon,{icon:"mdi-chevron-right",className:this._getNavigationClassName(!0)})),o!==i&&r.a.Common.Element.create(r.a.Bricks.Image,{
className:this.getClassName("preloadImage"),responsive:!1,alt:n[o].alt,src:n[o].src,authenticate:n[o].authenticate}),s!==i&&s!==o&&r.a.Common.Element.create(r.a.Bricks.Image,{
className:this.getClassName("preloadImage"),responsive:!1,src:n[s].src,alt:n[s].alt,authenticate:n[s].authenticate})))}});n(13);function m(){return(m=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
f(e,t,n[t])}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){
return c||((c=document.createElement("div")).id="uu5-imaging-lightbox-modal-root",document.body.appendChild(c)),c}var v=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin],statics:{
tagName:o+"Lightbox",classNames:{main:s+"lightbox"},defaults:{key:"general"}},propTypes:{data:r.a.PropTypes.array,blackBackground:r.a.PropTypes.bool,name:r.a.PropTypes.string},
getDefaultProps:function(){return{data:[],blackBackground:!0}},componentWillMount:function(){var e=this,t=this.props.name||this.getDefault("key")
;r.a.Environment.Lightboxes=r.a.Environment.Lightboxes||{},r.a.Environment.Lightboxes[t]=r.a.Environment.Lightboxes[t]||[],r.a.Environment.Lightboxes[t].push(this),this._createPortal(),
this._options={};var n=this.props.data&&this.props.data.map((function(t){return d({},t,{sourceLightbox:e})})),i={blackBackground:this.props.blackBackground,index:0,data:n};if(this._setOptions(i),
!this._isTargetLightbox()&&n){var a=this._getTargetLightbox();n.forEach((function(t){a._addImage(t.src,t.id,t.authenticate,t.sourceComponent,e,null,t.alt)}))}},componentWillUnmount:function(){
this._unregisterLightbox(),this._removePortal()},componentWillReceiveProps:function(e){var t,n=this;if(this._isTargetLightbox()){if(this.props.name!==e.name){var i=e.name||this.getDefault("key")
;r.a.Environment.Lightboxes=r.a.Environment.Lightboxes||{},this._unregisterLightbox(),r.a.Environment.Lightboxes[i]=r.a.Environment.Lightboxes[i]||[],r.a.Environment.Lightboxes[i].push(this)}t={
blackBackground:e.blackBackground}}if(this.props.data!==e.data){var a=[this];this._isTargetLightbox()||a.push(this._getTargetLightbox()),a.forEach((function(t){n.props.data.forEach((function(e){
t._options.data=t._options.data.filter((function(t){return!(t===e||t.id===(e.id||e.src))}))})),(e.data&&e.data.map((function(e){return d({},e,{sourceLightbox:n})}))).forEach((function(e){
t._addImage(e.src,e.id,e.authenticate,e.sourceComponent,n,!0,e.alt)}))}))}t&&this._setOptions(t)},addImage:function(e,t,n,i,a){return void 0===t&&(t=e),
this._isTargetLightbox()?this._addImage(e,t,n,i,this,null,a):this._getTargetLightbox()._addImage(e,t,n,i,this,null,a),this},removeImage:function(e){if(this._isTargetLightbox()){
var t=this._findIndex(e);this._options.data.splice(t,1)}else this._getTargetLightbox().removeImage(e);return this},replaceImage:function(e,t){if(this._isTargetLightbox()){void 0===t&&(t=e)
;var n=this._findIndex(t);this._options.data[n].src=e}else this._getTargetLightbox().replaceImage(e,t);return this},getImages:function(){
return this._isTargetLightbox()?this._options.data:this._getTargetLightbox().getImages()},getImage:function(e){if(this._isTargetLightbox()){var t=this._findIndex(e);return this._options.data[t]}
this._getTargetLightbox().getImage(e)},getImageBySrc:function(e){if(this._isTargetLightbox()){var t=this._findIndexBySrc(e);return this._options.data[t]}this._getTargetLightbox().getImageBySrc(e)},
open:function(e,t){var n=this;if(this._isTargetLightbox()){if(this._options.data.length){if(this._options.data.sort((function(e,t){var n;if(e.sourceComponent===t.sourceComponent)n=0;else{
var i=e.sourceComponent?e.sourceComponent.findDOMNode():null,a=t.sourceComponent?t.sourceComponent.findDOMNode():null
;if(i&&a)n=i.compareDocumentPosition(a)&document.DOCUMENT_POSITION_FOLLOWING?-1:1;else n=i?-1:1}return n})),void 0!==e){var i
;if(-1===(i="number"==typeof e?e:"string"==typeof e?this._findIndex(e):0))return void r.a.Common.Tools.warning("Target Lightbox can't find the image that you are trying to open.");this._setOptions({
index:i})}this._modal.open({content:this._getBody()},(function(){n._onOpen(),"function"==typeof t&&t()}))}}else this._getTargetLightbox().open(e,t);return this},close:function(e){
return this._isTargetLightbox()?this._onClose({component:this._modal,callback:e}):this._getTargetLightbox().close(e),this},_addImage:function(e,t,n,i){
var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,r=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return void 0===t&&(t=e),
r||this._isTargetLightbox()?this._options.data.push({id:t,src:e,authenticate:n,sourceComponent:i,sourceLightbox:a,alt:o}):this._getTargetLightbox()._addImage(e,t,n,i,a,o),this},
_createPortal:function(){this._portalElement=document.createElement("div"),this._portalElement.id=this.getId()+"_portal",b().appendChild(this._portalElement)},_removePortal:function(){
b().removeChild(this._portalElement)},_getTargetLightbox:function(){var e=this.props.name||this.getDefault("key");return r.a.Environment.Lightboxes[e][0]},_unregisterLightbox:function(){
var e=this,t=this.props.name||this.getDefault("key"),n=r.a.Environment.Lightboxes[t][0];r.a.Environment.Lightboxes[t].forEach((function(n,i){return n===e?r.a.Environment.Lightboxes[t].splice(i,1):null
}));var i=r.a.Environment.Lightboxes[t][0];n!==i&&i&&(this._options.data=this._options.data.filter((function(t){return t.sourceLightbox!==e})),i._setOptions(this._options),i.forceUpdate())},
_findIndexByType:function(e,t){if("function"==typeof this._options.data.findIndex)return this._options.data.findIndex((function(n){return n[e]===t}))
;for(var n=0;n<this._options.data.length;n++)if(this._options.data[n][e]===t)return n},_findIndex:function(e){return this._findIndexByType("id",e)},_findIndexBySrc:function(e){
return this._findIndexByType("src",e)},_isTargetLightbox:function(){return this._getTargetLightbox().getId()===this.getId()},_setOptions:function(e){return e&&e.data&&e.data.forEach((function(e){
void 0===e.id&&(e.id=e.src)})),Object.assign(this._options,e),this},_getOptions:function(){return this._options},_onOpen:function(){return this._lightboxBody&&this._lightboxBody.onOpenModal(),this},
_onClose:function(e){return this._lightboxBody&&this._lightboxBody.onCloseModal(),e.component.close(!1,e.callback),this},_getBody:function(){var e=this;return r.a.Common.Element.create(h,{
ref_:function(t){return e._lightboxBody=t},setOptions:this._setOptions,getOptions:this._getOptions,closeModal:function(){return e._onClose({component:e._modal})}})},render:function(){var e=this
;return this._isTargetLightbox()?r.a.Common.Portal.create(r.a.Common.Element.create(r.a.Bricks.Modal,m({},this.getMainPropsToPass(),{ref_:function(t){return e._modal=t},onClose:function(t){
return e._onClose(t)},forceRender:!0})),this._portalElement):null}}),y=v;n(4),n(15);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n,e}function _(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))
}(["\n      && {\n        border-radius: ",";\n      }\n  "]);return _=function(){return e},e}var C=a.Common.VisualComponent.create({
mixins:[a.Common.BaseMixin,a.Common.ElementaryMixin,a.Common.PureRenderMixin],statics:{tagName:o+"Image",classNames:{main:s+"image",effectCaption:s+"image-effect-caption",img:s+"image-img",
landscape:s+"image-landscape",portrait:s+"image-portrait",effect:s+"image-effect-",shape:s+"image-shape-",fit:s+"image-fit-",originalDimensionsWidth:s+"image-original-dimensions-width",
fitCoverNoScaleUpCenter:s+"image-fit-covernoscaleup-center",crop:s+"image-crop",loading:s+"image-loading",loadingAnimation:s+"image-loading-animation",fitWidth:s+"image-fit-width",
autoWidth:s+"image-auto-width",autoHeight:s+"image-auto-height",focusWrapper:function(e){return s+"image-focus-wrapper "+a.Common.Css.css(_(),e.borderRadius)}},opt:{pureRender:!0}},propTypes:{
src:a.PropTypes.string,loadingSrc:a.PropTypes.string,thumb:a.PropTypes.string,caption:a.PropTypes.string,fit:a.PropTypes.oneOf(["default","coverNoScaleUp"]),
effect:a.PropTypes.oneOf(["none","zoom","grayscale","blur","sepia","invert","tilt","morph"]),
shape:a.PropTypes.oneOf(["default","rounded","square","roundedSquare","circle","rect","rect4x3","rect3x2","rect5x4","rect2x1","rect3x1","rect4x1","rect45x10","rect16x9","rect16x10","rect3x4","rect4x5","rect2x3","rect1x2","roundedRect","roundedRect4x3","roundedRect3x2","roundedRect5x4","roundedRect2x1","roundedRect3x1","roundedRect4x1","roundedRect45x10","roundedRect16x9","roundedRect16x10","roundedRect3x4","roundedRect4x5","roundedRect2x3","roundedRect1x2"]),
width:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),height:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),onClick:a.PropTypes.func,
lightbox:a.PropTypes.oneOfType([a.PropTypes.bool,a.PropTypes.string]),authenticate:a.PropTypes.bool,alt:a.PropTypes.string,originalDimensions:a.PropTypes.bool,aspectRatio:a.PropTypes.string},
getDefaultProps:function(){return{src:"",loadingSrc:"",thumb:"",caption:"",fit:"default",effect:"none",shape:"default",width:null,height:null,onClick:null,lightbox:null,authenticate:!1,alt:void 0,
originalDimensions:!1,aspectRatio:null}},getInitialState:function(){return{orientation:"default",loading:!!this.props.loadingSrc,imageWidth:0,imageHeight:0,originalWidth:0,originalHeight:0,
aspectRatioWidth:0,aspectRatioHeight:0}},componentWillMount:function(){this._setOrientation(this.props)},componentWillUnmount:function(){
a.Environment.EventListener.removeWindowEvent("keyup",this.getId()),this._lb&&this._lb.removeImage(this.getId())},componentDidMount:function(){
this._lb&&this._lb.addImage(this.props.src,this.getId(),this.props.authenticate,this,this.props.alt,this.props.borderRadius)},componentWillReceiveProps:function(e){
e.loadingSrc&&this._getSrc(e)!==this._getSrc(this.props)&&this.setState({loading:!0}),e.controlled&&this._setOrientation(e),
e.id===this.props.id&&e.src===this.props.src||!this._lb||this._lb.replaceImage(e.src,this.getId())},componentDidUpdate:function(e,t){
((this.props.width!==e.width||this.props.height!==e.height||this.props.aspectRatio!==e.aspectRatio)&&this.props.aspectRatio||this.props.shape!==e.shape||this.props.fit!==e.fit||"coverNoScaleUp"===this.props.fit&&(this.props.width!==e.width||this.props.height!==e.height))&&this._onLoad()
},_getDimension:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=1,n=1,i=e.match(/[Rr]ect(?:(\d+)x(\d+))?$/);return i&&(t=i[1]?+i[1]:4,n=i[2]?+i[2]:3),{x:t,y:n}},
_getOrientation:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=t.shape||"default";switch(/[Rr]ect/.test(n)&&(n="rect"),n){case"square":case"roundedSquare":
case"circle":e="landscape";break;case"rect":var i=this._getDimension(t.shape);if(this._img){var a=this._img.findDOMNode(),r={height:a.naturalHeight,width:a.naturalWidth}
;void 0!==r.width&&void 0!==r.height||(r=a.getBoundingClientRect()),e=r.height/r.width>=i.y/i.x?"portrait":"landscape"}else e=i.x>i.y?"landscape":"portrait";break;default:e="default"}return e},
_setOrientation:function(e){this.setState({orientation:this._getOrientation(e)})},_getShape:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=this.getClassName("shape")+e.toLowerCase();if(-1===["default","rounded"].indexOf(e)){t+=" "+this.getClassName("crop"),
/^rounded/.test(e)&&(t+=" "+this.getClassName("shape")+"rounded");var n=e.match(/Rect(\d+x\d+)?$/);n&&(t+=" "+this.getClassName("shape")+"rect"+(n[1]?n[1]:""))}return t},_getEffect:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.getClassName("effect")+e},_getFit:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=""
;return("default"!==this.state.orientation||this.props.width&&this.props.height)&&(t=this.getClassName("fit")+e.toLowerCase(),
"coverNoScaleUp"===e&&!1!==this.state.fitCoverNoScaleUpCenter&&(t+=" "+this.getClassName("fitCoverNoScaleUpCenter"))),t},_getAspectRatioDimension:function(){
var e=this.props.aspectRatio.split(/:|x|\//),t=e[0],n=e[1],i=null,a=null;this.props.width&&!this.props.height&&(a=n/t*(i=parseInt(this.props.width))),
this.props.height&&!this.props.width&&(i=t/n*(a=parseInt(this.props.height))),this.setState({aspectRatioWidth:i,aspectRatioHeight:a})},_getFrameDiv:function(e){var t=this.getMainPropsToPass()
;if((this.props.width||this.props.height)&&(t.style=t.style||{},this.props.width&&(t.style.width=/\d+$/.test(this.props.width)?this.props.width+"px":this.props.width),
this.props.height&&(t.style.height=/\d+$/.test(this.props.height)?this.props.height+"px":this.props.height)),t.className+=" "+this._getShape(this.props.shape)+" "+this._getEffect(this.props.effect),
this.props.originalDimensions&&(t.className+=" "+this.getClassName("originalDimensionsWidth")),this.props.height&&!this.props.width)if(t.className+=" "+this.getClassName("fitWidth"),
"default"!==this.props.shape&&"rounded"!==this.props.shape){var n=this._getDimension(this.props.shape),i=parseFloat(this.props.height);t.style.width=i*(n.x/n.y)+"px"
}else if(!this.state.loading&&this.state.imageWidth&&this.state.imageHeight){var r=parseFloat(this.props.height);t.style.width=r*(this.state.imageWidth/this.state.imageHeight)+"px"}
var o=this.props.loadingSrc&&this.state.loading&&a.Common.Element.create("div",{className:this.getClassName("loadingAnimation")});if(!this.state.loading){var s=function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
x(e,t,n[t])}))}return e}({},t.mainAttrs);s.tabIndex="0",s.onFocus=this._onFocus,s.onBlur=this._onBlur,t.mainAttrs=s}
return a.Common.Element.create(a.Bricks.Div,t,o,this.state.loading&&this.props.loadingSrc&&a.Common.Element.create(a.Bricks.Image,{authenticate:this.props.authenticate,key:"loading",
src:this.props.loadingSrc,className:this._getImageClassName(),alt:this.props.alt,borderRadius:this.props.borderRadius}),e,"blur"===this.props.effect&&a.Common.Element.create(a.Bricks.Div,{
className:this.getClassName("effectCaption"),content:this.props.caption}),a.Common.Element.create("div",{className:this.getClassName("focusWrapper")}))},_getSrc:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.thumb||e.src},_getImageClassName:function(){var e=this.getClassName("img");switch(this.state.orientation){
case"portrait":e+=" "+this.getClassName("portrait");break;case"landscape":e+=" "+this.getClassName("landscape")}return e+=" "+this._getFit(this.props.fit),
this.props.height&&!this.props.width?e+=" "+this.getClassName("autoWidth"):e+=" "+this.getClassName("autoHeight"),e},_getImage:function(){
var e=this,t=this._getSrc(),n=this.state.loading&&this.props.loadingSrc?this.getClassName("loading"):this._getImageClassName(),i=null,r=null
;return this.props.aspectRatio&&(i=this.state.aspectRatioWidth,r=this.state.aspectRatioHeight),this.props.originalDimensions&&(i=this.state.originalWidth,r=this.state.originalHeight),
a.Common.Element.create(a.Bricks.Image,{name:this.getName(),src:t,alt:this.props.alt,borderRadius:this.props.borderRadius,ref_:function(t){return e._img=t},width:i,height:r,className:n,responsive:!1,
mainAttrs:{onLoad:this._onLoad,onError:this._onError},authenticate:this.props.authenticate})},_getThumbnail:function(){var e=this;return[a.Common.Element.create(a.Bricks.Link,{key:"1",
onClick:this.props.onClick||this._showLightbox},this._getImage()),a.Common.Element.create(y,{key:"2",ref_:function(t){return e._lb=t},name:!0===this.props.lightbox?"":this.props.lightbox})]},
_showLightbox:function(){this._lb.open(this.getId())},_onFocus:function(){var e=this;a.Environment.EventListener.addWindowEvent("keyup",this.getId(),(function(t){
13===t.which&&!e.isDisabled()&&e._showLightbox()}))},_onBlur:function(){a.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_onLoad:function(e){var t={loading:!1}
;e&&(t.imageWidth=e.target.naturalWidth,t.imageHeight=e.target.naturalHeight,this.setState({originalWidth:e.target.naturalWidth}),this.setState({originalHeight:e.target.naturalHeight}))
;var n=t.imageWidth||this.state.imageWidth,i=t.imageHeight||this.state.imageHeight;if(this.props.aspectRatio&&this._getAspectRatioDimension(),
"default"!==this.state.orientation&&(t.orientation=this._getOrientation()),"coverNoScaleUp"===this.props.fit){
var r=a.Common.DOM.findNode(),o=r?r.getBoundingClientRect().width:parseFloat(this.props.width),s=r?r.getBoundingClientRect().height:parseFloat(this.props.height);t.fitCoverNoScaleUpCenter=n<o||i<s}
this.setState(t)},_onError:function(e){this.setState({loading:!1})},render:function(){
return this._getFrameDiv(!1!==this.props.lightbox?this._getThumbnail():a.Common.Element.create(a.Bricks.Span,null,this._getImage()))}}),w=C,I={fileExtension:/^[\w,\s-]+\.[A-Za-z]{3}$/},k={
fetchAuthenticatedImage:function(e,t){return r.a.Common.Request.get(e,null,{headers:{Accept:"image/*,*/*;q=0.8",Authorization:t?"Bearer "+t:void 0}})}};function P(e){return function(e){
if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e
}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,i,a,r,o){try{var s=e[r](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,a)}
var L,R,j=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin,r.a.Common.ElementaryMixin],statics:{tagName:o+"ThumbnailListBody",classNames:{main:s+"thumbnail-list-body",
mode:s+"thumbnail-list-mode-"},defaults:{padding:2},imageCache:{}},propTypes:{path:r.a.PropTypes.string,data:r.a.PropTypes.arrayOf(r.a.PropTypes.oneOfType([r.a.PropTypes.string,r.a.PropTypes.shape({
src:r.a.PropTypes.string.isRequired,thumb:r.a.PropTypes.string,alt:r.a.PropTypes.string})])).isRequired,mode:r.a.PropTypes.oneOf(["default","track"]),colWidth:r.a.PropTypes.string,
shape:r.a.PropTypes.string,effect:r.a.PropTypes.string,thumbSuffix:r.a.PropTypes.string,lightbox:r.a.PropTypes.oneOf(["local","global","none"]),rowMaxHeight:r.a.PropTypes.number,
rowMinHeight:r.a.PropTypes.number,lastRowMaxHeight:r.a.PropTypes.number,rowWidth:r.a.PropTypes.number,session:r.a.PropTypes.object},getDefaultProps:function(){return{path:"",data:[],mode:"default",
colWidth:"xs-6 s-3 m-2 l-1 xl-1",shape:void 0,effect:void 0,thumbSuffix:"_th",lightbox:"local",rowMaxHeight:160,rowMinHeight:100,lastRowMaxHeight:void 0,rowWidth:void 0,session:void 0}},
getInitialState:function(){return void 0!==this.props.globalLightbox&&r.a.Common.Tools.warning('Property "globalLightbox" is deprecated! Use "globalLightbox" property instead.'),{index:0,imgList:[],
boundingRect:null}},componentDidMount:function(){this.props.data.length>0&&this._loadImages()},componentWillReceiveProps:function(e){
e.controlled&&!r.a.Common.Tools.deepEqual(this.props.data,e.data)&&(e.data.length?this._loadImages(e):this.setState({imgList:[]}))},_loadImages:(L=regeneratorRuntime.mark((function e(){
var t,n,i,a,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:this.props,this._dataChangeId=Math.random(),n=[],
i=this._dataChangeId,a=0;case 5:if(!(a<t.data.length)){e.next=15;break}return e.next=8,this._loadImage(t.data[a],t.authenticate,t.session);case 8:if(r=e.sent,i===this._dataChangeId){e.next=11;break}
return e.abrupt("return");case 11:r&&(n.push(r),this.setAsyncState({imgList:n}));case 12:a++,e.next=5;break;case 15:this.setAsyncState({imgList:n});case 16:case"end":return e.stop()}}),e,this)})),
R=function(){var e=this,t=arguments;return new Promise((function(n,i){var a=L.apply(e,t);function r(e){E(a,n,i,r,o,"next",e)}function o(e){E(a,n,i,r,o,"throw",e)}r(void 0)}))},function(){
return R.apply(this,arguments)}),_loadImage:function(e,t,n){var i=this;"string"==typeof e&&(e={src:e}),this.props.path&&(e.src=this.props.path+e.src,e.thumb&&(e.thumb=this.props.path+e.thumb))
;var a,o=e.thumb||this._getThumbnail(e.src),s=this.constructor.imageCache[o];if(s)a=s;else if(t&&(n=n||r.a.Environment.getSession())&&n.isAuthenticated()&&r.a.Environment.isTrustedDomain(o)){
var u=n.getCallToken().token;a=new Promise((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
S(e,t,n[t])}))}return e}({},e);k.fetchAuthenticatedImage(o,u).then((function(e){n.thumb=URL.createObjectURL(e.data),t(i._getImageData(n,o))}),(function(a){
k.fetchAuthenticatedImage(e.src,u).then((function(a){n.thumb=URL.createObjectURL(a.data),t(i._getImageData(n,e.src))}),(function(e){n.thumb="data:image/gif;base64,ZZZZZZZZ",t(i._getImageData(n,o))}))
}))}))}return a||(a=this._getImageData(e,o)),a},_getImageData:function(e,t){var n=this;return new Promise((function(i){var a,r;e&&"object"===O(e)?(a=e.src,r=e.thumb||e.lightboxSrc):a=e,
r=r||n._getThumbnail(a);var o=new window.Image,s=!0;o.onload=function(){var u={lightboxSrc:a,thumb:s?r:a,width:o.width,height:o.height,alt:e.alt||""};n.constructor.imageCache[t]=u,i(u)},
o.onerror=function(){if(s)return s=!1,o.src=a,void(o.alt=e.alt||"");i(null)},o.src=r}))},_getThumbnail:function(e){var t,n=e.lastIndexOf(".");if(-1!==n){var i=e.substr(0,n),a=e.substr(n+1)
;I.fileExtension.test(a)&&(t=i+this.props.thumbSuffix+"."+a)}return t||(t=e+this.props.thumbSuffix),t},_getLightbox:function(){
return"global"===this.props.lightbox?null:"none"!==this.props.lightbox&&(!0===this.props.globalLightbox?null:this.getId())},_getRowItems:function(e,t){var n=2*this.getDefault().padding
;return(t-=(e.length-1)*n)/e.reduce((function(e,t){return e+1*t.width/t.height}),0)},_setHeight:function(e,t,n,i){var a=[],r=i;if(1===e.length)a.push({lightboxSrc:e[0].lightboxSrc,thumb:e[0].thumb,
alt:e[0].alt,caption:e[0].caption,width:Math.min(r,n*e[0].width/e[0].height),height:n,column:0,row:t});else for(var o=0;o<e.length;o++)a.push({column:o,row:t,lightboxSrc:e[o].lightboxSrc,
thumb:e[o].thumb,caption:e[o].caption,alt:e[o].alt,width:n*e[o].width/e[o].height,height:n,left:0===o?0:this.getDefault().padding,right:o===e.length-1?0:this.getDefault().padding});return a},
_getTrackGrid:function(e,t,n,i,a){n=n||[160],i=i||100,Array.isArray(n)||(n=[n]);for(var r=0,o=0,s=[],u=[];r<e.length;){for(var l=n[o%n.length],g=!1,p=e[r].height,c=0,h=r;h<e.length;h++){
var m=e.slice(r,h+1);if(c=p,(p=this._getRowItems(m,t))<l){p<i&&h>r?(m=e.slice(r,h),r=h,p=c):r=h+1,u=this._setHeight(m,o,p,t),s.push(u),g=!0;break}}if(o++,!g){if(p>l){
for(var d=p,f=r,b=P(s),v=e.slice(r),y=s.length-1;y>=0&&v.length>0;y--){var x=s[y].length;r-=x;var _=e.slice(r,r+x).concat(v),C=void 0;for(v=[];(C=this._getRowItems(_,t))<i&&(v.push(_.shift()),
!(_.length<=1)););s[y]=this._setHeight(_,y,C,t)}if(v.length){s=b;var w="number"!=typeof a?1.6*l:a,I=this._setHeight(e.slice(f),o,d<=w?d:l,t);s.push(I)}}else u=this._setHeight(e.slice(r),o,p,t),
s.push(u);break}}return s},_getChildrenDefault:function(){var e=this;return r.a.Common.Element.create(r.a.Bricks.Row,null,this.state.imgList.map((function(t,n){
var i=e.props.colWidth&&e.props.colWidth.trim();return r.a.Common.Element.create(r.a.Bricks.Column,{colWidth:i,key:n},r.a.Common.Element.create(w,{src:t.lightboxSrc,thumb:t.thumb,alt:t.alt,
caption:t.caption,effect:e.props.effect,shape:e.props.shape,lightbox:e._getLightbox(),authenticate:e.props.authenticate}))})))},_getChildren:function(){var e;switch(this.props.mode){case"track":
e=this._getChildrenTrack();break;default:e=this._getChildrenDefault()}return e||null},_getChildrenTrack:function(){
for(var e=this.props.rowWidth,t=this._getTrackGrid(this.state.imgList,e,this.props.rowMaxHeight,this.props.rowMinHeight,this.props.lastRowMaxHeight),n=[],i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++){
var o=t[i][a];n.push(r.a.Common.Element.create(r.a.Bricks.Div,{key:i+"-"+a,className:this.getClassName("mode")+this.props.mode,style:{width:o.width,height:o.height,
marginTop:i?this.getDefault().padding:0,marginBottom:i===t.length-1?0:this.getDefault().padding,marginLeft:o.left,marginRight:o.right}},r.a.Common.Element.create(w,{thumb:o.thumb,src:o.lightboxSrc,
alt:o.alt,caption:o.caption,effect:this.props.effect,lightbox:this._getLightbox(),height:o.height,authenticate:this.props.authenticate})))}return n},render:function(){return this._getChildren()}})
;n(17);function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e
}).apply(this,arguments)}var A={data:!0,effect:!0,shape:!0,thumbSuffix:!0,lightbox:!0,rowMaxHeight:!0,rowMinHeight:!0,lastRowMaxHeight:!0,colWidth:!0,alignment:!0,rowWidth:!0,session:!0,
authenticate:!0,mode:!0,path:!0},M=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin,r.a.Common.ElementaryMixin],statics:{tagName:o+"ThumbnailList",classNames:{main:s+"thumbnail-list",
mode:s+"thumbnail-list-mode-"}},propTypes:{data:r.a.PropTypes.any,authenticate:r.a.PropTypes.bool,mode:r.a.PropTypes.string},getDefaultProps:function(){return{data:[],authenticate:!1,mode:"default"}},
_renderResizeBody:function(e){var t=e.width,n=e.height;return 0===t&&0===n?null:this._renderBody(t)},_renderBody:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.props.data||[],n={};for(var i in A)n[i]=this.props[i]
;return n.authenticate?r.a.Common.Element.create(r.a.Common.SessionContext.Consumer,null,(function(i){return r.a.Common.Element.create(j,N({},n,{rowWidth:e,data:t,session:i?i.session:void 0}))
})):r.a.Common.Element.create(j,N({},n,{data:t,rowWidth:e}))},render:function(){
return"track"===this.props.mode?r.a.Common.Element.create(r.a.Bricks.Resize,this.getMainPropsToPass(),this._renderResizeBody):r.a.Common.Element.create(r.a.Bricks.Div,this.getMainPropsToPass(),this._renderBody())
}});function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function U(e,t,n,i,a,r,o){try{var s=e[r](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,a)}function W(e){return function(e){
if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var H=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin,r.a.Common.ElementaryMixin],statics:{
tagName:o+"ImageRowBody",classNames:{main:s+"image-row-body",imageWrapper:function(){return r.a.Common.Css.css("\n        & + & {\n          margin-left: 4px;\n        }\n      ")}},imageCache:{}},
propTypes:{data:r.a.PropTypes.arrayOf(r.a.PropTypes.oneOfType([r.a.PropTypes.string,r.a.PropTypes.shape({src:r.a.PropTypes.string.isRequired,thumb:r.a.PropTypes.string,alt:r.a.PropTypes.string
})])).isRequired,effect:r.a.PropTypes.string,thumbSuffix:r.a.PropTypes.string,lightbox:r.a.PropTypes.oneOf(["local","global","none"]),authenticate:r.a.PropTypes.bool,
minHeight:r.a.PropTypes.oneOfType([r.a.PropTypes.number,r.a.PropTypes.string]),maxHeight:r.a.PropTypes.oneOfType([r.a.PropTypes.number,r.a.PropTypes.string]),alignment:r.a.PropTypes.string,
rowWidth:r.a.PropTypes.number,session:r.a.PropTypes.object},getDefaultProps:function(){return{data:null,effect:void 0,thumbSuffix:"_th",lightbox:"local",minHeight:100,maxHeight:160,alignment:"block",
rowWidth:void 0,session:void 0,authenticate:!1}},getInitialState:function(){return{imgList:[]}},componentDidMount:function(){this._loadImages()},componentWillReceiveProps:function(e){
e.controlled&&!r.a.Common.Tools.deepEqual(this.props.data,e.data)?e.data.length?this._loadImages(e):this.setState({imgList:[]
}):this.props.rowWidth===e.rowWidth&&this.props.minHeight===e.minHeight&&this.props.maxHeight===e.maxHeight||this._loadImages(e)},_getRowItems:function(e,t,n){var i=[],a=n;if(1===e.length)i.push({
lightboxSrc:e[0].lightboxSrc,thumb:e[0].thumb,alt:e[0].alt,caption:e[0].caption,width:Math.min(a,t*e[0].width/e[0].height),height:t,column:0});else for(var r=0;r<e.length;r++)i.push({column:r,
lightboxSrc:e[r].lightboxSrc,thumb:e[r].thumb,caption:e[r].caption,alt:e[r].alt,width:t*e[r].width/e[r].height,height:t,left:0===r?0:2,right:r===e.length-1?0:2});return i},_getHeight:function(e,t){
return(t-=4*(e.length-1))/e.reduce((function(e,t){return e+1*t.width/t.height}),0)},_getRowImages:function(e,t,n,i){n=n||160,i=i||100;for(var a=[[]],r=0;r<e.length;r++){
var o=e.slice(0,r+1),s=this._getHeight(o,t);if(s<=n){if(s<i&&r>0)break;a=[o,s,t]}else a=[o,s=Math.min(s,n),t]}return this._getRowItems.apply(this,W(a))},_loadImages:function(){var e=function(e){
return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){U(r,i,a,o,s,"next",e)}function s(e){U(r,i,a,o,s,"throw",e)}o(void 0)}))}
}(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:this.props,
this._dataChangeId=Math.random(),n=[],i=this._dataChangeId,a=0;case 5:if(!(a<t.data.length)){e.next=21;break}return e.next=8,this._loadImage(t.data[a],t.authenticate,t.session);case 8:if(r=e.sent,
i===this._dataChangeId){e.next=11;break}return e.abrupt("return");case 11:if(!r){e.next=18;break}if((o=this._getRowImages([].concat(W(n),[r]),t.rowWidth,t.maxHeight,t.minHeight)).length!==n.length){
e.next=17;break}return e.abrupt("break",21);case 17:n=o;case 18:a++,e.next=5;break;case 21:this.setAsyncState({imgList:n});case 22:case"end":return e.stop()}}),e,this)})));return function(){
return e.apply(this,arguments)}}(),_loadImage:function(e,t,n){var i=this;"string"==typeof e&&(e={src:e});var a,o=e.thumb||this._getThumbnail(e.src),s=this.constructor.imageCache[o]
;if(s)a=s;else if(t&&(n=n||r.a.Environment.getSession())&&n.isAuthenticated()&&r.a.Environment.isTrustedDomain(o)){var u=n.getCallToken().token;a=new Promise((function(t){var n=function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
D(e,t,n[t])}))}return e}({},e);k.fetchAuthenticatedImage(o,u).then((function(e){n.thumb=URL.createObjectURL(e.data),t(i._getImageData(n,o))}),(function(a){
k.fetchAuthenticatedImage(e.src,u).then((function(a){n.thumb=URL.createObjectURL(a.data),t(i._getImageData(n,e.src))}),(function(e){n.thumb="data:image/gif;base64,ZZZZZZZZ",t(i._getImageData(n,o))}))
}))}))}return a||(a=this._getImageData(e,o)),a},_getImageData:function(e,t){var n=this;return new Promise((function(i){var a,r;e&&"object"===B(e)?(a=e.src,r=e.thumb||e.lightboxSrc):a=e,
r=r||n._getThumbnail(a);var o=new window.Image,s=!0;o.onload=function(){var u={lightboxSrc:a,thumb:s?r:a,width:o.width,height:o.height,alt:e.alt||""};n.constructor.imageCache[t]=u,i(u)},
o.onerror=function(){if(s)return s=!1,o.src=a,void(o.alt=e.alt||"");i(null)},o.src=r}))},_getThumbnail:function(e){var t,n=e.lastIndexOf(".");if(-1!==n){var i=e.substr(0,n),a=e.substr(n+1)
;I.fileExtension.test(a)&&(t=i+this.props.thumbSuffix+"."+a)}return t||(t=e+this.props.thumbSuffix),t},_getLightbox:function(){
return"global"===this.props.lightbox?null:"none"!==this.props.lightbox&&this.getId()},_renderImages:function(){var e=this;return this.state.imgList.map((function(t,n){
return r.a.Common.Element.create(w,{key:n,src:t.lightboxSrc,alt:t.alt,thumb:t.thumb,caption:t.caption,effect:e.props.effect,shape:e.props.shape,lightbox:e._getLightbox(),className:"".concat((i=t,
a=i.width,o=i.height,r.a.Common.Css.css("\n    && {\n      width: ".concat(a,"px;\n      height: ").concat(o,"px;\n    }\n  ")))," ").concat(e.getClassName("imageWrapper")),
authenticate:e.props.authenticate});var i,a,o}))},render:function(){return this._renderImages()}});function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function V(){var e=function(e,t){t||(t=e.slice(0))
;return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        display: flex;\n        ","\n      "]);return V=function(){return e},e}var q={data:!0,effect:!0,
thumbSuffix:!0,lightbox:!0,minHeight:!0,maxHeight:!0,alignment:!0,rowWidth:!0,session:!0,authenticate:!0},Z=r.a.Common.VisualComponent.create({
mixins:[r.a.Common.BaseMixin,r.a.Common.ElementaryMixin,r.a.Common.NestingLevelMixin],statics:{tagName:o+"ImageRow",nestingLevelList:r.a.Environment.getNestingLevelList("bigBoxCollection","box"),
classNames:{main:function(e){
return s+"image-row "+r.a.Common.Css.css(V(),"center"===(t=e.alignment)?"justify-content: center;":"left"===t?"justify-content: flex-start;":"right"===t?"justify-content: flex-end;":"justify-content: space-between;")
;var t}},opt:{nestingLevelWrapper:!0}},propTypes:{data:r.a.PropTypes.any,alignment:r.a.PropTypes.string,authenticate:r.a.PropTypes.bool},getDefaultProps:function(){return{data:null,alignment:"block",
authenticate:!1}},_renderBody:function(e){var t=e.width,n=e.height;if(0===t&&0===n)return null;var i=this.props.data||[],a={};for(var o in q)a[o]=this.props[o]
;return a.authenticate?r.a.Common.Element.create(r.a.Common.SessionContext.Consumer,null,(function(e){return r.a.Common.Element.create(H,F({},a,{rowWidth:t,data:i,session:e?e.session:void 0}))
})):r.a.Common.Element.create(H,F({},a,{data:i,rowWidth:t}))},render:function(){
return this.getNestingLevel()?r.a.Common.Element.create(r.a.Bricks.Resize,this.getMainPropsToPass(),this._renderBody):null}});function $(e){
return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t,n,i,a,r,o){try{var s=e[r](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,a)}function G(e){return function(e){
if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var J=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin,r.a.Common.ElementaryMixin],statics:{
tagName:o+"ImageColumnBody",classNames:{main:s+"image-column-body",imageWrapper:function(){return r.a.Common.Css.css("\n        & + & {\n          margin-top: 4px;\n        }\n      ")}},imageCache:{}
},propTypes:{data:r.a.PropTypes.arrayOf(r.a.PropTypes.oneOfType([r.a.PropTypes.string,r.a.PropTypes.shape({src:r.a.PropTypes.string.isRequired,thumb:r.a.PropTypes.string,alt:r.a.PropTypes.string
})])).isRequired,effect:r.a.PropTypes.string,thumbSuffix:r.a.PropTypes.string,lightbox:r.a.PropTypes.oneOf(["local","global","none"]),authenticate:r.a.PropTypes.bool,
minWidth:r.a.PropTypes.oneOfType([r.a.PropTypes.number,r.a.PropTypes.string]),maxWidth:r.a.PropTypes.oneOfType([r.a.PropTypes.number,r.a.PropTypes.string]),alignment:r.a.PropTypes.string,
session:r.a.PropTypes.object},getDefaultProps:function(){return{data:null,effect:void 0,thumbSuffix:"_th",lightbox:"local",minWidth:100,maxWidth:160,height:null,alignment:"block",session:void 0,
authenticate:!1}},getInitialState:function(){return{imgList:[]}},componentDidMount:function(){this._loadImages()},componentWillReceiveProps:function(e){
e.controlled&&!r.a.Common.Tools.deepEqual(this.props.data,e.data)?e.data.length?this._loadImages(e):this.setState({imgList:[]
}):this.props.height===e.height&&this.props.minWidth===e.minWidth&&this.props.maxWidth===e.maxWidth||this._loadImages(e)},_getColItems:function(e,t,n){var i=[],a=n;if(1===e.length)i.push({
lightboxSrc:e[0].lightboxSrc,thumb:e[0].thumb,alt:e[0].alt,caption:e[0].caption,height:Math.min(a,t*e[0].height/e[0].width),width:t,column:0});else for(var r=0;r<e.length;r++)i.push({column:r,
lightboxSrc:e[r].lightboxSrc,thumb:e[r].thumb,alt:e[r].alt,caption:e[r].caption,height:t*e[r].height/e[r].width,width:t,left:0===r?0:2,right:r===e.length-1?0:2});return i},_getWidth:function(e,t){
return(t-=4*(e.length-1))/e.reduce((function(e,t){return e+1*t.height/t.width}),0)},_getColImages:function(e,t,n,i){n=n||160,i=i||100;var a=[[]];if(t)for(var r=0;r<e.length;r++){
var o=e.slice(0,r+1),s=this._getWidth(o,t);if(s<=n){if(s<i&&r>0)break;a=[o,s,t]}else a=[o,s=Math.min(s,n),t]}else a=[e,n,1/0];return this._getColItems.apply(this,G(a))},_loadImages:function(){
var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){Y(r,i,a,o,s,"next",e)}function s(e){Y(r,i,a,o,s,"throw",e)}o(void 0)}))}
}(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:this.props,
this._dataChangeId=Math.random(),n=[],i=this._dataChangeId,a=0;case 5:if(!(a<t.data.length)){e.next=21;break}return e.next=8,this._loadImage(t.data[a],t.authenticate,t.session);case 8:if(r=e.sent,
i===this._dataChangeId){e.next=11;break}return e.abrupt("return");case 11:if(!r){e.next=18;break}if((o=this._getColImages([].concat(G(n),[r]),t.height,t.maxWidth,t.minWidth)).length!==n.length){
e.next=17;break}return e.abrupt("break",21);case 17:n=o;case 18:a++,e.next=5;break;case 21:this.setAsyncState({imgList:n});case 22:case"end":return e.stop()}}),e,this)})));return function(){
return e.apply(this,arguments)}}(),_loadImage:function(e,t,n){var i=this;"string"==typeof e&&(e={src:e});var a,o=e.thumb||this._getThumbnail(e.src),s=this.constructor.imageCache[o]
;if(s)a=s;else if(t&&(n=n||r.a.Environment.getSession())&&n.isAuthenticated()&&r.a.Environment.isTrustedDomain(o)){var u=n.getCallToken().token;a=new Promise((function(t){var n=function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
X(e,t,n[t])}))}return e}({},e);k.fetchAuthenticatedImage(o,u).then((function(e){n.thumb=URL.createObjectURL(e.data),t(i._getImageData(n,o))}),(function(a){
k.fetchAuthenticatedImage(e.src,u).then((function(a){n.thumb=URL.createObjectURL(a.data),t(i._getImageData(n,e.src))}),(function(e){n.thumb="data:image/gif;base64,ZZZZZZZZ",t(i._getImageData(n,o))}))
}))}))}return a||(a=this._getImageData(e,o)),a},_getImageData:function(e,t){var n=this;return new Promise((function(i){var a,r;e&&"object"===$(e)?(a=e.src,r=e.thumb||e.lightboxSrc):a=e,
r=r||n._getThumbnail(a);var o=new window.Image,s=!0;o.onload=function(){var u={lightboxSrc:a,thumb:s?r:a,width:o.width,height:o.height,alt:e.alt||""};n.constructor.imageCache[t]=u,i(u)},
o.onerror=function(){if(s)return s=!1,o.src=a,void(o.alt=e.alt||"");i(null)},o.src=r}))},_getThumbnail:function(e){var t,n=e.lastIndexOf(".");if(-1!==n){var i=e.substr(0,n),a=e.substr(n+1)
;I.fileExtension.test(a)&&(t=i+this.props.thumbSuffix+"."+a)}return t||(t=e+this.props.thumbSuffix),t},_getLightbox:function(){
return"global"===this.props.lightbox?null:"none"!==this.props.lightbox&&this.getId()},_renderImages:function(){var e=this;return this.state.imgList.map((function(t,n){
return r.a.Common.Element.create(w,{key:n,src:t.lightboxSrc,alt:t.alt,thumb:t.thumb,caption:t.caption,effect:e.props.effect,shape:e.props.shape,lightbox:e._getLightbox(),className:"".concat((i=t,
a=i.width,o=i.height,r.a.Common.Css.css("\n    && {\n      width: ".concat(a,"px;\n      height: ").concat(o,"px;\n    }\n  ")))," ").concat(e.getClassName("imageWrapper")),
authenticate:e.props.authenticate});var i,a,o}))},render:function(){return this._renderImages()}});function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ee(){var e=function(e,t){t||(t=e.slice(0))
;return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        ","\n        display: inline-flex;\n        flex-direction: column;\n        ","\n      "])
;return ee=function(){return e},e}var te={data:!0,effect:!0,thumbSuffix:!0,lightbox:!0,minWidth:!0,maxWidth:!0,height:!0,alignment:!0,rowWidth:!0,session:!0,authenticate:!0}
;var ne=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin,r.a.Common.ElementaryMixin,r.a.Common.NestingLevelMixin],statics:{tagName:o+"ImageColumn",
nestingLevelList:r.a.Environment.getNestingLevelList("bigBoxCollection","box"),classNames:{main:function(e){
return s+"image-column "+r.a.Common.Css.css(ee(),e.height?"height: ".concat(r.a.Common.Tools.fillUnit(e.height),";"):"","center"===(t=e.alignment)?"justify-content: center;":"top"===t?"justify-content: flex-start;":"bottom"===t?"justify-content: flex-end;":"justify-content: space-between;")
;var t}},opt:{nestingLevelWrapper:!0}},propTypes:{data:r.a.PropTypes.any,alignment:r.a.PropTypes.string,authenticate:r.a.PropTypes.bool},getDefaultProps:function(){return{data:null,alignment:"block",
authenticate:!1}},_renderBody:function(){var e=this.props.data||[],t={};for(var n in te)t[n]=this.props[n]
;return t.authenticate?r.a.Common.Element.create(r.a.Common.SessionContext.Consumer,null,(function(n){return r.a.Common.Element.create(J,K({},t,{data:e,session:n?n.session:void 0}))
})):r.a.Common.Element.create(J,K({},t,{data:e}))},render:function(){return this.getNestingLevel()?r.a.Common.Element.create("div",this.getMainAttrs(),this._renderBody()):null}}),ie=n(6),ae=n.n(ie)
;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e
}).apply(this,arguments)}var oe=r.a.Common.Context.create(),se=oe,ue=function(e){if(!r.a.Common.Context.isSupported())return e;var t=r.a.Common.Reference.forward((function(t,n){
return r.a.Common.Element.create(oe.Consumer,null,(function(i){return r.a.Common.Element.create(e,re({},i,t,{ref:n}))}))}));return t.isUu5PureComponent=!0,
t.displayName="forwardRef(".concat(e.displayName||e.name||"Component",")"),t.tagName=e.tagName,t}(r.a.Common.Reference.forward((function(e,t){var n=e.getImageProps(e.id)
;return n?r.a.Common.Element.create(w,n):null})));ue.isUu5PureComponent=!0,ue.displayName="UU5.Bricks.CarouselItem",ue.tagName="UU5.Bricks.CarouselItem";var le=ue;function ge(){
return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}
function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function he(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function de(e,t,n,i,a,r,o){try{var s=e[r](o),u=s.value}catch(e){return void n(e)}
s.done?t(u):Promise.resolve(u).then(i,a)}function fe(){var e=xe(["\n        &&& img.uu5-bricks-image {\n          height: auto;\n        }\n      "]);return fe=function(){return e},e}function be(){
var e=xe(["\n        && {\n          & > .uu5-bricks-link {\n            display: inline-block;\n          }\n\n          img.uu5-bricks-image {\n            height: ",";\n            width: auto;\n            max-width: 100%;\n            object-fit: contain;\n          }\n\n          &:focus .uu5-imaging-image-focus-wrapper {\n            box-shadow: none;\n          }\n        }\n\n      "])
;return be=function(){return e},e}function ve(){var e=xe(["\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: ",";\n    "]);return ve=function(){return e
},e}function ye(){var e=xe(["\n        && {\n          text-align: center;\n          width: ",";\n        }\n    "]);return ye=function(){return e},e}function xe(e,t){return t||(t=e.slice(0)),
Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _e={hideControls:!0,hideIndicators:!0,activeIndex:!0,nextIcon:!0,prevIcon:!0,displayedItems:!0,type:!0,interval:!0,
stepByOne:!0,ref_:!0},Ce=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin],statics:{tagName:o+"CarouselBody",classNames:{main:function(e){
return s+"carousel-body "+r.a.Common.Css.css(ye(),r.a.Common.Tools.fillUnit(e.width))},carouselItem:function(e){return r.a.Common.Css.css(ve(),r.a.Common.Tools.fillUnit(e.height))},image:function(e){
return r.a.Common.Css.css(be(),r.a.Common.Tools.fillUnit(e.height))},errorImage:r.a.Common.Css.css(fe())},opt:{hoc:!0},imageCache:{}},propTypes:{
data:r.a.PropTypes.arrayOf(r.a.PropTypes.oneOfType([r.a.PropTypes.string,r.a.PropTypes.shape({src:r.a.PropTypes.string.isRequired})])).isRequired,authenticate:r.a.PropTypes.bool,
session:r.a.PropTypes.object,width:r.a.PropTypes.number,height:r.a.PropTypes.number,hideControls:r.a.PropTypes.bool,hideIndicators:r.a.PropTypes.bool,activeIndex:r.a.PropTypes.number,
nextIcon:r.a.PropTypes.string,prevIcon:r.a.PropTypes.string,displayedItems:r.a.PropTypes.number,type:r.a.PropTypes.oneOf(["circular","final","rewind"]),interval:r.a.PropTypes.number,
stepByOne:r.a.PropTypes.bool},getDefaultProps:function(){return{data:null,session:void 0,authenticate:!1,width:null,height:500,hideControls:!1,hideIndicators:!1,activeIndex:0,
nextIcon:"mdi-chevron-right",prevIcon:"mdi-chevron-left",displayedItems:1,type:"final",interval:5e3,stepByOne:!1}},getInitialState:function(){return this._renderImages=ae()(this._renderImages),{
imgList:[],activeIndex:this.props.activeIndex}},componentDidMount:function(){this._loadedIndexes=[],this._loadImages()},componentWillReceiveProps:function(e){
r.a.Common.Tools.deepEqual(this.props.data,e.data)&&e.activeIndex===this.props.activeIndex&&e.displayedItems===this.props.displayedItems&&e.stepByOne===this.props.stepByOne&&e.type===this.props.type||(this._loadedIndexes=[],
e.data.length?this._loadImages(e):this.setState({imgList:[]}))},_loadImages:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n)
;function o(e){de(r,i,a,o,s,"next",e)}function s(e){de(r,i,a,o,s,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,u,l,g,p=this,c=arguments
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:this.props,n=c.length>1?c[1]:void 0,i=c.length>2?c[2]:void 0,
!(this._loadedIndexes.length<t.data.length)){e.next=32;break}n="number"==typeof n?n:t.activeIndex,t.stepByOne||(n*=t.displayedItems),this._dataChangeId=Math.random(),a=t.data.map((function(){
return null})),r=this._dataChangeId,o=1===t.displayedItems||t.stepByOne?1:t.displayedItems,he(new Array(o)).reverse().forEach((function(e,t){var i=n-(t+1)
;-1===p._loadedIndexes.indexOf(i)&&p._loadedIndexes.push(i)})),he(new Array(t.displayedItems)).forEach((function(e,t){var i=n+t;-1===p._loadedIndexes.indexOf(i)&&p._loadedIndexes.push(i)})),
he(new Array(o)).forEach((function(e,i){var a=n+t.displayedItems-1+(i+1);-1===p._loadedIndexes.indexOf(a)&&p._loadedIndexes.push(a)})),this._loadedIndexes.forEach((function(e,n){
var i=e<0,r=e>a.length-1;"final"===t.type&&(i||r)?p._loadedIndexes[n]=null:i?p._loadedIndexes[n]=a.length+e:r&&(p._loadedIndexes[n]=e-a.length)})),
"circular"!==t.type&&n+o>a.length&&he(new Array(a.length-n+o)).forEach((function(e,t){var i=n-(t+1);-1===p._loadedIndexes.indexOf(i)&&p._loadedIndexes.push(i)})),
this._loadedIndexes=this._loadedIndexes.filter((function(e){return null!==e})),s=0;case 17:if(!(s<this._loadedIndexes.length)){e.next=29;break}if("number"!=typeof(u=this._loadedIndexes[s])){e.next=26
;break}return e.next=22,this._loadImage(t.data[u],t.authenticate,t.session);case 22:if(l=e.sent,r===this._dataChangeId){e.next=25;break}return e.abrupt("return");case 25:l&&(a[u]=l);case 26:s++,
e.next=17;break;case 29:g={imgList:a},"number"==typeof n&&(g.activeIndex=n),this.setAsyncState(g,i);case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}
}(),_loadImage:function(e,t,n){var i=this;"string"==typeof e&&(e={src:e});var a,o=e.src,s=this.constructor.imageCache[o]
;if(s)a=s;else if(t&&(n=n||r.a.Environment.getSession())&&n.isAuthenticated()&&r.a.Environment.isTrustedDomain(o)){var u=n.getCallToken().token;a=new Promise((function(t){var n=function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
ce(e,t,n[t])}))}return e}({},e);k.fetchAuthenticatedImage(o,u).then((function(e){n.src=URL.createObjectURL(e.data),t(i._getImageData(n,o))}),(function(e){n.src="data:image/gif;base64,ZZZZZZZZ",
t(i._getImageData(n,o))}))}))}return a||(a=this._getImageData(e,o)),a},_getImageData:function(e,t){var n=this;return new Promise((function(i){var a;a=e&&"object"===pe(e)?e.src:e;var r=new window.Image
;r.onload=function(){var e={src:a,width:r.width,height:r.height,alt:r.alt||"",error:!1};n.constructor.imageCache[t]=e,i(e)},r.onerror=function(){var e={src:"data:image/gif;base64,ZZZZZZZZ",
alt:r.alt||"",error:!0};i(e)},r.alt=e.alt||"",r.src=a}))},_onIndexChange:function(e){var t=e.activeIndex;this._loadImages(this.props,t)},_getImageProps:function(e){var t=this.state.imgList[e];if(t){
var n=this.getClassName("image");return t.error&&(n+=" "+this.getClassName("errorImage")),{src:t.src,caption:t.caption,alt:t.alt,lightbox:!1,authenticate:this.props.authenticate,width:"auto",
height:"auto",className:n}}return null},_renderImages:function(e){var t=this;return he(new Array(e)).map((function(e,n){return r.a.Common.Element.create(r.a.Bricks.Carousel.Item,{key:n,
className:t.getClassName("carouselItem")},r.a.Common.Element.create(le,{id:n+""}))}))},render:function(){var e={};for(var t in _e)e[t]=this.props[t];return r.a.Common.Element.create(se.Provider,{
value:{getImageProps:this._getImageProps}},r.a.Common.Element.create(r.a.Bricks.Carousel,ge({},this.getMainPropsToPass(),e,{displayedItems:e.displayedItems||1,onIndexChange:this._onIndexChange
}),this._renderImages(this.state.imgList.length)))}});function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ie(){var e=function(e,t){t||(t=e.slice(0))
;return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n            && {\n              height: ",";\n            }\n          "]);return Ie=function(){return e},e}
var ke=r.a.Common.VisualComponent.create({mixins:[r.a.Common.BaseMixin,r.a.Common.NestingLevelMixin],statics:{tagName:o+"Carousel",
nestingLevelList:r.a.Environment.getNestingLevelList("BigBoxCollection","box"),classNames:{main:function(e){var t=[s+"carousel"]
;return e.height&&t.push(r.a.Common.Css.css(Ie(),r.a.Common.Tools.fillUnit(e.height))),t.join(" ")}},opt:{hoc:!0,nestingLevelWrapper:!0}},propTypes:{data:r.a.PropTypes.any,
authenticate:r.a.PropTypes.bool},getDefaultProps:function(){return{data:null,authenticate:!1}},_renderResizeBody:function(e,t){var n=e.width;return 0===n?null:this._renderBody(n,t)},
_renderBody:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.width,n=arguments.length>1?arguments[1]:void 0,i=this.props.data||[]
;return this.props.authenticate?r.a.Common.Element.create(r.a.Common.SessionContext.Consumer,null,(function(a){return r.a.Common.Element.create(Ce,we({},e.props,e._getMainPropsToPass(n),{data:i,
width:t,session:a?a.session:void 0}))})):r.a.Common.Element.create(Ce,we({},this.props,this._getMainPropsToPass(n),{data:i,width:t,parent:null,nestingLevel:void 0}))},_getMainPropsToPass:function(e){
var t=this.getMainPropsToPass();return e&&(delete t.parent,delete t.nestingLevel),t},_getChildren:function(e){var t=this
;return this.props.width?this._renderBody(void 0,e):r.a.Common.Element.create(r.a.Bricks.Resize,we({},this._getMainPropsToPass(e),{nestingLevel:void 0,ref_:null,parent:null}),(function(n){
return t._renderResizeBody(n,e)}))},_getLsiLabel:function(){return r.a.Common.Element.create(r.a.Bricks.Lsi,{lsi:{cs:"Prezentace obrzk",en:"Show slideshow"}})},render:function(){
return this.getNestingLevel()?this._getChildren():r.a.Common.Element.create(r.a.Bricks.LinkModal,{component:this._getChildren(!0)},this._getLsiLabel())}});ke=r.a.Common.withVisibilityCheck(ke),n(5)
;function Pe(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},
e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
var i,a,r=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a
}}}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Oe,Se,Ee={OUTPUT_TYPES:["png","jpeg"]};function Le(e){var t=new DataView(e)
;if(65496!=t.getUint16(0,!1))return-2;for(var n=t.byteLength,i=2;i<n;){if(t.getUint16(i+2,!1)<=8)return-1;var a=t.getUint16(i,!1);if(i+=2,65505==a){if(1165519206!=t.getUint32(i+=2,!1))return-1
;var r=18761==t.getUint16(i+=6,!1);i+=t.getUint32(i+4,r);var o=t.getUint16(i,r);i+=2;for(var s=0;s<o;s++)if(274==t.getUint16(i+12*s,r))return t.getUint16(i+12*s+8,r)}else{if(65280!=(65280&a))break
;i+=t.getUint16(i,!1)}}return-1}function Re(e,t,n){return Ne(e,t,n)}function je(e,t){return Ne(e,t)}function Ne(e,t,n){var i=e.naturalWidth||e.width,a=e.naturalHeight||e.height;if("number"==typeof n){
var r=n*(Math.PI/180),o=function(e,t){return-t*Math.sin(r)+e*Math.cos(r)},s=function(e,t){return t*Math.cos(r)+e*Math.sin(r)
},u=Math.round(Math.min(0,o(i,0),o(i,a),o(0,a))),l=Math.round(Math.min(0,s(i,0),s(i,a),s(0,a))),g=Math.round(Math.max(0,o(i,0),o(i,a),o(0,a))),p=Math.round(Math.max(0,s(i,0),s(i,a),s(0,a)))
;Oe.width=g-u,Oe.height=p-l,Se.translate(-u,-l),Se.rotate(r)}else switch(t){case 2:Oe.width=i,Oe.height=a,Se.translate(i,0),Se.scale(-1,1);break;case 3:Oe.width=i,Oe.height=a,Se.translate(i,a),
Se.rotate(Math.PI);break;case 4:Oe.width=i,Oe.height=a,Se.translate(0,a),Se.scale(1,-1);break;case 5:Oe.width=a,Oe.height=i,Se.rotate(.5*Math.PI),Se.scale(1,-1);break;case 6:Oe.width=a,Oe.height=i,
Se.rotate(.5*Math.PI),Se.translate(0,-a);break;case 7:Oe.width=a,Oe.height=i,Se.rotate(.5*Math.PI),Se.translate(i,-a),Se.scale(-1,1);break;case 8:Oe.width=a,Oe.height=i,Se.rotate(-.5*Math.PI),
Se.translate(-i,0);break;default:Oe.width=i,Oe.height=a}Se.drawImage(e,0,0)}function Ae(){Oe||Se||((Oe=document.createElement("canvas")).style.display="none",document.body.appendChild(Oe),
Se=Oe.getContext("2d")),Se.clearRect(0,0,Oe.width,Oe.height),Se.restore(),Se.save()}function Me(e,t){return new Promise((function(n,i){var a;(a=URL.createObjectURL(e),new Promise((function(e,t){
var n=new Image;n.src=a,n.onload=function(){e(n)},n.onerror=function(){t(new Error("Image failed to load in <img> element."))}}))).then((function(a){var r=t(a)||{},o=r.type,s=r.imageFile,u=r.quality
;if(s)n({imageSrc:URL.createObjectURL(s),imageFile:s});else{!o&&e.name&&(o=e.name.split(".").pop().toLowerCase(),We(o)||(o=null)),o||(o=Ee.OUTPUT_TYPES[0]),o=De(o);var l=Oe,g=l.width,p=l.height
;Oe.toBlob((function(t){t?o&&t.type!==o?i(new Error("This browser doesn't support generating images of type '".concat(o,"'."))):(t.name=e.name,o&&(t.name=t.name.replace(/\.[^.]*$/,(function(e){
return"."+o.replace(/^image\//,"").replace(/^jpeg$/,"jpg")}))),n({imageSrc:URL.createObjectURL(t),imageFile:t
})):i(new Error("Image adjustment failed (unable to get result blob data). Result canvas size: ".concat(g,"x").concat(p)))}),o,u)}}),i)}))}function Be(e){return new Promise((function(t,n){
var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(){n(new Error("Reading image data failed."))},i.readAsArrayBuffer(e)}))}function De(e){
return e&&!e.startsWith("image/")&&(e="image/"+e),"image/jpg"===e&&(e="image/jpeg"),e||null}HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{
value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1];setTimeout((function(){for(var n=atob(i),a=n.length,r=new Uint8Array(a),o=0;o<a;o++)r[o]=n.charCodeAt(o);e(new Blob([r],{
type:t||"image/png"}))}))}}),Ee.resize=function(e,t,n){return Me(e,(function(e){Ae();var i=e.naturalHeight||e.height,a=e.naturalWidth||e.width
;"string"==typeof t&&t.match(/^\d+(\.\d+)?%$/)?t=parseFloat(t)*a/100:"string"==typeof t&&(t=Number(t)),
"string"==typeof n&&n.match(/^\d+(\.\d+)?%$/)?n=parseFloat(n)*i/100:"string"==typeof n&&(n=Number(n));var r=t,o=n;return t?n||(o=t/a*i):r=n/i*a,Oe.width=r,Oe.height=o,Se.drawImage(e,0,0,r,o),{
quality:1}}))},Ee.resizeMax=function(e,t,n){return Me(e,(function(e){Ae();var i=e.naturalHeight||e.height,a=e.naturalWidth||e.width
;"string"==typeof t&&t.match(/^\d+(\.\d+)?%$/)?t=parseFloat(t)*a/100:"string"==typeof t&&(t=Number(t)),
"string"==typeof n&&n.match(/^\d+(\.\d+)?%$/)?n=parseFloat(n)*i/100:"string"==typeof n&&(n=Number(n));var r=t,o=n;return t?n?a/i<t/n?(o=Math.min(i,n),r=Math.min(a,o/i*a)):(r=Math.min(a,t),
o=Math.min(i,r/a*i)):o=t/a*i:r=n/i*a,(r>a||o>i)&&(r=a,o=i),Oe.width=Math.floor(r)>0?r:1,Oe.height=Math.floor(o)>0?o:1,Se.drawImage(e,0,0,r,o),{quality:1}}))},Ee.changeType=function(e,t,n){
return We(t)?Me(e,(function(e){Ae();var i=e.naturalWidth||e.width,a=e.naturalHeight||e.height;return Oe.width=i,Oe.height=a,Se.drawImage(e,0,0,i,a),{type:t,quality:n}
})):Promise.reject(new Error("Output type '".concat(t,"' is not supported. Must be one of: ").concat(Ee.OUTPUT_TYPES,".")))},Ee.rotate=function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return Be(n).then((function(n){return Me(e,(function(i){Ae();var a={quality:1},r=Le(n)
;return"number"==typeof t?Re(i,r,t):"auto"===t&&r>0?je(i,r):a.imageFile=e,a}))}))},Ee.crop=function(e,t,n,i,a){return Me(e,(function(e){Ae()
;var r=e.naturalHeight||e.height,o=e.naturalWidth||e.width,s=Math.min(i,o-t),u=Math.min(a,r-n);return Oe.width=s,Oe.height=u,Se.drawImage(e,t,n,s,u,0,0,Oe.width,Oe.height),{quality:1}}))},
Ee.cropRatio=function(e,t,n){return Me(e,(function(e){Ae();var i,a,r=e.naturalHeight||e.height,o=e.naturalWidth||e.width;return t/n<o/r?i=(a=r)*t/n:a=(i=o)*n/t,Oe.width=i,Oe.height=a,
Se.drawImage(e,(o-i)/2,(r-a)/2,i,a,0,0,i,a),{quality:1}}))};var Ue,We=function(e){if(!Ue){Ue={};var t,n=Pe(Ee.OUTPUT_TYPES);try{for(n.s();!(t=n.n()).done;){var i=t.value;Ue[De(i)]=!0}}catch(e){n.e(e)
}finally{n.f()}}return Ue[De(e)]},ze=Ee;n(19),n(21),n(23);function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
var Fe=a.Common.VisualComponent.create({mixins:[a.Common.BaseMixin,a.Common.ElementaryMixin],statics:{tagName:o+"ImageInput",classNames:{main:s+"image-input",input:s+"image-input-file-input",
placeholder:s+"image-input-placeholder",dragover:s+"image-input-dragover"}},propTypes:{onChange:a.PropTypes.func,placeholder:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.string]),
multiple:a.PropTypes.bool,readOnly:a.PropTypes.bool,loading:a.PropTypes.bool,inputWidth:a.PropTypes.string,borderRadius:a.PropTypes.string,
bgStyle:a.PropTypes.oneOf(["filled","outline","transparent","underline"]),elevation:a.PropTypes.oneOf(["-1","0","1","2","3","4","5",-1,0,1,2,3,4,5])},getDefaultProps:function(){return{onChange:null,
placeholder:null,multiple:!1,readOnly:!1,loading:!1,inputWidth:null,borderRadius:null,bgStyle:null,elevation:null}},getInitialState:function(){return{dragover:!1}},componentDidMount:function(){
this._visualInput&&(a.Environment.EventListener.addEvent(this._visualInput,"dragover",this.getId(),this._handleDragOver),
a.Environment.EventListener.addEvent(this._visualInput,"dragleave",this.getId(),this._handleDragLeave),
a.Environment.EventListener.addEvent(this._visualInput,"drop",this.getId(),this._handleFileSelect))},componentWillUnmount:function(){
this._visualInput&&(a.Environment.EventListener.removeEvent(this._visualInput,"dragover",this.getId()),a.Environment.EventListener.removeEvent(this._visualInput,"dragleave",this.getId()),
a.Environment.EventListener.removeEvent(this._visualInput,"drop",this.getId()),a.Environment.EventListener.removeWindowEvent("keyup",this.getId()))},_handleDragOver:function(e){e.stopPropagation(),
e.preventDefault(),e.dataTransfer.dropEffect="copy",this.setState({dragover:!0})},_handleDragLeave:function(e){e.stopPropagation(),e.preventDefault(),this.setState({dragover:!1})},
_handleFileSelect:function(e){var t=this;e.stopPropagation(),e.preventDefault(),e.dataTransfer.files&&this.setState({dragover:!1},(function(){return t._onChange(e.dataTransfer.files)}))},
_onFocus:function(){var e=this;a.Environment.EventListener.addWindowEvent("keyup",this.getId(),(function(t){13===t.which&&!e.isDisabled()&&e._open()}))},_onBlur:function(){
a.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_onChange:function(e){if(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push({id:a.Common.Tools.generateUUID(),value:i,
name:i.name})}t.length&&(a.Environment.EventListener.removeWindowEvent("keyup",this.getId()),this.props.onChange(t))}},_open:function(){return this._input.click(),this},_getInputWidth:function(){
return"auto"===this.props.inputWidth?null:this.props.inputWidth},_getMainAttrs:function(){var e=this,t=this.getMainAttrs(),n=this.getClassName("main")
;return this.state.dragover&&(n+=" "+this.getClassName("dragover")),(t=Object.assign(t,{ref:function(t){return e._visualInput=t},className:n+(t.className?" "+t.className:""),
tabIndex:this.props.readOnly||this.props.disabled?null:"0",onClick:this.props.readOnly||this.props.disabled||this.props.loading?null:function(){return e._open()},onFocus:this._onFocus,
onBlur:this._onBlur})).style=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
He(e,t,n[t])}))}return e}({},t.style,{borderRadius:this.props.borderRadius}),this.props.elevation&&(t.className+=" "+a.Common.ClassNames.elevation+this.props.elevation),
this.props.bgStyle&&(t.className+=" "+a.Common.ClassNames[this.props.bgStyle]),this.props.inputWidth&&(t=a.Common.Tools.mergeDeep(t,{style:{width:this._getInputWidth()}})),t},_getInput:function(){
var e=this,t={onChange:function(t){return e._onChange(t.target.files)},type:"file",accept:"image/*",key:Math.random(),id:this.getId()+"-hidden-input",className:this.getClassName("input"),
ref:function(t){return e._input=t},multiple:this.props.multiple,disabled:this.props.disabled||this.props.readOnly,files:null}
;return a.Common.Element.create("div",this._getMainAttrs(),a.Common.Element.create("span",{className:this.getClassName("placeholder")},this.props.placeholder),a.Common.Element.create(a.Bricks.Icon,{
icon:"mdi-image"}),a.Common.Element.create("input",t))},render:function(){return this._getInput()}});n(25);function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var qe=a.Common.VisualComponent.create({
mixins:[a.Common.BaseMixin,a.Common.ElementaryMixin,a.Common.PureRenderMixin],statics:{tagName:o+"ImageInputItem",classNames:{main:s+"image-input-item",image:s+"image-input-item-image",
imageWrapper:s+"image-input-item-image-wrapper",buttonBar:s+"image-input-item-button-bar",name:s+"image-input-item-name",nameError:s+"image-input-item-name-error",error:s+"image-input-item-error",
errorIcon:s+"image-input-item-error-icon",loading:s+"image-input-item-loading",loadingComponent:s+"image-input-item-loading-component"},defaults:{
aspectRatioShapesRegexp:/^((rounded)?square|circle|(rounded)?rect\d+x\d+)$/i},opt:{pureRender:!0}},propTypes:{imageSrc:a.PropTypes.string,imageName:a.PropTypes.string,imageId:a.PropTypes.string,
onRemove:a.PropTypes.func,onAbort:a.PropTypes.func,progress:a.PropTypes.number,readOnly:a.PropTypes.bool,error:a.PropTypes.any,previewWidth:a.PropTypes.number,previewHeight:a.PropTypes.number,
previewShape:a.PropTypes.string},getDefaultProps:function(){return{imageSrc:null,imageName:null,onRemove:null,onAbort:null,progress:null,readOnly:null,error:null,previewWidth:null,previewHeight:null,
previewShape:null}},_getButtonBar:function(){var e=this;return this.props.readOnly?null:a.Common.Element.create("div",{className:this.getClassName("buttonBar")
},a.Common.Element.create(a.Bricks.Button,{onClick:function(){return e.props.onRemove(e.props.imageId)},content:a.Common.Element.create(a.Bricks.Icon,{icon:"mdi-delete"})}))},_getLoading:function(){
return a.Common.Element.create(a.Bricks.Loading,{className:this.getClassName("loadingComponent")})},_getError:function(){return a.Common.Element.create("div",{className:this.getClassName("error")
},a.Common.Element.create(a.Bricks.Icon,{icon:"mdi-alert-circle",className:this.getClassName("errorIcon")}))},render:function(){
var e=this.props,t=e.imageSrc,n=e.progress,i=e.imageName,r=e.error,o=e.previewShape,s=!r&&"number"==typeof n&&n<100,u=this.getMainAttrs()
;s&&(u.className=(u.className||"")+" "+this.getClassName("loading"));var l=this.props.previewWidth,g=this.props.previewHeight
;return null==g&&o&&!o.match(this.getDefault("aspectRatioShapesRegexp"))&&(g=l),a.Common.Element.create("span",Ve({},u,{style:{width:l}}),a.Common.Element.create("div",{
className:this.getClassName("imageWrapper")},(t||r)&&a.Common.Element.create(a.Imaging.Image,{authenticate:!0,blackBackground:!1,
src:t||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",className:this.getClassName("image"),width:l,height:g,shape:this.props.previewShape,fit:"coverNoScaleUp"
}),r&&this._getError(),this._getButtonBar(),s?this._getLoading():null),a.Common.Element.create("div",{className:this.getClassName("name")+(r?" "+this.getClassName("nameError"):""),title:i},i||""))}})
;function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e
}).apply(this,arguments)}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
Xe(e,t,n[t])}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t,n,i,a,r,o){try{var s=e[r](o),u=s.value
}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,a)}var Ge,Qe=a.Common.VisualComponent.create({mixins:[a.Common.BaseMixin,a.Common.ElementaryMixin,a.Common.PureRenderMixin],statics:{
tagName:o+"ImageInputAdjustment",classNames:{main:s+"image-input-adjustment",wrapper:s+"image-input-wrapper",line:s+"image-input-message-line",lineFeedback:s+"image-input-message-line-feedback-"},
errors:{errorAdjusting:"Error while adjusting the image - check the adjustment settings and that the image file is not corrupted. Nested error: %s"},lsi:{imageError:{
cs:"Obrzek {0} nen podporovn nebo je pokozen.",en:"The image {0} is not supported or it is damaged.",sk:"Obrzok {0} nie je podporovan alebo je pokoden."}},opt:{pureRender:!0}},propTypes:{
value:a.PropTypes.arrayOf(a.PropTypes.object),onChange:a.PropTypes.func,inputProps:a.PropTypes.object,lineProps:a.PropTypes.object,onRemove:a.PropTypes.func,onLoad:a.PropTypes.func,
width:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),height:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),type:a.PropTypes.string,
rotation:a.PropTypes.oneOfType([a.PropTypes.oneOf(["auto"]),a.PropTypes.number]),quality:a.PropTypes.number,previewWidth:a.PropTypes.number,previewHeight:a.PropTypes.number,
previewShape:a.PropTypes.string,cumulativeOnChange:a.PropTypes.bool},getDefaultProps:function(){return{value:null,onChange:null,inputProps:null,lineProps:null,onRemove:null,onLoad:null,width:null,
height:null,type:null,rotation:null,quality:null,previewWidth:null,previewHeight:null,previewShape:null,cumulativeOnChange:null}},componentDidMount:function(){
this.props.value&&this._readjustImages(this.props.value,this.props)},componentWillReceiveProps:function(e){
var t=e.rotation!=this.props.rotation||e.type!=this.props.type||e.quality!=this.props.quality||e.width!=this.props.width||e.height!=this.props.height,n=this._hasValueNewItems(e.value,this.props.value)
;(t||n)&&e.value&&"function"==typeof e.onChange&&this._readjustImages(e.value,e,t)},_hasValueNewItems:function(e,t){var n=!1;if(e){var i={};for(var a in t&&t.forEach((function(e){return i[e.id]=e})),
e)if(!(a in i)){n=!0;break}}return n},_readjustImages:(Ge=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){Ye(r,i,a,o,s,"next",e)
}function s(e){Ye(r,i,a,o,s,"throw",e)}o(void 0)}))}}(regeneratorRuntime.mark((function e(t,n,i){var a,r,o,s,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
return a=n.cumulativeOnChange,o=t.map((function(e){var t=e.originalValue||e.value
;if(t instanceof Blob&&(i||(null==e.originalValue||null==e.value)&&!e.error))return u._adjustImage(t,n).catch((function(e){u.isRendered()&&u.showError("errorAdjusting",[e])})).then((function(t){
if(u.isRendered()&&"function"==typeof n.onChange){var i;if(t){var o=t.imageFile,s=t.imageSrc;i={id:e.id,value:o,originalValue:e.originalValue||e.value,src:s,name:o.name}}else i={id:e.id,value:null,
originalValue:e.originalValue||e.value,src:null,error:u.getLsi("imageError"),name:e.name||(e.value||{}).name||(e.originalValue||{}).name};var l=Xe({},i.id,i);if(a)r=$e({},r,l);else{var g={component:u,
data:l};n.onChange(g)}}}))})),e.next=4,Promise.all(o.filter(Boolean));case 4:a&&this.isRendered()&&"function"==typeof n.onChange&&(s={component:this,data:r},n.onChange(s));case 5:case"end":
return e.stop()}}),e,this)}))),function(e,t,n){return Ge.apply(this,arguments)}),_onChange:function(e){"function"==typeof this.props.onChange&&this._readjustImages(e,this.props)},
_adjustImage:function(e,t){var n=Promise.resolve({imageSrc:URL.createObjectURL(e),imageFile:e});return t.rotation&&(n=n.then((function(n){var i=n.imageFile,a=n.imageSrc;return URL.revokeObjectURL(a),
ze.rotate(i,t.rotation,e)}))),(t.width||t.height)&&(n=n.then((function(e){var n=e.imageFile,i=e.imageSrc;return URL.revokeObjectURL(i),ze.resize(n,t.width,t.height)}))),t.type&&(n=n.then((function(e){
var n=e.imageFile,i=e.imageSrc;return URL.revokeObjectURL(i),ze.changeType(n,t.type,t.quality)}))),n},_getLine:function(){var e=this.getClassName("line")
;return e+=" "+this.getClassName("lineFeedback")+this.props.lineProps.feedback,a.Common.Element.create(a.Bricks.Line,Ze({key:"line"},{className:e}))},_getImages:function(){var e=this
;return this.props.value?this.props.value.map((function(t){return t.id||(t.id=a.Common.Tools.generateUUID()),a.Common.Element.create(qe,{key:t.id,error:t.error,
readOnly:(e.props.inputProps||{}).readOnly||(e.props.inputProps||{}).disabled,progress:t.progress,imageId:t.id,imageSrc:t.src||t.uri,imageName:t.name||(t.value||{}).name||(t.originalValue||{}).name,
onRemove:e.props.onRemove,previewWidth:e.props.previewWidth,previewHeight:e.props.previewHeight,previewShape:e.props.previewShape})})):null},render:function(){
return[this.props.inputProps.display?a.Common.Element.create(Fe,Ze({key:"input"},this.props.inputProps,{onChange:this._onChange})):null,this.props.value?a.Common.Element.create("div",{key:"images",
className:this.getClassName("wrapper")},this._getImages()):null,this.props.lineProps.display?this._getLine():null]}}),Je={},Ke={getInstances:function(e){return Je[e]||[]},Mixin:{
componentDidMount:function(){var e=Je[this.getTagName()];e||(e=Je[this.getTagName()]=[]),e.push(this)},componentWillUnmount:function(){var e=Je[this.getTagName()];if(e){var t=e.indexOf(this)
;-1!=t&&e.splice(t,1)}}}},et={mixins:[Ke.Mixin],componentDidMount:function(){if(!this.pasteImages_)throw new Error("ImagePasteHandler requires method pasteImages_(blobs) to be defined.")
;Ke.getInstances("UU5.Imaging.Input").length+Ke.getInstances("UU5.Imaging.UploadInput").length===1&&document.addEventListener("paste",tt)},componentWillUnmount:function(){
Ke.getInstances("UU5.Imaging.Input").length+Ke.getInstances("UU5.Imaging.UploadInput").length===0&&document.removeEventListener("paste",tt)}};function tt(e){if(!0!==e.repeat){
var t=Ke.getInstances("UU5.Imaging.Input").concat(Ke.getInstances("UU5.Imaging.UploadInput")).filter((function(e){var t=!1;if(!e.props.ignorePaste){var n=e.findDOMNode();if(n){
var i=getComputedStyle(n);"hidden"!==i.visibility&&"none"!==i.display&&(t=!0)}}return t}));if(1===t.length){var n=(e.clipboardData||e.originalEvent.clipboardData||{}).items,i=[];for(var a in n){
var r=n[a];if("file"===r.kind&&r.type&&r.type.match(/^image\//)){var o=r.getAsFile();i.push(o)}}if(i.length>0)t[0].pasteImages_(i)}}}function nt(e){return function(e){if(Array.isArray(e))return it(e)
}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rt=a.PropTypes.shape({id:a.PropTypes.string,
name:a.PropTypes.string,value:a.PropTypes.object,src:a.PropTypes.string,originalValue:a.PropTypes.object,error:a.PropTypes.any}),ot=a.Forms.Context.withContext(a.Common.VisualComponent.create({
mixins:[a.Common.BaseMixin,a.Common.ElementaryMixin,a.Common.PureRenderMixin,a.Common.ColorSchemaMixin,a.Forms.InputMixin,et],statics:{tagName:o+"Input",classNames:{main:s+"input"},lsi:{
requiredMessage:a.Environment.Lsi.Forms.message.requiredMessage,placeholder:{cs:"Nahrt obrzek",en:"Load image",sk:"Nahra obrzok"},placeholderMulti:{cs:"Nahrt obrzky",en:"Load images",
sk:"Nahra obrzky"},placeholderReadOnly:{cs:"Nelze nahrt obrzek",en:"Cannot load image",sk:"Nie je mon nahra obrzok"},placeholderReadOnlyMulti:{cs:"Nelze nahrt obrzky",
en:"Cannot load images",sk:"Nie je mon nahra obrzky"}},opt:{pureRender:!0}},propTypes:{value:a.PropTypes.oneOfType([rt,a.PropTypes.arrayOf(rt)]),
placeholder:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.string]),multiple:a.PropTypes.bool,outputWidth:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),
outputHeight:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),outputType:a.PropTypes.oneOf(ze.OUTPUT_TYPES.concat(["jpg","image/jpeg","image/png"])),
outputRotation:a.PropTypes.oneOfType([a.PropTypes.oneOf(["auto"]),a.PropTypes.number]),outputQuality:a.PropTypes.number,ignorePaste:a.PropTypes.bool,borderRadius:a.PropTypes.string,
bgStyle:a.PropTypes.oneOf(["filled","outline","transparent","underline"]),elevation:a.PropTypes.oneOf(["-1","0","1","2","3","4","5",-1,0,1,2,3,4,5]),previewWidth:a.PropTypes.number,
previewHeight:a.PropTypes.number,previewShape:a.PropTypes.string},getDefaultProps:function(){return{placeholder:void 0,multiple:!1,outputWidth:null,outputHeight:null,outputType:null,
outputRotation:"auto",outputQuality:null,ignorePaste:void 0,borderRadius:null,bgStyle:null,elevation:null,previewWidth:100,previewHeight:null,previewShape:"square"}},componentWillMount:function(){
"function"==typeof this.props.onValidate&&this._isItemsDone(this.state.value)&&this._validateOnChange({value:this.state.value,event:null,component:this})},componentWillReceiveProps:function(e){
var t=this;if(!e.multiple&&this.props.multiple){var n=!1;this.setState((function(e){var t,i=e.value;return Array.isArray(i)&&i.length>1&&(n=!0,i.slice(0,i.length-1).forEach((function(e){
e.src&&URL.revokeObjectURL(e.src)})),t={value:i[i.length-1]}),t}),(function(){return n?t._triggerChangeEvent():null}))}e.controlled&&this.setState({value:e.value,feedback:e.feedback,message:e.message
})},onChange:function(){var e={value:this.state.value,component:this}
;return this.isComputedDisabled()||this.isReadOnly()||("function"==typeof this.props.onChange?this.props.onChange(e):this.onChangeDefault(e)),this},onChangeDefault:function(e){
return"function"==typeof this.props.onValidate&&this._validateOnChange({value:e.value,event:e.event,component:this}),this},isValid:function(){var e=this.getFeedback(),t=this.getValue(),n=!0
;if(!this.props.required||null!=t&&0!==t.length?"error"!==e&&"loading-internal"!==e&&"loading"!==e||(n=!1):(this.setError(this.props.requiredMessage||this.getLsiValue("requiredMessage")),n=!1),
n&&this.props.onValidate){var i=this.props.onValidate({value:t,component:this});i&&"object"===at(i)&&"error"===i.feedback&&(n=!1)}return n},setValue_:function(e,t){return this._checkRequired({value:e
})&&("function"==typeof this.props.onValidate?this._validateOnChange({value:e,event:null,component:this}):this.setInitial(null,e,t)),this},getValue_:function(){var e=this.state.value
;return this.props.multiple&&e&&!Array.isArray(e)?e=[e]:!this.props.multiple&&Array.isArray(e)&&(e=e[0]),e},pasteImages_:function(e){var t=this,n=this.props.multiple?e:e.slice(-1)
;n.length>0&&this.setState((function(e){var i=e.value;return i=(i=t.props.multiple?i&&!Array.isArray(i)?[i]:i||[]:[]).concat(n.map((function(e){return{id:a.Common.Tools.generateUUID(),originalValue:e,
name:e.name}}))),t.props.multiple||(i=i[i.length-1]),{value:i}}))},_triggerChangeEvent:function(){var e=this;this._updateFeedbackFromValue((function(){e._isItemsDone(e.state.value)&&e.onChange()}))},
_validateOnChange:function(e){var t="function"==typeof this.props.onValidate?this.props.onValidate(e):null
;return t&&("object"===at(t)?t.feedback?this._setFeedback(t.feedback,t.message,t.value):this.setState({value:e.value}):this.showError("validateError",null,{context:{func:this.props.onValidate,result:t
}})),this},_checkRequired:function(e){var t=!0;return!this.props.required||e.value&&0!==e.value.length||!this.shouldValidateRequired()||(t=!1,
this.setError(this.props.requiredMessage||this.getLsiComponent("requiredMessage"),e.value)),t},_isItemsDone:function(e){var t=e&&!Array.isArray(e)?[e]:e;return!t||t.every((function(e){
return e.uri||e.error||e.value&&e.originalValue}))},_onChange:function(e){var t=this,n=e.data;n&&this.setState((function(e){var i=e.value,a=function(e){var a=n[e]
;i=t._replaceStateItem(i,e,(function(e){return a}))};for(var r in n)a(r);return{value:i}}),this._triggerChangeEvent)},_replaceStateItem:function(e,t,n){
var i,a=e&&!Array.isArray(e)?[e]:e,r=a?a.findIndex((function(e){return e.id===t})):-1;if(-1===r){var o=n(null);i=o?(a||[]).concat([o]):e}else{var s=a?a[r]:void 0,u=n(s);u===s?i=e:(i=a?nt(a):[],
u?i.splice(r,1,u):i.splice(r,1),0!==i.length||e||(i=e));var l=(s||{}).src;!l||u&&l===u.src||setTimeout((function(){return URL.revokeObjectURL(l)}))}
return!this.props.multiple&&Array.isArray(i)&&(i=i[i.length-1]),i},_updateFeedbackFromValue:function(e){var t,n,i=[]
;((this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value)||[]).forEach((function(e){e.error&&i.push(e)})),i.length>0&&(t="error",
n=a.Common.Element.create("div",null,i.map((function(e){return a.Common.Element.create("div",{key:e.id},a.Common.Element.create(a.Bricks.Lsi,{lsi:e.error,
params:[(e.value||e.originalValue||{}).name||""]}))})))),this._setFeedback(t,n,this.state.value,e)},_onRemove:function(e){var t=this;this.setState((function(n){
var i=n.value,a=t._replaceStateItem(i,e,(function(e){return null}));return a===i?void 0:{value:a}}),this._triggerChangeEvent)},_getInputProps:function(){return Object.assign({
display:!this.state.value||0===this.state.value.length||this.props.multiple,id:this.getId()+"-input",multiple:this.props.multiple,readOnly:this.isReadOnly(),disabled:this.isComputedDisabled(),
loading:this.isLoading(),
placeholder:void 0!==this.props.placeholder?this.props.placeholder:this.getLsiComponent("placeholder"+(this.isReadOnly()&&!this.isDisabled()?"ReadOnly":"")+(this.props.multiple?"Multi":"")),
borderRadius:this.props.borderRadius,bgStyle:this.props.bgStyle,elevation:this.props.elevation,inputWidth:this.props.inputWidth},this.props.inputAttrs)},_getLineProps:function(){return{
display:!!this.state.message,feedback:this.state.feedback}},_getAdjustmentProps:function(){return{value:this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value,
onChange:this._onChange,inputProps:this._getInputProps(),lineProps:this._getLineProps(),onRemove:this._onRemove,onLoad:this._onLoad,width:this.props.outputWidth,height:this.props.outputHeight,
type:this.props.outputType,rotation:this.props.outputRotation,quality:this.props.outputQuality,previewWidth:this.props.previewWidth,previewHeight:this.props.previewHeight,
previewShape:this.props.previewShape,cumulativeOnChange:!0}},_getMainAttrs:function(){var e=this._getInputAttrs();return e.id=this.getId(),e},render:function(){
return a.Common.Element.create("div",this._getMainAttrs(),this.getLabel(this.getId()+"-input-hidden-input"),this.getInputWrapper(a.Common.Element.create(Qe,this._getAdjustmentProps())),this.getDisabledCoverTransparent())
}}));n(27);function st(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){
if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gt=a.PropTypes.shape({id:a.PropTypes.string,
name:a.PropTypes.string,value:a.PropTypes.object,uri:a.PropTypes.string,progress:a.PropTypes.number,src:a.PropTypes.string,originalValue:a.PropTypes.object,error:a.PropTypes.any
}),pt=a.Common.VisualComponent.create({mixins:[a.Common.BaseMixin,a.Common.ElementaryMixin,a.Common.PureRenderMixin,a.Common.CallsMixin,a.Common.ColorSchemaMixin,a.Forms.InputMixin,et],statics:{
tagName:o+"UploadInput",classNames:{main:s+"upload-input"},lsi:{requiredMessage:a.Environment.Lsi.Forms.message.requiredMessage,placeholder:{cs:"Nahrt obrzek",en:"Load image",sk:"Nahra obrzok"},
placeholderMulti:{cs:"Nahrt obrzky",en:"Load images",sk:"Nahra obrzky"},placeholderReadOnly:{cs:"Nelze nahrt obrzek",en:"Cannot load image",sk:"Nie je mon nahra obrzok"},
placeholderReadOnlyMulti:{cs:"Nelze nahrt obrzky",en:"Cannot load images",sk:"Nie je mon nahra obrzky"},uploadFailed:{cs:"Nepodailo se nahrt obrzek {0}.",
en:"Upload of the image  {0} failed.",sk:"Nepodarilo se nahra obrzok {0}."}},opt:{pureRender:!0},calls:{createImage:"createImage",updateImage:"updateImage",deleteImage:"deleteImage"}},propTypes:{
value:a.PropTypes.oneOfType([gt,a.PropTypes.arrayOf(gt)]),placeholder:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.string]),multiple:a.PropTypes.bool,
outputWidth:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),outputHeight:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),
outputType:a.PropTypes.oneOf(ze.OUTPUT_TYPES.concat(["jpg","image/jpeg","image/png"])),outputRotation:a.PropTypes.oneOfType([a.PropTypes.oneOf(["auto"]),a.PropTypes.number]),
outputQuality:a.PropTypes.number,ignorePaste:a.PropTypes.bool,borderRadius:a.PropTypes.string,bgStyle:a.PropTypes.oneOf(["filled","outline","transparent","underline"]),
elevation:a.PropTypes.oneOf(["-1","0","1","2","3","4","5",-1,0,1,2,3,4,5]),previewWidth:a.PropTypes.number,previewHeight:a.PropTypes.number,previewShape:a.PropTypes.string},getDefaultProps:function(){
return{placeholder:void 0,multiple:!1,outputWidth:null,outputHeight:null,outputType:null,outputRotation:"auto",outputQuality:null,ignorePaste:void 0,borderRadius:null,bgStyle:null,elevation:null,
previewWidth:100,previewHeight:null,previewShape:"square"}},componentWillMount:function(){this.props.calls||this.setCalls({}),
"function"==typeof this.props.onValidate&&this._isItemsDone(this.state.value)&&this._validateOnChange({value:this.state.value,event:null,component:this})},componentWillReceiveProps:function(e){
var t=this;if(!e.multiple&&this.props.multiple){var n=!1;this.setState((function(e){var i,a=e.value;return Array.isArray(a)&&a.length>1&&(n=!0,a.slice(0,a.length-1).forEach((function(e){
e.src&&URL.revokeObjectURL(e.src),t._handleDeleteImage(e)})),i={value:a[a.length-1]}),i}),(function(){return n?t._triggerChangeEvent():null}))}e.controlled&&this.setState({value:e.value,
feedback:e.feedback,message:e.message})},onChange:function(){var e={value:this.getValue(),component:this,feedback:this.state.feedback,message:this.state.message}
;return this.isComputedDisabled()||this.isReadOnly()||("function"==typeof this.props.onChange?this.props.onChange(e):this.onChangeDefault(e)),this},onChangeDefault:function(e){
return"function"==typeof this.props.onValidate&&this._validateOnChange({value:e.value,event:e.event,component:this}),this},isValid:function(){var e=this.getFeedback(),t=this.getValue(),n=!0
;if(!this.props.required||null!=t&&0!==t.length?"error"!==e&&"loading-internal"!==e&&"loading"!==e||(n=!1):(this.setError(this.props.requiredMessage||this.getLsiValue("requiredMessage")),n=!1),
n&&this.props.onValidate){var i=this.props.onValidate({value:t,component:this});i&&"object"===lt(i)&&"error"===i.feedback&&(n=!1)}return n},setValue_:function(e,t){return this._checkRequired({value:e
})&&("function"==typeof this.props.onValidate?this._validateOnChange({value:e,event:null,component:this}):this.setInitial(null,e,t)),this},getValue_:function(){var e=this.state.value
;return this.props.multiple&&e&&!Array.isArray(e)?e=[e]:!this.props.multiple&&Array.isArray(e)&&(e=e[0]),e},pasteImages_:function(e){var t=this,n=this.props.multiple?e:e.slice(-1)
;n.length>0&&this.setState((function(e){var i=e.value;return i=(i=t.props.multiple?i&&!Array.isArray(i)?[i]:i||[]:[]).concat(n.map((function(e){return{id:a.Common.Tools.generateUUID(),originalValue:e,
name:e.name}}))),t.props.multiple||(i=i[i.length-1]),{value:i}}))},_triggerChangeEvent:function(){var e=this;this._updateFeedbackFromValue((function(){e._isItemsDone(e.state.value)&&e.onChange()}))},
_validateOnChange:function(e){var t="function"==typeof this.props.onValidate?this.props.onValidate(e):null
;return t&&("object"===lt(t)?t.feedback?this._setFeedback(t.feedback,t.message,t.value):this.setState({value:e.value}):this.showError("validateError",null,{context:{func:this.props.onValidate,result:t
}})),this},_checkRequired:function(e){var t=!0;return!this.props.required||e.value&&0!==e.value.length||!this.shouldValidateRequired()||(t=!1,
this.setError(this.props.requiredMessage||this.getLsiComponent("requiredMessage"),e.value)),t},_isItemsDone:function(e){var t=e&&!Array.isArray(e)?[e]:e
;return!t||!this.getCall("createImage")||t.every((function(e){return e.uri||e.error}))},_onChange:function(e){var t=this,n=e.data;n&&this.setState((function(e){var i=e.value,a=function(e){var a=n[e]
;i=t._replaceStateItem(i,e,(function(e){var n=e;return e?a?(n=a,e.value!==a.value&&(a.value&&e.uri?(n=Object.assign({},a,{uri:e.uri,progress:0}),
t._handleUpdateImage(n)):a.value?(n=Object.assign({},a,a.uri?null:{progress:0})).uri||t._handleCreateImage(n):t._handleDeleteImage(e))):(t._handleDeleteImage(e),
n=null):(n=Object.assign({},a,a.uri?null:{progress:0})).uri||t._handleCreateImage(n),n}))};for(var r in n)a(r);return{value:i}}),(function(){t._updateFeedbackFromValue()}))},
_handleCreateImage:function(e){var t=this,n=e.value,i=e.id;return new Promise((function(e,a){var r=t.getCall("createImage");r?r({data:{value:n},progress:function(e){
return t._handleCreateImageProgress({id:i,data:e})},done:function(t){return e({id:i,data:t})},fail:a}):e({id:i,data:null})})).then(this._handleCreateImageDone,(function(e){
return t._handleCreateImageFail({id:i,data:e})}))},_handleCreateImageDone:function(e){var t=this,n=e.id,i=e.data;this.setState((function(e){
var a=e.value,r=i?i.uri:null,o=t._replaceStateItem(a,n,(function(e){var i=e;return e?i=Object.assign({},e,{uri:r,error:!1,progress:100}):t._handleDeleteImage({id:n,uri:r}),i}));return o===a?void 0:{
value:o}}),this._triggerChangeEvent)},_handleCreateImageFail:function(e){var t=this,n=e.id,i=e.data;a.Common.Tools.error(i),this.setState((function(e){
var i=e.value,a=t._replaceStateItem(i,n,(function(e){return e?Object.assign({},e,{uri:null,error:t.getLsi("uploadFailed"),progress:100}):e}));return a===i?void 0:{value:a}}),this._triggerChangeEvent)
},_handleCreateImageProgress:function(e){var t=this,n=e.id,i=e.data.progress;this.setState((function(e){var a=e.value,r=t._replaceStateItem(a,n,(function(e){return e?Object.assign({},e,{progress:i}):e
}));return r===a?void 0:{value:r}}))},_handleDeleteImage:function(e){var t=this,n=e.uri,i=e.value,a=e.originalValue,r=e.id;return new Promise((function(e,o){
if(n&&(i instanceof Blob||a instanceof Blob)){var s=t.getCall("deleteImage");if(s)s({data:{uri:n},done:function(t){return e({id:r,data:t})},fail:o});else e({id:r,data:null})}else e({id:r,data:null})
})).then(this._handleDeleteImageDone,(function(e){return t._handleDeleteImageFail({id:r,data:e})}))},_handleDeleteImageDone:function(e){e.id,e.data},_handleDeleteImageFail:function(e){e.id
;var t=e.data;a.Common.Tools.error(t)},_handleUpdateImage:function(e){var t,n=this,i=this.getCall("updateImage");if(i){var a=e.uri,r=e.value,o=e.id;t=new Promise((function(e,t){i({data:{uri:a,value:r
},progress:function(e){return n._handleUpdateImageProgress({id:o,data:e})},done:function(t){return e({id:o,data:t})},fail:t})})).then(this._handleUpdateImageDone,(function(e){
return n._handleUpdateImageFail({id:o,data:e})}))}else this._handleDeleteImage(e).catch((function(){return null})),t=this._handleCreateImage(e);return t},_handleUpdateImageDone:function(e){
var t=e.id,n=e.data;return this._handleCreateImageDone({id:t,data:n})},_handleUpdateImageFail:function(e){var t=e.id,n=e.data;return this._handleCreateImageFail({id:t,data:n})},
_handleUpdateImageProgress:function(e){var t=e.id,n=e.data;return this._handleCreateImageProgress({id:t,data:n})},_replaceStateItem:function(e,t,n){
var i,a=e&&!Array.isArray(e)?[e]:e,r=a?a.findIndex((function(e){return e.id===t})):-1;if(-1===r){var o=n(null);i=o?(a||[]).concat([o]):e}else{var s=a?a[r]:void 0,u=n(s);u===s?i=e:(i=a?st(a):[],
u?i.splice(r,1,u):i.splice(r,1),0!==i.length||e||(i=e));var l=(s||{}).src;!l||u&&l===u.src||setTimeout((function(){return URL.revokeObjectURL(l)}))}
return!this.props.multiple&&Array.isArray(i)&&(i=i[i.length-1]),i},_updateFeedbackFromValue:function(e){var t,n,i=this,r=[],o=[]
;((this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value)||[]).forEach((function(e){e.error?r.push(e):!e.uri&&i.getCall("createImage")&&o.push(e)})),
r.length>0?(t="error",n=a.Common.Element.create("div",null,r.map((function(e){return a.Common.Element.create("div",{key:e.id},a.Common.Element.create(a.Bricks.Lsi,{lsi:e.error,
params:[(e.value||e.originalValue||{}).name||""]}))})))):o.length>0&&(t="loading-internal"),this._setFeedback(t,n,this.state.value,e)},_onRemove:function(e){var t=this;this.setState((function(n){
var i=n.value,a=t._replaceStateItem(i,e,(function(e){return e&&t._handleDeleteImage(e),null}));return a===i?void 0:{value:a}}),this._triggerChangeEvent)},_getInputProps:function(){
return Object.assign({display:!this.state.value||0===this.state.value.length||this.props.multiple,id:this.getId()+"-input",multiple:this.props.multiple,readOnly:this.isReadOnly(),
disabled:this.isComputedDisabled(),loading:this.isLoading(),
placeholder:void 0!==this.props.placeholder?this.props.placeholder:this.getLsiComponent("placeholder"+(this.isReadOnly()&&!this.isDisabled()?"ReadOnly":"")+(this.props.multiple?"Multi":"")),
borderRadius:this.props.borderRadius,bgStyle:this.props.bgStyle,elevation:this.props.elevation,inputWidth:this.props.inputWidth},this.props.inputAttrs)},_getLineProps:function(){return{
display:!!this.state.message,feedback:this.state.feedback}},_getAdjustmentProps:function(){return{value:this.state.value&&!Array.isArray(this.state.value)?[this.state.value]:this.state.value,
onChange:this._onChange,inputProps:this._getInputProps(),lineProps:this._getLineProps(),onRemove:this._onRemove,onLoad:this._onLoad,width:this.props.outputWidth,height:this.props.outputHeight,
type:this.props.outputType,rotation:this.props.outputRotation,quality:this.props.outputQuality,previewWidth:this.props.previewWidth,previewHeight:this.props.previewHeight,
previewShape:this.props.previewShape}},_getMainAttrs:function(){var e=this._getInputAttrs();return e.id=this.getId(),e},render:function(){
return a.Common.Element.create("div",this._getMainAttrs(),this.getLabel(this.getId()+"-input-hidden-input"),this.getInputWrapper(a.Common.Element.create(Qe,this._getAdjustmentProps())),this.getDisabledCoverTransparent())
}}),ct=n(7),ht=n.n(ct);n(29),n(30);function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){
dt(e,t,n[t])}))}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,r=void 0;try{
for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vt=["1:1","avatar","2:3","3:2","3:4","4:3"],yt=r.a.Common.VisualComponent.create({
mixins:[r.a.Common.BaseMixin,r.a.Common.ElementaryMixin,r.a.Common.NestingLevelMixin],statics:{tagName:o+"ThumbnailGenerator",classNames:{main:s+"thumbnail-generator",
aside:s+"thumbnail-generator-aside",imageArea:s+"thumbnail-generator-image-area",imageAreaSet:s+"thumbnail-generator-image-area set",maskItems:s+"thumbnail-generator-mask-items",
maskItem:s+"thumbnail-generator-mask-item",uploadText:s+"thumbnail-generator-upload-text",areaItem:s+"thumbnail-generator-area-item",controlButtons:s+"thumbnail-generator-button-control",
imgAlign:s+"thumbnail-generator-img-align"},nestingLevelList:r.a.Environment.getNestingLevelList("bigBoxCollection","box"),lsi:{clearSource:{en:"Clear source",cs:"Odstranit zdroj"},clearSelected:{
en:"Clear selected",cs:"Vymazat vybran"},uploadPlaceholder:{en:'<uu5string/><UU5.Bricks.Header level="4">Drag image here</UU5.Bricks.Header><UU5.Bricks.P>or click to upload</UU5.Bricks.P>',
cs:'<uu5string/><UU5.Bricks.Header level="4">Pethnte obrzek sem</UU5.Bricks.Header><UU5.Bricks.P>nebo kliknte pro vloen</UU5.Bricks.P>'}},opt:{nestingLevelWrapper:!0}},propTypes:{
onChange:r.a.PropTypes.func,thumbnailTypes:r.a.PropTypes.arrayOf(r.a.PropTypes.oneOf(vt)),outputType:r.a.PropTypes.oneOf(["png","jpeg"])},getDefaultProps:function(){return{thumbnailTypes:vt,
outputType:"jpeg"}},getInitialState:function(){return{src:null,crops:{},selectedType:null,resultList:this.props.thumbnailTypes.map((function(e){return{type:e,uri:null}}))}},
componentWillUnmount:function(){this._unmounted=!0,r.a.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_evalExpression:function(e){if("avatar"===e)return 1
;var t=ft(e.split(":"),2),n=t[0],i=t[1];return parseInt(n)/parseInt(i)},_calcHeight:function(e,t){return e/this._evalExpression(t)},_calcWidth:function(e,t){return e*this._evalExpression(t)},
_makeAspectCrop:function(e,t){var n=e;return e.width&&(n.height=e.width/e.aspect*t),e.height&&(n.width=(n.height||e.height)*e.aspect/t),e.y+(n.height||e.height)>100&&(n.height=100-e.y,
n.width=n.height*e.aspect/t),e.x+(n.width||e.width)>100&&(n.width=100-e.x,n.height=n.width/e.aspect*t),n},_handleOnFileChange:function(e){var t=this,n=e.value,i=new FileReader;i.onload=function(e){
var n=e.target.result;t._fileComp=null,t.setState({src:n})},i.readAsDataURL(n)},_onFocus:function(){var e=this;r.a.Environment.EventListener.addWindowEvent("keyup",this.getId(),(function(t){
var n=13===t.which&&!e.isDisabled()&&e._fileComp&&e._fileComp.findDOMNode();if(n){var i=n.querySelector("input");i&&i.click()}}))},_onBlur:function(){
r.a.Environment.EventListener.removeWindowEvent("keyup",this.getId())},_onImageLoaded:function(e,t){this._imageRef=e},_onCropComplete:function(e,t){this.state.selectedType&&this._makeClientCrop(e,t)},
_onCropChange:function(e){this.setState((function(t){return t.selectedType?{crops:mt({},t.crops,dt({},t.selectedType,e))}:void 0}))},_cropResolver:function(e){var t=this;if(!this._unmounted){
var n=this.props.onChange;this.setState((function(t){var n=t.selectedType;return{resultList:t.resultList.map((function(t){return t.type===n?mt({},t,{uri:e}):t}))}}),(function(){
"function"==typeof n&&n(t.state.resultList.filter((function(e){return!!e.uri})))}))}},_makeClientCrop:function(e,t){if(this._imageRef&&e.width&&e.height){var n=this.props.outputType
;this._getCroppedImg(this._imageRef,t,"newFile.".concat(n)).then(this._cropResolver,null)}},_getCroppedImg:function(e,t,n){var i=this,a=document.createElement("canvas");return a.width=t.width,
a.height=t.height,a.getContext("2d").drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((function(e,t){a.toBlob((function(t){var i;t?(t.name=n,window.URL.revokeObjectURL(i),
i=window.URL.createObjectURL(t),e(i)):console.error("Canvas is empty")}),"image/"+i.props.outputType)}))},_getPixelCrop:function(e,t){if(!e||!t)return null
;var n=e.naturalWidth,i=e.naturalHeight,a=Math.round(n*(t.x/100)),r=Math.round(i*(t.y/100)),o=Math.round(n*(t.width/100)),s=Math.round(i*(t.height/100));return{x:a,y:r,
width:Math.min(Math.max(o,0),n-a),height:Math.min(Math.max(s,0),i-r)}},_addOrSelectArea:function(e){var t=this;this.setState((function(n){var i,a=n.crops[e]
;a&&a.width||(i=t._makeAspectCrop(mt({},n.crops[n.selectedType],{aspect:t._evalExpression(e)}),t._imageRef.naturalWidth/t._imageRef.naturalHeight));var r={selectedType:e}
;return i&&(r.crops=mt({},n.crops,dt({},e,i)),i.width&&t._getCroppedImg(t._imageRef,t._getPixelCrop(t._imageRef,i),"tmpFile.jpeg").then(t._cropResolver,null)),r}))},_getImageArea:function(){
var e=this,t=this.state,n=t.crops,i=t.src,a=t.selectedType,o=n[a]||{},s=!!i,u=s?r.a.Common.Element.create(r.a.Bricks.Div,{key:"is",className:this.getClassName("imgAlign")
},r.a.Common.Element.create(ht.a,{src:i,crop:o,disabled:null===a,className:a,keepSelection:!0,onImageLoaded:this._onImageLoaded,onComplete:this._onCropComplete,onChange:this._onCropChange
})):r.a.Common.Element.create(r.a.Common.Fragment,{key:"up"},r.a.Common.Element.create(r.a.Bricks.Div,{className:this.getClassName("uploadText"),content:this.getLsiComponent("uploadPlaceholder")
}),r.a.Common.Element.create(r.a.Forms.File,{onChange:this._handleOnFileChange,ref_:function(t){return e._fileComp=t}}));return r.a.Common.Element.create(r.a.Bricks.Div,{key:"ia",
className:s?this.getClassName("imageAreaSet"):this.getClassName("imageArea"),mainAttrs:{tabIndex:null===this.state.src?"0":"-1",onFocus:this._onFocus,onBlur:this._onBlur}},u)},
_handleOnClick:function(e){this._imageRef&&this.state.src&&this._addOrSelectArea(e)},_clearSelected:function(e){var t=this,n=this.props.onChange;!0===e&&(this._fileComp=null),
this.setState((function(t){return{resultList:t.resultList.map((function(e){return mt({},e,{uri:null})})),selectedType:null,src:!0===e?null:t.src,crops:{}}}),(function(){
"function"==typeof n&&n(t.state.resultList.filter((function(e){return!!e.uri})))}))},_cleanSource:function(){this._clearSelected(!0)},_getMasks:function(){var e=this
;return r.a.Common.Element.create(r.a.Bricks.Div,{key:"masks",className:this.getClassName("maskItems")},this.state.resultList.map((function(t,n){var i=t.type,a=45,o=45,s=0;if("avatar"===i)s=100;else{
var u=ft(i.split(":").map((function(e){return parseInt(e)})),2);u[0]>u[1]?o=e._calcHeight(a,i):a=e._calcWidth(o,i)}
var l="thumbnail-generator-area-item-"+n,g=e.state.selectedType===i&&e.state.src,p=e.getClassName("maskItem");g&&(p+=" selected");var c=t.uri?t.uri:"";return r.a.Common.Element.create(r.a.Bricks.Div,{
key:l,className:p},r.a.Common.Element.create("div",{onClick:function(){return e._handleOnClick(i)},className:e.getClassName("areaItem"),style:{width:a,height:o,borderRadius:s,
backgroundImage:"url("+c+")"}}),r.a.Common.Element.create("p",null,i))})),r.a.Common.Element.create(r.a.Bricks.Div,{className:this.getClassName("controlButtons")
},this._getCleanButton(),this._getReloadButton()))},_getReloadButton:function(){return this.state.src&&r.a.Common.Element.create(r.a.Bricks.Link,{onClick:this._cleanSource
},this.getLsiComponent("clearSource"))},_getCleanButton:function(){return this.state.selectedType&&null!==this.state.src&&r.a.Common.Element.create(r.a.Bricks.Link,{onClick:this._clearSelected
},this.getLsiComponent("clearSelected"))},_getChild:function(){var e=this;return r.a.Common.Element.create(r.a.Bricks.Resize,null,(function(t){var n=t.width,i=(t.height,e.getMainPropsToPass())
;return n>768&&(i.className+=" "+e.getClassName("aside")),r.a.Common.Element.create(r.a.Bricks.Div,i,e._getImageArea(n),e._getMasks(n))}))},render:function(){
return this.getNestingLevel()?this._getChild():null}});n.d(t,"Imaging",(function(){return i})),
console.log("uu5Imagingg01-".concat("1.7.0","  Unicorn\nTerms of Use: http://unicorn.com/tou/uu5imagingg01")),r.a.Environment.addRuntimeLibrary({name:"uu5imagingg01",version:"1.7.0"});t.default=i
;for(var xt in r.a.Imaging||(r.a.Imaging={}),i)r.a.Imaging[xt]=i[xt]}]);