const shell = require("shelljs");
const helpers = require("../tools/helpers.js");

module.exports = class Prettify {
  constructor(config) {
    this.config = config;
  }
  async process() {
    console.log("Running prettier...");
    let cmd = [helpers.npmScriptBinFile("prettier"), "--write", "{app,src,test}/**/*.js"]
      .concat(this.config.toCommandLineArgs())
      .join(" "); // TODO Escaping
    console.log(`  ${cmd}`);
    shell.exec(cmd);
  }
};
