@import "~uu5g04/dist/tools.less";
@import "../config/config.less";
@import "../config/colors.less";

.tile-button(@bgColor) {
  color: transparent;
  background-color: @bgColor;

  &:hover, &:active, &:focus {
    opacity: 1;
    color: transparent;
    background-color: @bgColor;
    && {
      color: transparent;
      background-color: @bgColor;
    }
  }

  opacity: 0.8;
  width: 47px;
  height: 47px;
  max-width: 100%;
  max-height: 100%;
  display: none;
  justify-content: center;
  align-items: center;
  padding: 0;
  position: relative;
  z-index: 80;

  &-icon {
    font-size: 32px !important;
    color: white;
    line-height: 1;
  }
  @media @maxXs {
    right: 4px;
    top: 4px;
    border-radius: 16px;
  }
}

.@{css}-tile {
  position: relative;
  overflow: hidden;
  z-index: auto;
  background-color: transparent;

  &::before {
    content: "";
    display: none;
    position: absolute;
    top: -1px;
    right: -1px;
    bottom: -1px;
    left: -1px;
    border: 2px solid @orangeColor;
    z-index: 5;
    border-radius: inherit;
    pointer-events: none;
  }

  @media @minS {
    &.uu5-common-selected {
      border-color: @orangeColor;

      &::before {
        display: block;
      }
    }
  }

  &-wrapper {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    min-width: 0;
  }

  &-border {
    border: 1px solid @borderLineColors;
  }

  &-content {
    position: relative;
    z-index: auto;
  }

  &-button-selected {
    .tile-button(@orangeColor);

    border-radius: 0 0 0 16px;
    position: absolute;
    right: 0;
    top: 0;
  }

  .uu5-common-selected > &-button-selected,
  &:hover > &-button-selected {
    display: flex;
  }

  .uu5-common-selected > &-button-selected {
    opacity: inherit;
    width: 46px;
    height: 46px;
  }


  /* Drag button is in an extra wrapper. */
  &-button-drag {
    .tile-button(@blueColor);
    border-radius: 0 0 16px 0;
    display: block;
    pointer-events: none; /* required for FF, Edge, IE */
  }
  &-button-drag-wrapper {
    display: none;
    user-select: none;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 10;
    cursor: pointer;
  }
  &:hover > &-button-drag-wrapper {
    display: block;
  }

  &-dragging > & {
    border: 2px dashed @tileDragBorderColor;
    background: @tileDragBgColor;
    box-shadow: none;
  }

  &-drag-over {
    position: relative;
  }

  &-drop-indicator {
    display: none;
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    z-index: 10;
    border: 3px solid @tileDragIndicatorBgColor;
    border-radius: 3px;
    transform: translateX(-50%);

    .@{css}-tile-drop-after & {
      left: auto;
      right: 0;
      transform: translateX(50%);
    }
    .@{css}-tile-drag-over & {
      display: block;
    }
  }

  @media @maxXs {
    border: 0;
    border-radius: 0;
    border-bottom: 1px solid @borderLineColors;
  }
}
