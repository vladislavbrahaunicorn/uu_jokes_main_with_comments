(window.__webpack_jsonp_uu_plus4u5g01_4_12_0_uu_plus4u5g01_app=window.__webpack_jsonp_uu_plus4u5g01_4_12_0_uu_plus4u5g01_app||[]).push([[2],{77:function(e,t,n){"use strict";n.r(t);var o=n(0),r=(n(4),
n(3)),i={common:{componentPropsLabel:{cs:"Hlavní vlastnosti komponenty",en:"Component Props"},additionalPropsLabel:{cs:"Vedlejší vlastnosti komponenty",en:"Additional Props"}},authorized:{
modalHeader:{en:"Edit Authorized",cs:"Upravit Authorized"},artifactLabel:{en:"Artifact uri",cs:"Uri artefaktu"},useCaseLabel:{en:"Use case",cs:"Případ užití"},stateLabel:{en:"State",cs:"Stav"},
profilesLabel:{en:"Profiles",cs:"Profily"},authorities:{en:"Authorities"},executives:{en:"Executives"},readers:{en:"Readers"},guests:{en:"Guests"},authorized:{en:"Authorized",cs:"Opravněný"},
notAuthorized:{en:"Unauthorized",cs:"Neoprávněný"},pending:{en:"Pending",cs:"Neznámý"}}},s=n(1);function a(){var e=u(["\n\n      "]);return a=function(){return e},e}function p(){
var e=u(["\n\n      "]);return p=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(){
return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}
var l=["Authorities","Executives","Readers","Guests"],m=["authorized","notAuthorized","pending"];function d(e){return"string"==typeof e&&(e=e.split(",")),e}var h=o.Common.VisualComponent.create({
mixins:[o.Common.BaseMixin],statics:{tagName:"AuthorizedStateEditComponent",lsi:function(){return i.authorized}},propTypes:{componentProps:o.PropTypes.object,
items:o.PropTypes.arrayOf(o.PropTypes.object),onChangeProps:o.PropTypes.func,onChangeItems:o.PropTypes.func,editedItemId:o.PropTypes.string},getDefaultProps:function(){return{componentProps:void 0,
items:void 0,onChangeProps:void 0,onChangeItems:void 0,editedItemId:void 0}},getInitialState:function(){var e=this;return this._editedItem=this.props.items[this.props.items.findIndex((function(t){
return t.id===e.props.editedItemId}))],{}},componentWillReceiveProps:function(e){this._editedItem=e.items[e.items.findIndex((function(t){return t.id===e.editedItemId}))]},_onChange:function(e){
var t=this,n=e.value,o=this.props.items.map((function(e){var o={id:e.id};return e.id===t._editedItem.id&&(o.props={},m.forEach((function(e){return e!==n&&(o.props[e]=!1)})),o.props[n]=!0),o}))
;this.props.onChangeItems(o)},render:function(){var e=this,t=m.find((function(t){return!!e._editedItem.props[t]}))
;return o.Common.Element.create(o.Forms.SwitchSelector,c({},this.getMainPropsToPass(),{label:this.getLsiComponent("stateLabel"),items:[{content:"Authorized",value:"authorized"},{
content:"Unauthorized",value:"notAuthorized"},{content:"Pending",value:"pending"}],value:t,onChange:this._onChange}))}}),f=(o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin],statics:{
tagName:"ButtonSwitcher",classNames:{button:s.a.css(p()),activeButton:s.a.css(a())},lsi:function(){return i.authorized}},propTypes:{buttons:o.PropTypes.arrayOf(o.PropTypes.shape({
value:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.number]),content:o.PropTypes.any})),onChange:o.PropTypes.func,value:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.number]),
size:o.PropTypes.oneOf(["xs","s","m","l","xl"])},getDefaultProps:function(){return{buttons:[],onChange:void 0,value:void 0,size:"m"}},_onClick:function(e){
"function"==typeof this.props.onChange&&this.props.onChange({value:e})},_renderButton:function(e){var t=this,n=e.value===this.props.value;return o.Common.Element.create(o.Bricks.Button,{key:e.value,
onClick:function(){return t._onClick(e.value)},content:e.content,bgStyle:n?"underline":"transparent",className:this.getClassName(n?"activeButton":"button"),size:this.props.size})},render:function(){
return o.Common.Element.create("div",this.getMainAttrs(),this.props.buttons.map(this._renderButton))}}),o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin],statics:{
tagName:"ProfilesCheckboxes",lsi:function(){return i.authorized}},propTypes:{componentProps:o.PropTypes.object,items:o.PropTypes.arrayOf(o.PropTypes.object),onChangeProps:o.PropTypes.func,
onChangeItems:o.PropTypes.func,editedItemId:o.PropTypes.string},getDefaultProps:function(){return{componentProps:void 0,items:void 0,onChangeProps:void 0,onChangeItems:void 0,editedItemId:void 0}},
getInitialState:function(){var e=this;return this._editedItem=this.props.items[this.props.items.findIndex((function(t){return t.id===e.props.editedItemId}))],{}},componentWillReceiveProps:function(e){
this._editedItem=e.items[e.items.findIndex((function(t){return t.id===e.editedItemId}))]},_isDisabled:function(){return!this._editedItem.props.authorized},_onChange:function(e){
var t=this,n=e.value,o=this.props.items.map((function(e){var o={id:e.id};return e.id===t._editedItem.id&&(o.props={profile:[]},Object.keys(n).forEach((function(e){
return!0===n[e]&&o.props.profile.push(e)})),0===o.props.profile.length&&(o.props.profile=void 0)),o}));this.props.onChangeItems(o)},_getValue:function(){var e=this,t=d(this._editedItem.props.profile)
;return l.map((function(n){return{name:n.toLowerCase(),label:e.getLsiComponent(n.toLowerCase()),value:!(!t||!t.find((function(e){return e===n.toLowerCase()})))}}))},render:function(){
return o.Common.Element.create(o.Forms.Checkboxes,{value:this._getValue(),onChange:this._onChange,label:this.getLsiComponent("profilesLabel"),disabled:this._isDisabled()})}}));function g(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=function(e,t){t||(t=e.slice(0))
;return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        .uu5-bricks-switch-selector {\n          min-width: auto;\n        }\n      "]);return v=function(){
return e},e}n.d(t,"AuthorizedEditable",(function(){return I}));var C=[{name:o.Common.Element.create(o.Bricks.Lsi,{lsi:i.common.componentPropsLabel}),setup:[{name:"artifactUri",type:"text",
label:i.authorized.artifactLabel},{name:"useCase",type:"text",label:i.authorized.useCaseLabel}]}],b={setup:[h,f]},y={tagName:"Plus4U5.App.Authorized.Item",isElement:!0,props:{contentEditable:!0,
authorized:!0}};function P(e){var t=e;e.props&&(t=e.props);var n,r=m.find((function(e){return t[e]}));return"authorized"===r&&t.profile&&(n=d(t.profile).map((function(e){
return o.Common.Element.create(o.Bricks.Lsi,{key:e,lsi:i.authorized[e]})})).reduce((function(e,t,n,o){return e.push(t),n<o.length-1&&e.push(", "),e}),[])),
o.Common.Element.create(o.Common.Fragment,null,o.Common.Element.create("div",null,o.Common.Element.create(o.Bricks.Lsi,{lsi:i.authorized[r]})),n?o.Common.Element.create("div",null,n):null)}
function _(e){var t=e;e.props&&(t=e.props);var n=m.find((function(e){return t[e]})),o="".concat(n);if("authorized"===n&&t.profile){var r=d(t.profile);o+=" (".concat(r.join(", "),")")}return o}
var I=o.Common.VisualComponent.create({mixins:[o.Common.BaseMixin],statics:{tagName:"Plus4U5.App.AuthorizedEditable",classNames:{main:"plu4u5-app-authorized-editable",switchSelector:s.a.css(v())},
lsi:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){
g(e,t,n[t])}))}return e}({},i.common,i.authorized)}},propTypes:{component:o.PropTypes.object.isRequired},getDefaultProps:function(){return{component:null}},getInitialState:function(){return{
editationModalOpen:!1,activeItemIndex:0}},getPropsToSave:function(){return{}},_registerEditToolbar:function(e){this._editToolbar=e},_onEndEditation:function(){this.props.component.endEditation()},
_onChangeRenderedItem:function(e){var t=e.value;this.props.component.endChildrenEditation(),this.setState({activeItemIndex:t})},_onCloseEditationModal:function(e){var t=this;e?this.setState({
editationModalOpen:!1},(function(){t.props.component.saveEditation(e),t._editToolbar.closeMoreSettings()})):this.setState({editationModalOpen:!1},this._editToolbar.closeMoreSettings)},
_onSettingsClick:function(){this.props.component.endChildrenEditation(),this.setState((function(e){return{editationModalOpen:!e.editationModalOpen}}))},_renderMoreSettingsModal:function(){
return o.Common.Element.create(o.Common.Suspense,{fallback:""},o.Common.Element.create(o.BricksEditable.Modal,{shown:!0,componentName:this.props.component.getTagName(),
componentProps:this.props.component.getEditablePropsValues(Object.keys(this.props.component.props)),componentPropsForm:C,header:this.getLsiComponent("modalHeader"),onClose:this._onCloseEditationModal,
itemName:r.App.Authorized.Item.tagName,itemDefaultProps:r.App.Authorized.Item.defaultProps,itemPropsForm:b,newItem:y,itemsSource:"children",getItemLabel:P}))},_getToolbarItems:function(e){var t=this
;return Array.isArray(e)?[o.Common.Element.create(o.Forms.SwitchSelector,{items:(e||[]).map((function(e,n){return{value:n,content:_(e.props),bgStyle:t.state.activeItemIndex===n?"underline":void 0,
colorSchema:"primary"}})),onChange:this._onChangeRenderedItem,className:this.getClassName("switchSelector"),value:this.state.activeItemIndex,key:"switchSelector",bgStyle:"transparent",
colorSchema:"custom",size:"l",spacing:0})]:null},_renderItem:function(e){return Array.isArray(e)?e[this.state.activeItemIndex]:null},render:function(){var e=this.props.component.getChildren()
;return!Array.isArray(e)&&e&&(e=[e]),Array.isArray(e)&&0===(e=e.filter((function(e){return o.Common.Element.isValid(e)&&e.type.tagName===r.App.Authorized.Item.tagName}))).length&&(e=null),
o.Common.Element.create(o.Bricks.Div,this.getMainPropsToPass(),o.Common.Element.create(o.BricksEditable.Toolbar,{ref_:this._registerEditToolbar,items:this._getToolbarItems(e),
onClose:this._onEndEditation,onMoreSettingsClick:this._onSettingsClick},this._renderItem(e)),this.state.editationModalOpen?this._renderMoreSettingsModal():null)}});t.default=I}}]);