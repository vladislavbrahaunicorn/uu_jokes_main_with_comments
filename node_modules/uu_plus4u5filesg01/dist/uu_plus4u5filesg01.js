/*!
 * Copyright (c) 2018 Unicorn a.s.
 * All rights reserved.
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("module"), require("uu5g04"), require("uu5g04-bricks"), require("uu5tilesg01"), require("uu5imagingg01"), require("uu_appg01"), require("uu5g04-forms"), require("react"));
	else if(typeof define === 'function' && define.amd)
		define("uu_plus4u5filesg01", ["module", "uu5g04", "uu5g04-bricks", "uu5tilesg01", "uu5imagingg01", "uu_appg01", "uu5g04-forms", "react"], factory);
	else if(typeof exports === 'object')
		exports["uu_plus4u5filesg01"] = factory(require("module"), require("uu5g04"), require("uu5g04-bricks"), require("uu5tilesg01"), require("uu5imagingg01"), require("uu_appg01"), require("uu5g04-forms"), require("react"));
	else
		root["Plus4U5"] = root["Plus4U5"] || {}, root["Plus4U5"]["Files"] = factory(root["undefined"], root["UU5"], root["UU5"]["Bricks"], root["UU5"]["Tiles"], root["UU5"]["Imaging"], root["UuApp"], root["UU5"]["Forms"], root["React"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__25__, __WEBPACK_EXTERNAL_MODULE__59__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(1);


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

var mod = __webpack_require__(2);

var isDoc = typeof document !== "undefined";
var uri = ((mod ? mod.uri : isDoc && (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName("script"), -1)[0] || {}).src) || "").toString();
uri = uri.split(/\//).slice(0, -1).join("/") + "/"; // runtime publicPath configuration required for proper linking of styles, background images, ...

var floatingVersion = "/4.0.0/";
if (uri.substr(-floatingVersion.length) === floatingVersion) uri = uri.substr(0, uri.length - floatingVersion.length) + "/4.3.1/";
__webpack_require__.p = uri;
module.exports = __webpack_require__(3);

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__2__;

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_file_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileManager", function() { return _core_file_manager_js__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _core_file_uploader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileUploader", function() { return _core_file_uploader_js__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);





if (true) {
  console.log("".concat("uu_plus4u5filesg01", "-").concat("4.3.1", " \xA9 Unicorn\nTerms of Use: https://unicorn.com/tou/").concat("uu_plus4u5filesg01"));
}

uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Environment.addRuntimeLibrary({
  name: "uu_plus4u5filesg01",
  version: "4.3.1"
});
var Files = {
  FileManager: _core_file_manager_js__WEBPACK_IMPORTED_MODULE_1__["default"],
  FileUploader: _core_file_uploader_js__WEBPACK_IMPORTED_MODULE_2__["default"]
};
window.Plus4U5 = window.Plus4U5 || {};
window.Plus4U5.Files = Files;
window.Plus4U5.Files.Lsi = _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"];

/* harmony default export */ __webpack_exports__["default"] = (Files);

/***/ }),
/* 4 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__4__;

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uu5tilesg01__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var uu5tilesg01__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5tilesg01__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var _bricks_file_manager_tile_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(10);
/* harmony import */ var _bricks_file_manager_type_filter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23);
/* harmony import */ var _file_uploader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(29);
/* harmony import */ var _forms_form_controller_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(30);
/* harmony import */ var _internal_file_paste_handler_mixin_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(57);
/* harmony import */ var _internal_list_wrapper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(58);
/* harmony import */ var _internal_tools_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(60);
/* harmony import */ var _helpers_file_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(32);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(11);
/* harmony import */ var _calls__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(13);
/* harmony import */ var _file_manager_less__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(61);
/* harmony import */ var _file_manager_less__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_file_manager_less__WEBPACK_IMPORTED_MODULE_15__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//@@viewOn:imports















 //@@viewOff:imports

function detectMobileBrowser() {
  var check = false;

  (function (a) {
    if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;
  })(navigator.userAgent || navigator.vendor || window.opera);

  return check;
}

var FileManager = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.ScreenSizeMixin, _internal_file_paste_handler_mixin_js__WEBPACK_IMPORTED_MODULE_9__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_13__["default"].TAG + "FileManager",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_13__["default"].CSS + "file-manager",
      dndWrapper: _config_config_js__WEBPACK_IMPORTED_MODULE_13__["default"].CSS + "file-manager-dnd-wrapper"
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    baseUri: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
    uuCmdListBinaries: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdCreateBinary: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdUpdateBinary: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdUpdateBinaryData: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdDeleteBinary: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdGetBinaryData: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdGetBinaryDataUri: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    uuCmdListThumbnails: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdCreateThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdUpdateThumbnailData: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdDeleteThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdGetThumbnailData: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
    uuCmdGetThumbnailDataUri: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    fileList: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.array,
    thumbnailList: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.array,
    onFileCreate: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    onFileUpdate: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    onFileDelete: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    onFileShare: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    onFileClick: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    onSelect: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    thumbnailStrategy: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
    sortItems: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.array,
    sortValues: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.array,
    onSetFileType: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    fileTypeFilters: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.object,
    dndEnabled: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    sharingOptions: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.object,
    fileButtons: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.shape({
      hideDropdown: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
      itemList: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.shape({
        active: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
        onClick: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
        icon: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
        label: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.object])
      })]))
    }),
    lsiLabels: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.object,
    onFilenameSet: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
    searchKeyList: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.array,
    selectable: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOf(["none", "single", "multi"]),
    selectableOnly: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    displayCreateButton: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.object]),
    outputMaxHeight: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.number,
    outputMaxWidth: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.number,
    outputQuality: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.number,
    headerHidden: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    allowCustomTags: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    ignoreTags: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string),
    availableTags: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string),
    onTagCreate: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    readOnly: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    sizeLimit: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.number,
    createButtonFileCodeRule: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOf(["none", "required", "notRequired"]),
    dndFileCodeRule: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOf(["none", "required", "notRequired"]),
    bulkActions: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.shape({
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.any,
      // UU5 content
      onClick: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
      active: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool
    })),
    displayInfoBar: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    displayFilterBar: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    displayFilterByTags: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    initialCollapseBars: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    var sortItems = [{
      key: "code",
      name: {
        cs: "Kód",
        en: "Code"
      }
    }, {
      key: "filename",
      name: {
        cs: "Název souboru",
        en: "Filename"
      }
    }, {
      key: "sys.mts",
      name: {
        cs: "Datum změny",
        en: "Modification Time"
      }
    }];
    return {
      uuCmdListBinaries: "uu-app-binarystore/listBinaries",
      uuCmdCreateBinary: "uu-app-binarystore/createBinary",
      uuCmdUpdateBinary: "uu-app-binarystore/updateBinary",
      uuCmdUpdateBinaryData: "uu-app-binarystore/updateBinaryData",
      uuCmdDeleteBinary: "uu-app-binarystore/deleteBinary",
      uuCmdGetBinaryData: "uu-app-binarystore/getBinaryData",
      uuCmdGetBinaryDataUri: undefined,
      thumbnailStrategy: "createAll",
      sortItems: sortItems,
      sortValues: [{
        key: "sys.mts",
        descending: true
      }],
      dndEnabled: true,
      searchKeyList: ["code", "filename", "sys.mts", "tagList"],
      selectable: "none",
      selectableOnly: false,
      displayCreateButton: true,
      outputMaxHeight: undefined,
      outputMaxWidth: undefined,
      outputQuality: undefined,
      headerHidden: false,
      allowCustomTags: false,
      ignoreTags: undefined,
      onTagCreate: undefined,
      availableTags: undefined,
      readOnly: false,
      sizeLimit: undefined,
      createButtonFileCodeRule: undefined,
      dndFileCodeRule: undefined,
      bulkActions: undefined,
      displayInfoBar: true,
      displayFilterBar: true,
      displayFilterByTags: true,
      initialCollapseBars: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    this._sharingOptions = {
      default: [{
        label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_SHARE_TYPE_CODE,
        value: "${code}",
        codeStyle: "text"
      }, {
        label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_SHARE_TYPE_URI,
        value: _calls__WEBPACK_IMPORTED_MODULE_14__["default"].getCommandUri(this.props.baseUri, "uu-app-binarystore/getBinaryData") + "?code=${code}",
        codeStyle: "text"
      }]
    };

    var strategies = this._getCodeStrategies(this.props);

    this._settings = _objectSpread({
      baseUri: this.props.baseUri,
      uuCmdCreateBinary: this.props.uuCmdCreateBinary,
      uuCmdUpdateBinary: this.props.uuCmdUpdateBinary,
      uuCmdUpdateBinaryData: this.props.uuCmdUpdateBinaryData,
      uuCmdDeleteBinary: this.props.uuCmdDeleteBinary,
      uuCmdGetBinaryData: this.props.uuCmdGetBinaryData,
      uuCmdGetBinaryDataUri: this.props.uuCmdGetBinaryDataUri,
      uuCmdListThumbnails: this.props.uuCmdListThumbnails,
      uuCmdCreateThumbnail: this.props.uuCmdCreateThumbnail || this.props.uuCmdCreateBinary,
      uuCmdUpdateThumbnailData: this.props.uuCmdUpdateThumbnailData || this.props.uuCmdUpdateBinaryData,
      uuCmdDeleteThumbnail: this.props.uuCmdDeleteThumbnail || this.props.uuCmdDeleteBinary,
      uuCmdGetThumbnailData: this.props.uuCmdGetThumbnailData || this.props.uuCmdGetBinaryData,
      uuCmdGetThumbnailDataUri: this.props.uuCmdGetThumbnailDataUri || this.props.uuCmdGetBinaryDataUri,
      thumbnailStrategy: this.props.thumbnailStrategy
    }, strategies, {
      outputMaxHeight: this.props.outputMaxHeight,
      outputMaxWidth: this.props.outputMaxWidth,
      outputQuality: this.props.outputQuality,
      sharingOptions: this.props.sharingOptions ? this.props.sharingOptions : this._sharingOptions
    });
    this._lsiLabels = {
      header: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER,
      barHeader: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_HEADER,
      searchPlaceholder: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_SEARCH_PLACEHOLDER,
      noBinariesWarning: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_EMPTY_WARNING,
      addBinaryFormHeader: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_ADD_BINARY,
      addBinariesFormHeader: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_ADD_BINARIES,
      updateBinaryFormHeader: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_UPDATE_BINARY,
      deleteBinaryFormHeader: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_DELETE_BINARY,
      shareBinaryFormHeader: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_SHARE_HEADER,
      dndAreaPlaceholder: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_DROP_BAR_CONTENT,
      dndAreaUploadSuccessMsg: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_UPLOAD_RESULT_SUCCESS,
      dndAreaUploadFailedMsg: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_UPLOAD_RESULT_FAILED,
      deleteBinaryConfirmMsg: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_DELETE_BINARY_SUCCESS_CONFIRM_MSG,
      previewFormError: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_PREVIEW_ERROR,
      fileSizeExceededError: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_ADD_BINARY_FILE_SIZE_EXCEEDED,
      addBinaryFormFile: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_ADD_BINARY_FILE,
      addBinaryFormFileRequired: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_ADD_BINARY_FILE_REQUIRED,
      deleteBinaryFormContent: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_DELETE_BINARY_MSG,
      updateBinaryMetaDataFormHeader: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_UPDATE_BINARY_META_DATA_FORM_HEADER
    };

    if (this.props.lsiLabels) {
      for (var key in this.props.lsiLabels) {
        this._lsiLabels[key] = this.props.lsiLabels[key];
      }
    }

    this._fileButtons = this._computeFileButtons();
    this._thumbnailMap = {};
    this._noThumbnailImageList = [];
    this._isDndAllowed = this.props.dndEnabled && !this.props.readOnly && !detectMobileBrowser();
    this._onDragEnterCounter = 0;
    var binaries = [];
    var thumbnailMap = {};
    var state = "loading";

    if (this.props.fileList) {
      if (this.props.thumbnailList) {
        for (var i = 0; i < this.props.fileList.length; i++) {
          if (!this.props.fileList[i].code.match(/_th$/)) {
            binaries.push(this._buildBinaryJson(this.props.fileList[i]));
          }
        }

        for (var _i = 0; _i < this.props.thumbnailList.length; _i++) {
          if (this.props.thumbnailList[_i].code.match(/_th$/)) {
            thumbnailMap[this.props.thumbnailList[_i].code] = this.props.thumbnailList[_i];
          }
        }
      } else {
        for (var _i2 = 0; _i2 < this.props.fileList.length; _i2++) {
          if (!this.props.fileList[_i2].code.match(/_th$/)) {
            binaries.push(this._buildBinaryJson(this.props.fileList[_i2]));
          } else {
            thumbnailMap[this.props.fileList[_i2].code] = this.props.fileList[_i2];
          }
        }
      }

      state = "ready";
    }

    return {
      state: state,
      type: "full",
      binaries: binaries,
      thumbnailMap: thumbnailMap,
      displayCreateButton: this._processDisplayCreateButton(),
      dndHover: false,
      collapseBars: this.props.initialCollapseBars
    };
  },
  componentWillMount: function componentWillMount() {
    if (this.props.customCodeStrategy) {
      uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.warning('Property "customCodeStrategy" is deprecated! Use properties "createButtonFileCodeRule" and "dndFileCodeRule" instead.');
    }
  },
  componentDidMount: function componentDidMount() {
    if (!this.props.fileList) {
      this._listBinaries(0);
    }

    if (this.props.fileList && this.props.thumbnailStrategy === "createAll") {
      this._migrateImagesWithoutThumbnail();
    }
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var strategies = this._getCodeStrategies(nextProps);

    this._settings = _objectSpread({
      baseUri: nextProps.baseUri,
      uuCmdCreateBinary: nextProps.uuCmdCreateBinary,
      uuCmdUpdateBinary: nextProps.uuCmdUpdateBinary,
      uuCmdUpdateBinaryData: nextProps.uuCmdUpdateBinaryData,
      uuCmdDeleteBinary: nextProps.uuCmdDeleteBinary,
      uuCmdGetBinaryData: nextProps.uuCmdGetBinaryData,
      uuCmdGetBinaryDataUri: nextProps.uuCmdGetBinaryDataUri,
      uuCmdListThumbnails: nextProps.uuCmdListThumbnails,
      uuCmdCreateThumbnail: nextProps.uuCmdCreateThumbnail || nextProps.uuCmdCreateBinary,
      uuCmdUpdateThumbnailData: nextProps.uuCmdUpdateThumbnailData || nextProps.uuCmdUpdateBinaryData,
      uuCmdDeleteThumbnail: nextProps.uuCmdDeleteThumbnail || nextProps.uuCmdDeleteBinary,
      uuCmdGetThumbnailData: nextProps.uuCmdGetThumbnailData || nextProps.uuCmdGetBinaryData,
      uuCmdGetThumbnailDataUri: nextProps.uuCmdGetThumbnailDataUri || nextProps.uuCmdGetBinaryDataUri,
      thumbnailStrategy: nextProps.thumbnailStrategy
    }, strategies, {
      outputMaxHeight: nextProps.outputMaxHeight,
      outputMaxWidth: nextProps.outputMaxWidth,
      outputQuality: nextProps.outputQuality,
      sharingOptions: nextProps.sharingOptions ? nextProps.sharingOptions : this._sharingOptions
    });
    this._isDndAllowed = nextProps.dndEnabled && !detectMobileBrowser();

    if (this.props.fileButtons !== nextProps.fileButtons || this.props.customFileButtons !== nextProps.customFileButtons || this.props.readOnly !== nextProps.readOnly) {
      this._fileButtons = this._computeFileButtons(nextProps);
    }

    if (this.props.displayCreateButton !== nextProps.displayCreateButton) {
      this.setState({
        displayCreateButton: this._processDisplayCreateButton(nextProps)
      });
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  addFile: function addFile(binary) {
    var binaryToPush = this._buildBinaryJson(binary);

    this.setState(function (prevState) {
      var binaries = _toConsumableArray(prevState.binaries);

      binaries.push(binaryToPush);
      return {
        binaries: binaries
      };
    });
  },
  getFile: function getFile(binaryCode) {
    var binary = null;

    for (var i = 0; i < this.state.binaries.length; i++) {
      if (binaryCode === this.state.binaries[i].binary.code) {
        binary = this.state.binaries[i].binary;
        break;
      }
    }

    return binary;
  },
  updateFile: function updateFile(binary) {
    var _this = this;

    var selectedItemList = this._listController.getSelectedItemList();

    var inMethodSetState = function inMethodSetState() {
      return _this.setState(function (prevState) {
        var binaries = prevState.binaries;

        for (var i = 0; i < binaries.length; i++) {
          if (binaries[i].code === binary.code) {
            binaries = _toConsumableArray(binaries);
            binaries[i] = _this._buildBinaryJson(_objectSpread({}, binary));
            break;
          }
        }

        return {
          binaries: binaries
        };
      });
    };

    var isSelected = false;
    selectedItemList.forEach(function (selectedItem) {
      if (selectedItem.code === binary.code) {
        isSelected = true;
        selectedItem = _this._buildBinaryJson(_objectSpread({}, binary));

        _this._listController.addSelectedItem(selectedItem, inMethodSetState());
      }
    });

    if (!isSelected) {
      inMethodSetState();
    }
  },
  deleteFile: function deleteFile(binaryCode) {
    var _this2 = this;

    this._listController.removeSelectedItem(binaryCode, function () {
      return _this2.setState(function (prevState) {
        var binaries = prevState.binaries;

        for (var i = 0; i < binaries.length; i++) {
          if (binaries[i].binary.code === binaryCode) {
            binaries = _toConsumableArray(binaries);
            binaries.splice(i, 1);
            break;
          }
        }

        return {
          binaries: binaries
        };
      });
    });
  },
  setThumbnail: function setThumbnail(thumbnail) {
    this.setState(function (prevState) {
      var thumbnailMap = _objectSpread({}, prevState.thumbnailMap);

      thumbnailMap[thumbnail.code] = thumbnail;
      return {
        thumbnailMap: thumbnailMap
      };
    });
  },
  unsetThumbnail: function unsetThumbnail(thumbnail) {
    this.setState(function (prevState) {
      var thumbnailMap = _objectSpread({}, prevState.thumbnailMap);

      delete thumbnailMap[thumbnail];
      return {
        thumbnailMap: thumbnailMap
      };
    });
  },
  getThumbnail: function getThumbnail(thumbnailCode) {
    return this.state.thumbnailMap[thumbnailCode];
  },
  customAddSelectedItem: function customAddSelectedItem(tileId) {
    if (this.props.selectable === "single") {
      this._listController.clearSelected();
    }

    this._listController.addSelectedItem(tileId);
  },
  customRemoveSelectedItem: function customRemoveSelectedItem(tileId) {
    this._listController.removeSelectedItem(tileId);
  },
  getSelectedFiles: function getSelectedFiles() {
    return this._listController.getSelectedItemList();
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  pasteFiles_: function pasteFiles_(blobs) {
    if (!this.props.readOnly) {
      blobs = blobs.slice(-1);

      if (blobs.length > 0) {
        this._addFiles(blobs[0]);
      }
    }
  },
  //@@viewOff:overriding
  //@@viewOn:private
  _processDisplayCreateButton: function _processDisplayCreateButton() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var result = props.displayCreateButton;

    if (result === true) {
      result = {
        xs: "texticon"
      };
    }

    if (result) {
      result = Object(_internal_tools_js__WEBPACK_IMPORTED_MODULE_11__["parseScreenSizeProp"])(result, "texticon", function (value) {
        return {
          displayText: !!value.match("text"),
          displayIcon: !!value.match("icon")
        };
      });
    }

    return result;
  },
  _getCodeStrategies: function _getCodeStrategies() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var createButtonFileCodeRule = props.createButtonFileCodeRule;
    var dndFileCodeRule = props.dndFileCodeRule;

    if (props.customCodeStrategy) {
      if (!createButtonFileCodeRule) {
        if (props.customCodeStrategy === "none") {
          createButtonFileCodeRule = "none";
        } else if (props.customCodeStrategy === "single" || props.customCodeStrategy === "multi") {
          createButtonFileCodeRule = "notRequired";
        } else if (props.customCodeStrategy === "singleRequired" || props.customCodeStrategy === "multiRequired") {
          createButtonFileCodeRule = "required";
        }
      }

      if (!dndFileCodeRule) {
        if (props.customCodeStrategy === "none" || props.customCodeStrategy === "single" || props.customCodeStrategy === "singleRequired") {
          dndFileCodeRule = "none";
        } else if (props.customCodeStrategy === "multi") {
          dndFileCodeRule = "notRequired";
        } else if (props.customCodeStrategy === "multiRequired") {
          dndFileCodeRule = "required";
        }
      }
    }

    return {
      createButtonFileCodeRule: createButtonFileCodeRule || "notRequired",
      dndFileCodeRule: dndFileCodeRule || "none"
    };
  },
  _getType: function _getType(binary) {
    var type;
    var icon;
    var thumbnail = "icon";
    var clickable = false;

    if (binary.contentType.match(/\/svg/)) {
      type = "svg";
      icon = "mdi-file-image";
      thumbnail = "original";
      clickable = true;
    } else if (binary.contentType.match(/image\//)) {
      type = "image";
      icon = "mdi-file-image";
      thumbnail = "thumbnail";
      clickable = true;
    } else if (binary.contentType.match(/\/pdf/)) {
      type = "pdf";
      icon = "mdi-file-pdf";
      clickable = true;
    } else if (binary.contentType.match(/(\/html)|(\/xml)/)) {
      type = "xml";
      icon = "mdi-file-xml";
    } else if (binary.contentType.match(/(\/text$)|(^text\/)/)) {
      type = "text";
      icon = "mdi-file-document";
    } else if (binary.contentType.match(/\/json/)) {
      type = "json";
      icon = "mdi-json";
    } else if (binary.filename && binary.filename.match(/(\.rar$)|(\.zip$)|(\.7z$)|(\.tgz$)|(\.tar$)|(\.tar\.gz$)/)) {
      type = "archive";
      icon = "mdi-package";
    } else {
      type = "other";
      icon = "mdi-file";
    }

    return {
      type: type,
      icon: icon,
      thumbnail: thumbnail,
      clickable: clickable
    };
  },
  _buildBinaryJson: function _buildBinaryJson(dtoOut) {
    var type = this.props.onSetFileType ? this.props.onSetFileType(dtoOut) : this._getType(dtoOut);
    var binaryObj = {};

    for (var i = 0; i < this.props.sortItems.length; i++) {
      // this method allows to read "a.b.c" of dtoOut as dtoOut[a][b][c] - in case of sys.mts or other
      binaryObj[this.props.sortItems[i].key] = this.props.sortItems[i].key.split(".").reduce(this._getVarOnKey, dtoOut);
    }

    binaryObj.id = dtoOut.code;
    binaryObj.binary = dtoOut;
    binaryObj.type = type.type;
    binaryObj.icon = type.icon;
    binaryObj.thumbnailType = type.thumbnail;
    binaryObj.clickable = type.clickable;
    return binaryObj;
  },
  _filterBinariesByTags: function _filterBinariesByTags(binaries, ignoreTags) {
    if (!ignoreTags || ignoreTags.length === 0) {
      return binaries;
    }

    return binaries.filter(function (binary) {
      return !binary.binary.tagList || binary.binary.tagList.every(function (tag) {
        return ignoreTags.indexOf(tag) === -1;
      });
    });
  },
  _getBinaries: function _getBinaries() {
    return this._filterBinariesByTags(this.state.binaries, this.props.ignoreTags);
  },
  _computeFileButtons: function _computeFileButtons() {
    var _this3 = this;

    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props,
        fileButtons = _ref.fileButtons,
        deprecatedCustomFileButtons = _ref.deprecatedCustomFileButtons,
        readOnly = _ref.readOnly,
        availableTags = _ref.availableTags,
        allowCustomTags = _ref.allowCustomTags;

    var result;
    var usingDeprecatedProp = false;

    if (fileButtons) {
      result = _objectSpread({}, fileButtons);
    } else if (deprecatedCustomFileButtons) {
      usingDeprecatedProp = true;
      result = _objectSpread({}, deprecatedCustomFileButtons);
    } else {
      result = {
        hideDropdown: false,
        itemList: ["share", "download", "update", "updateTags", "delete"]
      };
    } // filter updateTags if tags are not used


    if (result.itemList && !availableTags && !allowCustomTags) {
      result.itemList = result.itemList.filter(function (item) {
        return item !== "updateTags";
      });
    } // filter active items


    if (result.itemList && readOnly) {
      result.itemList = result.itemList.filter(function (item) {
        return item !== "update" && item !== "updateTags" && item !== "delete";
      });
    } // filter items for sharing if share is not available


    if (result.itemList && typeof this.props.uuCmdGetBinaryData === "function" && !this.props.onFileShare) {
      // cannot show file URL in share form because we dont know what uuCmd getBinaryData does and what is shape of server request if is any
      // => filter share button if component does not have its own share form
      result.itemList = result.itemList.filter(function (item) {
        return item !== "share";
      });
    }

    if (Array.isArray(result.itemList)) {
      if (usingDeprecatedProp) {
        result.itemList.forEach(function (item) {
          if (item.icon) item.active = true;
        });
      }

      result.itemList = result.itemList.map(function (item) {
        var result = null;

        if (typeof item === "string") {
          switch (item) {
            case "share":
              result = {
                label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_SHARE,
                isDownload: false,
                onClick: _this3._openShareBinaryForm,
                icon: "mdi-content-copy",
                active: true
              };
              break;

            case "download":
              result = {
                label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_DOWNLOAD,
                isDownload: true
              };
              break;

            case "update":
              result = {
                label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_UPDATE,
                isDownload: false,
                onClick: _this3._openUpdateBinaryFileDialog,
                icon: "mdi-pencil",
                active: true
              };
              break;

            case "updateTags":
              result = {
                label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_UPDATE_TAGS,
                isDownload: false,
                onClick: _this3._openUpdateBinaryDialog,
                icon: "mdi-tag",
                active: true
              };
              break;

            case "delete":
              result = {
                label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_DELETE,
                isDownload: false,
                onClick: _this3._deleteBinary
              };
              break;
          }
        } else {
          result = item;
        }

        return result;
      });
    }

    return result;
  },
  _shouldListNext: function _shouldListNext(pageInfo) {
    // pageIndex is 0-based
    return (pageInfo.pageIndex + 1) * pageInfo.pageSize < pageInfo.total;
  },
  _listBinariesDone: function _listBinariesDone(dtoOut, pageIndex) {
    var _this4 = this;

    this.setState(function (prevState) {
      var filteredBinaries = [];

      var thumbnailMap = _objectSpread({}, prevState.thumbnailMap);

      for (var i = 0; i < dtoOut.itemList.length; i++) {
        if (!dtoOut.itemList[i].code.match(/_th$/)) {
          filteredBinaries.push(_this4._buildBinaryJson(dtoOut.itemList[i]));
        } else {
          thumbnailMap[dtoOut.itemList[i].code] = dtoOut.itemList[i];
        }
      }

      return {
        binaries: prevState.binaries.concat(filteredBinaries),
        thumbnailMap: thumbnailMap
      };
    });
    this._shouldListNext(dtoOut.pageInfo) ? this._listBinaries(pageIndex + 1) : this.props.uuCmdListThumbnails ? this._listThumbnails(0) : this._finishListBinaries();
  },
  _listBinariesFail: function _listBinariesFail(dtoOut) {
    this.setState({
      state: "error"
    });
  },
  _listBinaries: function _listBinaries(pageIndex) {
    var _this5 = this;

    // create data object
    var data = {
      pageInfo: JSON.stringify({
        pageSize: 1000,
        pageIndex: pageIndex
      })
    };

    var done = function done(dtoOut) {
      return _this5._listBinariesDone(dtoOut, pageIndex);
    };

    var fail = this._listBinariesFail;

    if (typeof this.props.uuCmdListBinaries === "function") {
      this.props.uuCmdListBinaries(data).then(done, fail);
    } else {
      var myDtoIn = {
        data: data,
        done: done,
        fail: fail
      };
      _calls__WEBPACK_IMPORTED_MODULE_14__["default"].customGetCmd(this.props.baseUri, this.props.uuCmdListBinaries, myDtoIn);
    }
  },
  _listThumbnailsDone: function _listThumbnailsDone(dtoOut, pageIndex) {
    var _this6 = this;

    this.setState(function (prevState) {
      var thumbnailMap = _objectSpread({}, prevState.thumbnailMap);

      for (var i = 0; i < dtoOut.itemList.length; i++) {
        if (dtoOut.itemList[i].code.match(/_th$/)) {
          thumbnailMap[dtoOut.itemList[i].code] = dtoOut.itemList[i];
        }
      }

      return {
        thumbnailMap: thumbnailMap
      };
    }, function () {
      return _this6._shouldListNext(dtoOut.pageInfo) ? _this6._listThumbnails(pageIndex + 1) : _this6._finishListBinaries();
    });
  },
  _listThumbnailsFail: function _listThumbnailsFail(dtoOut) {
    this.setState({
      state: "error"
    });
  },
  _listThumbnails: function _listThumbnails(pageIndex) {
    var _this7 = this;

    if (this.props.thumbnailStrategy !== "none") {
      var data = {
        pageInfo: JSON.stringify({
          pageSize: 1000,
          pageIndex: pageIndex
        })
      };

      var done = function done(dtoOut) {
        return _this7._listThumbnailsDone(dtoOut, pageIndex);
      };

      var fail = this._listThumbnailsFail;
      var cmd = this.props.uuCmdListThumbnails || this.props.uuCmdListBinaries;

      if (typeof cmd === "function") {
        cmd(data).then(done, fail);
      } else {
        var myDtoIn = {
          data: data,
          done: done,
          fail: fail
        };
        _calls__WEBPACK_IMPORTED_MODULE_14__["default"].customGetCmd(this.props.baseUri, cmd, myDtoIn);
      }
    } else {
      this._finishListBinaries();
    }
  },
  _finishListBinaries: function _finishListBinaries() {
    this.setState({
      state: "ready"
    });

    if (this.props.thumbnailStrategy === "createAll") {
      this._migrateImagesWithoutThumbnail();
    }
  },
  _migrateImagesWithoutThumbnail: function _migrateImagesWithoutThumbnail() {
    var binaries = this.state.binaries;

    for (var i = 0; i < binaries.length; i++) {
      var code = binaries[i].binary.code.length > 61 ? binaries[i].binary.code.substr(0, 61) : binaries[i].binary.code;

      if (binaries[i].thumbnailType === "thumbnail" && !this.state.thumbnailMap[code + "_th"]) {
        this._noThumbnailImageList.push(binaries[i].code);
      }
    }

    this._migrateImage(0);
  },
  _migrateImageDone: function _migrateImageDone(data, header, index) {
    var _this8 = this;

    var blob = new Blob([data], {
      type: header
    });

    this._saveThumbnail(this._noThumbnailImageList[index], blob, index, function () {
      _this8._migrateImage(index + 1);

      _this8._saveOriginalAsThumbnail(_this8._noThumbnailImageList[index], blob);
    }, function (thumbnailDtoOut) {
      _this8.setThumbnail(thumbnailDtoOut);

      _this8._migrateImage(index + 1);
    }, true);
  },
  _migrateImageFail: function _migrateImageFail(dtoOut, index) {
    this._migrateImage(index + 1);
  },
  _migrateImage: function _migrateImage(index) {
    var _this9 = this;

    if (this._noThumbnailImageList[index]) {
      var data = {
        code: this._noThumbnailImageList[index]
      };

      var done = function done(data, header) {
        return _this9._migrateImageDone(data, header, index);
      };

      var fail = function fail(dtoOut) {
        return _this9._migrateImageFail(dtoOut, index);
      };

      if (typeof this._settings.uuCmdGetBinaryData === "function") {
        this._settings.uuCmdGetBinaryData(data).then(done, fail);
      } else {
        var dtoIn = {
          data: data,
          done: done,
          fail: fail
        };
        _calls__WEBPACK_IMPORTED_MODULE_14__["default"].customGetNotTransformedCmd(this.props.baseUri, this._settings.uuCmdGetBinaryData, dtoIn);
      }
    }
  },
  _saveThumbnail: function _saveThumbnail(code, file, index, onFail, onSuccess, isMigration) {
    var _this10 = this;

    var imageEncoding = "image/jpeg";
    var imageQuality = 0.85;
    var fileLoader = new FileReader();
    var canvas = document.createElement("canvas");
    var context = null;
    var imageObj = new Image();

    if (isMigration && this.props.thumbnailStrategy === "createAll" || !isMigration && (this.props.thumbnailStrategy === "createAll" || this.props.thumbnailStrategy === "createNew")) {
      fileLoader.readAsDataURL(file);
    } else {
      onFail();
    }

    fileLoader.onload = function () {
      var data = fileLoader.result;
      imageObj.src = data;
    };

    imageObj.onerror = function (e) {
      onFail();
    };

    imageObj.onload = function () {
      // Check for empty images
      if (imageObj.width === 0 || imageObj.height === 0) {
        uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.warning("Image is empty");
        onFail();
      } else {
        var canvasProps = _this10._calculateCanvasSize(imageObj.width, imageObj.height);

        canvas.id = "file-manager-hidden-canvas";
        canvas.width = canvasProps.canvasWidth;
        canvas.height = canvasProps.canvasHeight;
        canvas.style.visibility = "hidden";
        document.body.appendChild(canvas);
        context = canvas.getContext("2d");
        context.fillStyle = "white";
        context.fillRect(0, 0, canvasProps.canvasWidth, canvasProps.canvasHeight);
        context.drawImage(imageObj, 0, 0, canvasProps.canvasWidth, canvasProps.canvasHeight);
        var dataURI = canvas.toDataURL(imageEncoding, imageQuality);
        var byteString = atob(dataURI.split(",")[1]);
        var mimeString = dataURI.split(",")[0].split(":")[1].split(";")[0];
        var ab = new ArrayBuffer(byteString.length);
        var ia = new Uint8Array(ab);

        for (var i = 0; i < byteString.length; i++) {
          ia[i] = byteString.charCodeAt(i);
        }

        var blob = new Blob([ab], {
          type: mimeString
        });
        document.body.removeChild(canvas);
        var dtoIn = {
          done: function done(thumbnailDtoOut) {
            onSuccess(thumbnailDtoOut);
          },
          fail: function fail() {
            onFail();
          },
          data: {
            code: (code.length > 61 ? code.substr(0, 61) : code) + "_th",
            data: blob
          }
        };

        if (typeof _this10._settings.uuCmdCreateThumbnail === "function") {
          _this10._settings.uuCmdCreateThumbnail(dtoIn.data).then(dtoIn.done, dtoIn.fail);
        } else {
          _calls__WEBPACK_IMPORTED_MODULE_14__["default"].customPostMultipartCmd(_this10.props.baseUri, _this10._settings.uuCmdCreateThumbnail, dtoIn);
        }
      }
    };
  },
  _saveOriginalAsThumbnail: function _saveOriginalAsThumbnail(code, data) {
    code = code.length > 61 ? code.substr(0, 61) : code;
    var dtoIn = {
      done: function done() {},
      fail: function fail() {},
      data: {
        code: code + "_th",
        data: data
      }
    };

    if (typeof this._settings.uuCmdCreateThumbnail === "function") {
      this._settings.uuCmdCreateThumbnail(dtoIn.data).then(dtoIn.done, dtoIn.fail);
    } else {
      _calls__WEBPACK_IMPORTED_MODULE_14__["default"].customPostMultipartCmd(this.props.baseUri, this._settings.uuCmdCreateThumbnail, dtoIn);
    }
  },
  _calculateCanvasSize: function _calculateCanvasSize(imgWidth, imgHeight) {
    var canvasWidth = 512;
    var canvasHeight = 512; // Shrink to fit the whole rectangle, if any side is bigger than canvas side

    if (imgHeight > canvasHeight || imgWidth > canvasWidth) {
      if (imgHeight / canvasHeight > imgWidth / canvasWidth) {
        // scale by height
        imgWidth = imgWidth / (imgHeight / canvasHeight);
        imgHeight = canvasHeight;
      } else {
        // scale by width
        imgHeight = imgHeight / (imgWidth / canvasWidth);
        imgWidth = canvasWidth;
      }
    } // Recalculate canvas size, if img is too small


    canvasHeight = Math.min(canvasHeight, imgHeight);
    canvasWidth = Math.min(canvasWidth, imgWidth);
    return {
      canvasWidth: Math.ceil(canvasWidth),
      canvasHeight: Math.ceil(canvasHeight)
    };
  },
  _openFileDialogue: function _openFileDialogue(type) {
    var inputComp = type === "add" ? this._fileFormAdd : this._fileFormUpdate; // empty the File's value because if not emptied, choosing the same file twice will not trigger onChange

    var input = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.DOM.findNode(inputComp);

    if (input) {
      input = input.querySelector("input");
      if (input) input.value = "";
    }

    inputComp._open();
  },
  _addFiles: function _addFiles(files) {
    files = Array.isArray(files) ? files : [files];

    this._dropBar.setFiles(files, {
      customCodesEnabled: this._settings.createButtonFileCodeRule !== "none",
      customCodesRequired: this._settings.createButtonFileCodeRule === "required"
    });
  },
  _deleteBinary: function _deleteBinary(binary, type) {
    if (this.props.onFileDelete) {
      this.props.onFileDelete(binary, type);
    } else {
      var thumbnail = (binary.code.length > 61 ? binary.code.substr(0, 61) : binary.code) + "_th";

      this._formController.openDeleteBinaryForm(binary, this.state.thumbnailMap[thumbnail], this.unsetThumbnail, this.deleteFile);
    }
  },
  _openUpdateBinaryFileDialog: function _openUpdateBinaryFileDialog(binary, type) {
    if (this.props.onFileUpdate) {
      this.props.onFileUpdate(binary, type);
    } else {
      this._binaryToUpdate = binary;

      this._openFileDialogue("update");
    }
  },
  _openUpdateBinaryDialog: function _openUpdateBinaryDialog(binary, type) {
    if (this.props.onFileInfoUpdate) {
      this.props.onFileInfoUpdate(binary, type);
    } else {
      this._formController.openUpdateBinaryMetaDataForm(binary, this.updateFile);
    }
  },
  _updateBinary: function _updateBinary(binary) {
    var thumbnailCode = (this._binaryToUpdate.code.length > 61 ? this._binaryToUpdate.code.substr(0, 61) : this._binaryToUpdate.code) + "_th";

    this._formController.openUpdateBinaryForm(binary, this._binaryToUpdate, this.state.thumbnailMap[thumbnailCode], this.setThumbnail, this.unsetThumbnail, this.updateFile);
  },
  _openDnDForm: function _openDnDForm(fileList, onSave, formProps) {
    this._formController.openDnDForm(fileList, onSave, formProps);
  },
  _openShareBinaryForm: function _openShareBinaryForm(file, type) {
    if (this.props.onFileShare) {
      this.props.onFileShare(file, type);
    } else {
      this._formController.openShareBinaryForm(file, type);
    }
  },
  _getActions: function _getActions(screenSize) {
    var _this11 = this;

    var actions = []; // displayCreateButton is false or object with screen size keys

    if (this.state.displayCreateButton) {
      actions.push({
        content: this.state.displayCreateButton[screenSize].displayText ? this._lsiLabels.addBinaryFormHeader : undefined,
        icon: this.state.displayCreateButton[screenSize].displayIcon ? "mdi-upload" : null,
        onClick: function onClick() {
          return _this11.props.onFileCreate ? _this11.props.onFileCreate() : _this11._openFileDialogue("add");
        },
        active: true,
        controlledContent: true
      });
    }

    this.state.type !== "full" && actions.push({
      content: "",
      onClick: function onClick() {
        return _this11._setType("full");
      },
      icon: "mdi-view-grid",
      active: true
    });
    this.state.type !== "small" && actions.push({
      content: "",
      onClick: function onClick() {
        return _this11._setType("small");
      },
      icon: "mdi-view-headline",
      active: true
    });
    return actions;
  },
  _setType: function _setType(type) {
    this.state.type !== type && this.setState({
      type: type
    });
  },
  _getVarOnKey: function _getVarOnKey(obj, i) {
    return obj[i];
  },
  _getAttrValue: function _getAttrValue(obj, attr) {
    return attr.split(".").reduce(this._getVarOnKey, obj);
  },
  _attrContainsValue: function _attrContainsValue(attrValue, value) {
    if (!attrValue || !value) return false;
    var result;

    if (Array.isArray(attrValue)) {
      result = attrValue.some(function (item) {
        return item && item.toLowerCase().indexOf(value) !== -1;
      });
    } else {
      result = attrValue.toLowerCase().indexOf(value) !== -1;
    }

    return result;
  },
  _matchSearch: function _matchSearch(item, value) {
    var _this12 = this;

    var fragments = value.toLowerCase().split(/[\s]/);
    var match = false;

    var _loop = function _loop(i) {
      var attrVal = _this12._getAttrValue(item.binary, _this12.props.searchKeyList[i]);

      if (fragments.some(function (frag) {
        return _this12._attrContainsValue(attrVal, frag);
      })) {
        match = true;
        return "break";
      }
    };

    for (var i = 0; i < this.props.searchKeyList.length; i++) {
      var _ret = _loop(i);

      if (_ret === "break") break;
    }

    return match;
  },
  _uploadFiles: function _uploadFiles(fileList, codeList, tagList, shouldAdjustFile) {
    if (!this._dndStats || this._dndStats.finished) {
      var fileStats = [];

      for (var i = 0; i < fileList.length; i++) {
        fileStats.push({
          name: fileList[i].name,
          state: i === 0 ? "started" : "waiting"
        });
      }

      this._dndStats = {
        index: 0,
        fileStats: fileStats,
        fileList: fileList,
        codeList: codeList,
        tagList: tagList
      };

      this._dropBar.setProgress(this._dndStats.fileStats);

      this._uploadFile(shouldAdjustFile);
    } else {
      for (var _i3 = 0; _i3 < fileList.length; _i3++) {
        this._dndStats.fileStats.push({
          name: fileList[_i3].name,
          state: "waiting"
        });
      }

      this._dndStats.fileList = this._dndStats.fileList.concat(fileList);
      this._dndStats.codeList && (this._dndStats.codeList = this._dndStats.codeList.concat(codeList));
      this._dndStats.tagList && (this._dndStats.tagList = this._dndStats.tagList.concat(tagList));

      this._dropBar.setProgress(this._dndStats.fileStats);
    }
  },
  _callUploadFileDone: function _callUploadFileDone(dtoOut, index, shouldAdjustFile) {
    var _this13 = this;

    this._saveThumbnail(dtoOut.code, this._dndStats.fileList[index], index, function () {
      _this13._dndStats.fileStats[index].state = "success";
      _this13._dndStats.fileStats[index + 1] && (_this13._dndStats.fileStats[index + 1].state = "started");

      _this13._dropBar.setProgress(_this13._dndStats.fileStats);

      _this13.addFile(dtoOut);

      _this13._dndStats.index++;

      _this13._uploadFile(shouldAdjustFile);
    }, function (thumbnailDtoOut) {
      _this13._dndStats.fileStats[index].state = "success";
      _this13._dndStats.fileStats[index + 1] && (_this13._dndStats.fileStats[index + 1].state = "started");

      _this13._dropBar.setProgress(_this13._dndStats.fileStats);

      _this13.setThumbnail(thumbnailDtoOut);

      _this13.addFile(dtoOut);

      _this13._dndStats.index++;

      _this13._uploadFile(shouldAdjustFile);
    }, false);
  },
  _callUploadFileFail: function _callUploadFileFail(shouldAdjustFile, message) {
    this._dndStats.fileStats[this._dndStats.index].state = "failed";
    this._dndStats.fileStats[this._dndStats.index].message = message;

    this._dropBar.setProgress(this._dndStats.fileStats);

    this._dndStats.index++;

    this._uploadFile(shouldAdjustFile);
  },
  _callUploadFile: function _callUploadFile(file, index, shouldAdjustFile) {
    var _this14 = this;

    if (file) {
      // validate maximal size of image
      if (file.size && file.size > Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_12__["getMaxFileSize"])(this.props.sizeLimit) * 1024) {
        return this._callUploadFileFail(shouldAdjustFile, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Lsi, {
          lsi: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_ADD_BINARY_FILE_SIZE_EXCEEDED,
          params: {
            maxSize: this.props.sizeLimit
          }
        }));
      }

      var data = {
        data: file
      };

      var done = function done(dtoOut) {
        return _this14._callUploadFileDone(dtoOut, index, shouldAdjustFile);
      };

      var _fail = this._callUploadFileFail;

      if (this._dndStats.codeList && this._dndStats.codeList[index]) {
        data.code = this._dndStats.codeList[index];
      }

      if (this._dndStats.tagList && this._dndStats.tagList[index]) {
        data.tagList = this._dndStats.tagList[index];
      }

      if (typeof this._settings.uuCmdCreateBinary === "function") {
        this._settings.uuCmdCreateBinary(data).then(done, function () {
          return _fail(shouldAdjustFile);
        });
      } else {
        var dtoIn = {
          data: data,
          done: done,
          fail: function fail(response) {
            var message;

            if (response && response.code) {
              var code = response.code.split("/");
              code = code[code.length - 1];

              if (code === "duplicateCode") {
                message = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Lsi, {
                  lsi: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_DUPLICATE_CODE
                });
              }
            }

            if (!message) {
              message = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Lsi, {
                lsi: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_DEFAULT_ERROR_MESSAGE
              });
            }

            _fail(shouldAdjustFile, message);
          }
        };
        _calls__WEBPACK_IMPORTED_MODULE_14__["default"].customPostMultipartCmd(this.props.baseUri, this._settings.uuCmdCreateBinary, dtoIn);
      }
    } else {
      this._dndStats.finished = true;
    }
  },
  _uploadFile: function _uploadFile(shouldAdjustFile) {
    var _this15 = this;

    var index = this._dndStats.index;

    if (index >= this._dndStats.fileList.length) {
      // all files uploaded => ends processing of uploading files
      this._dndStats.finished = true;
      return;
    }

    var file = this._dndStats.fileList[index];

    if (shouldAdjustFile) {
      Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_12__["adjustFile"])(file, this.props).then(function (file) {
        return _this15._callUploadFile(file, index, shouldAdjustFile);
      }, function (response) {
        var message;

        if (response && response.code) {
          var code = response.code.split("/");
          code = code[code.length - 1];

          if (code === "duplicateCode") {
            message = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Lsi, {
              lsi: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_DUPLICATE_CODE
            });
          }
        }

        if (!message) {
          message = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Lsi, {
            lsi: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_DEFAULT_ERROR_MESSAGE
          });
        }

        _this15._callUploadFileFail(shouldAdjustFile, message);
      });
    } else {
      this._callUploadFile(file, index, shouldAdjustFile);
    }
  },
  _onSetFiles: function _onSetFiles(fileList, opt) {
    var _this16 = this;

    // opt is only present if setFiles is explicitly called which only happens when uploading files using the upload button
    var customCodesEnabled = opt ? opt.customCodesEnabled : this._settings.dndFileCodeRule !== "none";
    var customCodesRequired = opt ? opt.customCodesRequired : this._settings.dndFileCodeRule === "required";

    if (customCodesEnabled || this.props.availableTags || this.props.allowCustomTags) {
      this._openDnDForm(fileList, function (codeList, tagList) {
        _this16._uploadFiles(fileList, codeList, tagList, false);
      }, {
        customCodesEnabled: customCodesEnabled,
        customCodesRequired: customCodesRequired
      });
    } else {
      this._uploadFiles(fileList, undefined, undefined, true);
    }
  },
  _onTagCreate: function _onTagCreate(value) {
    this.props.onTagCreate({
      component: this,
      value: value
    });
  },
  _onDropHandler: function _onDropHandler(e) {
    this._onDragEnterCounter = 0;
    this.setState({
      dndHover: false
    });
    e.preventDefault();
    e.stopPropagation();
    var files = [];

    if (e.dataTransfer.items) {
      // Use DataTransfer interface to access the file(s)
      for (var i = 0; i < e.dataTransfer.files.length; i++) {
        if (e.dataTransfer.files[i].type || e.dataTransfer.files[i].size % 4096 !== 0) {
          var file = e.dataTransfer.files[i];
          files.push(file);
        }
      }
    }

    this._onSetFiles(files);
  },
  _onDragOverHandler: function _onDragOverHandler(e) {
    e.preventDefault();
    e.stopPropagation();
  },
  _onDragEnterHandler: function _onDragEnterHandler(e) {
    this._onDragEnterCounter++;
    !this.state.dndHover && this.setState({
      dndHover: true
    });
    e.preventDefault();
    e.stopPropagation();
  },
  _onDragEndHandler: function _onDragEndHandler(e) {
    this._onDragEnterCounter = 0;
    this.setState({
      dndHover: false
    });
    e.preventDefault();
    e.stopPropagation();
  },
  _onDragLeaveHandler: function _onDragLeaveHandler(e) {
    this._onDragEnterCounter--;
    this._onDragEnterCounter <= 0 && this.setState({
      dndHover: false
    });
    e.preventDefault();
    e.stopPropagation();
  },
  _getFilterableTags: function _getFilterableTags() {
    // returns only tags of non ignored files
    var binaries = this._getBinaries();

    if (!binaries) return null; // fill set by tags from binaries

    var binariesTags = new Set();
    binaries.forEach(function (file) {
      if (file.binary.tagList) {
        file.binary.tagList.forEach(function (tag) {
          return binariesTags.add(tag);
        });
      }
    }); // sort all tags

    var result = _toConsumableArray(binariesTags);

    return result.sort();
  },
  _getBulkActions: function _getBulkActions() {
    var result = [];
    var bulkActions = this.props.bulkActions;

    if (Array.isArray(bulkActions)) {
      result = result.concat(bulkActions);
    }

    return result;
  },
  _registerListController: function _registerListController(controller) {
    this._listController = controller;
  },
  _onSelect: function _onSelect(opt) {
    if (typeof this.props.onSelect === "function") {
      this.props.onSelect(_objectSpread({}, opt, {
        component: this
      }));
    }
  },
  _getChild: function _getChild() {
    var _this17 = this;

    // let tileHeight;
    var tileMinWidth;
    var tileMaxWidth;

    if (this.state.type === "full") {
      // tileHeight = this.isXs() || this.isS() ? 278 : 205;
      tileMinWidth = this.isXs() || this.isS() ? 232 : 192;
      tileMaxWidth = this.isXs() || this.isS() ? 540 : 280;
    } else {
      // tileHeight = this.isXs() || this.isS() ? 118 : 70;
      tileMinWidth = 400;
      tileMaxWidth = 800;
    }

    return [uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_forms_form_controller_js__WEBPACK_IMPORTED_MODULE_8__["default"], {
      ref_: function ref_(r) {
        return _this17._formController = r;
      },
      id: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.generateUUID(),
      settings: this._settings,
      lsiLabels: this._lsiLabels,
      key: "formController",
      ignoreTags: this.props.ignoreTags,
      availableTags: this.props.availableTags,
      allowCustomTags: this.props.allowCustomTags,
      onTagCreate: typeof this.props.onTagCreate === "function" ? this._onTagCreate : undefined,
      sizeLimit: this.props.sizeLimit
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Forms.File, {
      ref_: function ref_(r) {
        return _this17._fileFormAdd = r;
      },
      key: "fileFormAdd",
      hidden: true,
      multiple: true,
      onChange: function onChange(e) {
        _this17._addFiles(e.value);
      }
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Forms.File, {
      ref_: function ref_(r) {
        return _this17._fileFormUpdate = r;
      },
      key: "fileFormUpdate",
      hidden: true,
      multiple: false,
      onChange: function onChange(e) {
        _this17._updateBinary(e.value);
      }
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Tiles.ListController, {
      ref_: this._registerListController,
      data: this._getBinaries(),
      selectable: this.props.selectable !== "none",
      padding: "none",
      onSelect: this._onSelect,
      key: "tiles",
      outputMaxHeight: this.props.outputMaxHeight,
      outputMaxWidth: this.props.outputMaxWidth,
      outputQuality: this.props.outputQuality
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Tiles.ActionBar, {
      title: this.getLsiItem(this._lsiLabels.barHeader),
      actions: this._getActions(this.state.screenSize),
      onItemSearch: this._matchSearch,
      searchPlaceHolder: this.getLsiItem(this._lsiLabels.searchPlaceholder),
      collapsed: this.state.collapseBars === undefined ? this.props.selectable === "single" : this.state.collapseBars
    }), this.props.displayFilterBar && uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_bricks_file_manager_type_filter_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
      displayFilterByTags: this.props.displayFilterByTags,
      fileTypeFilters: this.props.fileTypeFilters,
      tags: this._getFilterableTags()
    }), this.props.selectable === "multi" && !this.props.readOnly && uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Tiles.BulkActionBar, {
      key: "bulkBar",
      actions: this._getBulkActions()
    }), this.props.displayInfoBar && uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Tiles.InfoBar, {
      controller: this._listController,
      sortItems: this.props.sortItems,
      sortValues: this.props.sortValues,
      selectable: this.props.selectable === "multi" && !this.props.readOnly
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_internal_list_wrapper_js__WEBPACK_IMPORTED_MODULE_10__["default"], {
      ref_: function ref_(r) {
        return _this17._list = r;
      },
      tileHeight: "auto",
      tileMinWidth: tileMinWidth,
      tileMaxWidth: tileMaxWidth,
      tileSpacing: 8,
      rowSpacing: 8,
      tileElevation: 0,
      tileJustify: "space-between",
      skipInnerTile: true,
      isEmpty: this.state.binaries.length === 0,
      isEmptyMessage: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this._lsiLabels.noBinariesWarning),
      tile: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_bricks_file_manager_tile_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
        isS: this.isXs() || this.isS(),
        fileManager: this,
        tileType: this.state.type,
        onFileClick: this.props.onFileClick ? this.props.onFileClick : null,
        uuCmdGetBinaryData: this._settings.uuCmdGetBinaryData,
        uuCmdGetBinaryDataUri: this._settings.uuCmdGetBinaryDataUri,
        uuCmdGetThumbnailData: this._settings.uuCmdGetThumbnailData,
        uuCmdGetThumbnailDataUri: this._settings.uuCmdGetThumbnailDataUri,
        getThumbnail: this.getThumbnail,
        shouldShowThumbnail: this.props.thumbnailStrategy !== "none",
        fileButtons: this._fileButtons,
        customSelectable: this.props.readOnly ? "none" : this.props.selectable,
        selectableOnly: this.props.selectableOnly,
        onFilenameSet: this.props.onFilenameSet,
        baseUri: this.props.baseUri
      }),
      wrapperAttrs: this._isDndAllowed ? {
        onDragOver: this._onDragOverHandler,
        onDragEnter: this._onDragEnterHandler,
        onDrop: this._onDropHandler,
        onDragEnd: this._onDragEndHandler,
        onDragLeave: this._onDragLeaveHandler
      } : null,
      isHovered: this.state.dndHover
    }, !this.props.readOnly && uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Div, {
      className: this.getClassName("dndWrapper")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_file_uploader_js__WEBPACK_IMPORTED_MODULE_7__["default"], {
      ref_: function ref_(r) {
        return _this17._dropBar = r;
      },
      onSetFiles: this._onSetFiles,
      lsiLabels: {
        placeholder: this._lsiLabels.dndAreaPlaceholder,
        uploadSuccessMsg: this._lsiLabels.dndAreaUploadSuccessMsg,
        uploadFailedMsg: this._lsiLabels.dndAreaUploadFailedMsg
      },
      sizeLimit: this.props.sizeLimit,
      customCodesEnabled: this._settings.dndFileCodeRule !== "none",
      customCodesRequired: this._settings.dndFileCodeRule === "required",
      dndEnabled: false
    }))))];
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var child;

    if (this.state.state === "loading") {
      child = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Loading, null);
    } else if (this.state.state === "ready") {
      child = this._getChild();
    } else if (this.state.state === "error") {
      child = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Div, {
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_COPY_FILE_MANAGER_LIST_FAILED)
      });
    }

    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Section, _extends({}, this.getMainPropsToPass(), {
      header: this.props.headerHidden ? null : _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this._lsiLabels.header),
      level: 1
    }), child);
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (FileManager);

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__6__;

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__7__;

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var Lsi = {
  LSI_LABEL_ADD_BINARY: {
    cs: "Nahrát soubor",
    en: "Upload File"
  },
  LSI_LABEL_ADD_BINARIES: {
    cs: "Nahrát soubory",
    en: "Upload Files"
  },
  LSI_LABEL_UPDATE_BINARY: {
    cs: "Upravit soubor",
    en: "Update File"
  },
  LSI_UPDATE_BINARY_META_DATA_FORM_HEADER: {
    cs: "Upravit tagy souboru",
    en: "Update File Tags"
  },
  LSI_LABEL_DELETE_BINARY: {
    cs: "Smazat soubor",
    en: "Delete File"
  },
  LSI_LABEL_FILE_MANAGER: {
    cs: "Správce souborů",
    en: "File Manager"
  },
  LSI_LABEL_FILE_MANAGER_HEADER: {
    cs: "Soubory",
    en: "Files"
  },
  LSI_LABEL_FILE_MANAGER_SEARCH_PLACEHOLDER: {
    cs: "Hledat soubor...",
    en: "Search file..."
  },
  LSI_LABEL_FILE_MANAGER_DROP_BAR_CONTENT: {
    cs: "Sem přetáhněte soubory k nahrání",
    en: "Drop files to upload here"
  },
  LSI_LABEL_FILE_MANAGER_DROP_ZONE: {
    cs: "Přetáhněte soubory k nahrání",
    en: "Drop files to upload"
  },
  LSI_LABEL_FILE_MANAGER_EMPTY_WARNING: {
    cs: "Úložiště neobsahuje žádné soubory.",
    en: "The storage does not contain any files."
  },
  LSI_LABEL_FILE_MANAGER_COPY_INFO: {
    cs: "Kód byl zkopírován do schránky.",
    en: "Code has been copied to clipboard."
  },
  LSI_LABEL_FILE_MANAGER_ACTION_FULL_TILE: {
    cs: "Zobraz velké dlaždice",
    en: "Show Full Tile"
  },
  LSI_LABEL_FILE_MANAGER_ACTION_SMALL_TILE: {
    cs: "Zobraz kompaktní dlaždice",
    en: "Show Compact Tile"
  },
  LSI_LABEL_FILE_MANAGER_FILTER_HEADER: {
    cs: "Filtry",
    en: "Filters"
  },
  LSI_LABEL_FILE_MANAGER_FILTER_RESET: {
    cs: "Zrušit filtry",
    en: "Reset filters"
  },
  LSI_LABEL_FILE_MANAGER_FILTER_IMAGE: {
    cs: "Obrázky",
    en: "Images"
  },
  LSI_LABEL_FILE_MANAGER_FILTER_TEXT: {
    cs: "Dokumenty",
    en: "Documents"
  },
  LSI_LABEL_FILE_MANAGER_FILTER_ARCHIVE: {
    cs: "Archivy",
    en: "Archives"
  },
  LSI_LABEL_FILE_MANAGER_FILTER_OTHER: {
    cs: "Ostatní",
    en: "Other"
  },
  LSI_LABEL_FILE_MANAGER_SHARE_HEADER: {
    cs: "Sdílet soubor",
    en: "Share File"
  },
  LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_PREVIEW: {
    cs: "Náhled",
    en: "Preview"
  },
  LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_SHARE: {
    cs: "Sdílet",
    en: "Share"
  },
  LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_DOWNLOAD: {
    cs: "Stáhnout",
    en: "Download"
  },
  LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_UPDATE: {
    cs: "Nahradit",
    en: "Update"
  },
  LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_UPDATE_TAGS: {
    cs: "Upravit tagy",
    en: "Update Tags"
  },
  LSI_LABEL_FILE_MANAGER_TILE_DROPDOWN_DELETE: {
    cs: "Smazat",
    en: "Delete"
  },
  LSI_LABEL_FILE_MANAGER_SHARE_RADIO_LABEL: {
    cs: "Sdílet",
    en: "Share"
  },
  LSI_LABEL_FILE_MANAGER_SHARE_TYPE_CODE: {
    cs: "Kód",
    en: "Code"
  },
  LSI_LABEL_FILE_MANAGER_SHARE_TYPE_IMAGE: {
    cs: "Komponentu obrázku",
    en: "Image Component"
  },
  LSI_LABEL_FILE_MANAGER_SHARE_TYPE_FILE_LINK: {
    cs: "Komponentu odkazu",
    en: "Link Component"
  },
  LSI_LABEL_FILE_MANAGER_SHARE_TYPE_URI: {
    cs: "URI",
    en: "URI"
  },
  LSI_LABEL_DELETE_BINARY_SUCCESS_CONFIRM_MSG: {
    cs: "Soubor byl úspěšně smazán.",
    en: "The file has been successfully deleted."
  },
  LSI_LABEL_SHARE_BINARY_SUCCESS_CONFIRM_MSG: {
    cs: "Zkopírováno do schránky",
    en: "Copied to clipboard"
  },
  LSI_LABEL_FILE_MANAGER_SHARE_TEXT: {
    cs: "Text ke zkopírování",
    en: "Text to copy"
  },
  LSI_LABEL_FILE_MANAGER_PREVIEW_ERROR: {
    en: "File does not exist. It was probably deleted.",
    cs: "Soubor neexistuje. Nejspíš byl smazán."
  },
  LSI_LABEL_FILE_MANAGER_UPLOAD_RESULT_SUCCESS: {
    en: "All files were successfuly uploaded.",
    cs: "Všechny soubory byly úspěšně nahrány."
  },
  LSI_LABEL_FILE_MANAGER_UPLOAD_RESULT_FAILED: {
    en: "Some files could not be uploaded.",
    cs: "Některé soubory se nepodařilo nahrát."
  },
  LSI_LABEL_ADD_BINARY_CODE: {
    cs: "Kód",
    en: "Code"
  },
  LSI_LABEL_ADD_BINARY_CODE_REQUIRED: {
    cs: "Kód je povinný",
    en: "Code is required"
  },
  LSI_LABEL_ADD_TAGS: {
    cs: "Tagy",
    en: "Tags"
  },
  LSI_LABEL_ADD_BINARY_FILE_SIZE_EXCEEDED: {
    cs: "Soubor je příliš velký. Maximální velikost souboru je ${maxSize}kB.",
    en: "The file is too large. Maximal file size is ${maxSize}kB."
  },
  LSI_LABEL_ADD_BINARY_FILE: {
    cs: "Soubor",
    en: "File"
  },
  LSI_LABEL_ADD_BINARY_FILE_REQUIRED: {
    cs: "Soubor je povinný.",
    en: "File is required."
  },
  LSI_LABEL_ADD_BINARY_ADVANCED: {
    cs: "Rozšířené",
    en: "Advanced"
  },
  LSI_LABEL_DELETE_BINARY_MSG: {
    cs: "Opravdu chcete trvale odstranit soubor ${filename}?",
    en: "Do you really want to delete the file ${filename}?"
  },
  LSI_LABEL_COPY_FILE_MANAGER_LIST_FAILED: {
    en: "An error occurred while receiving data from server.",
    cs: "Nepodařilo se načíst data ze serveru."
  },
  LSI_LABEL_BUTTON_CANCEL: {
    cs: "Zrušit",
    en: "Cancel"
  },
  LSI_LABEL_BUTTON_SAVE: {
    cs: "Uložit",
    en: "Save"
  },
  LSI_LABEL_BUTTON_DELETE: {
    cs: "Smazat",
    en: "Delete"
  },
  LSI_LABEL_BUTTON_COPY: {
    cs: "Kopírovat",
    en: "Copy"
  },
  LSI_INVALID_CODE: {
    cs: "Kód je nevalidní.",
    en: "Code is invalid."
  },
  LSI_INVALID_TAGS: {
    cs: "Tagy $1 nejsou povolené.",
    en: "Set tags $1 are not allowed."
  },
  LSI_DUPLICATE_CODE: {
    en: "Given code is not unique.",
    cs: "Zadaný kód je již obsazen."
  },
  LSI_DEFAULT_ERROR_MESSAGE: {
    en: "Sending failed!",
    cs: "Odeslání selhalo."
  },
  commandErrors: {
    "uu-app-binarystore/uuBinaryCreateBinary/duplicateCode": {
      en: "Given code is not unique.",
      cs: "Zadaný kód je již obsazen."
    },
    "uu-app-binarystore/uuBinaryCreateBinary/invalidDtoIn": {
      en: "Input data is not valid.",
      cs: "Zadaná vstupní data nejsou validní."
    },
    "uu-app-binarystore/uuBinaryDeleteBinary/invalidDtoIn": {
      en: "Input data is not valid.",
      cs: "Zadaná vstupní data nejsou validní."
    },
    resizeFailed: {
      en: "Resizing failed!",
      cs: "Změna velikosti selhala."
    },
    default: {
      en: "Sending failed!",
      cs: "Odeslání selhalo."
    }
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Lsi);

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = ({
  getLsiComponent: function getLsiComponent(lsiObj, params) {
    var out;

    if (typeof lsiObj === "string") {
      out = lsiObj;
    } else {
      if (params) {
        var lsiResult = {};

        for (var lang in lsiObj) {
          for (var replaceKey in params) {
            lsiResult[lang] = lsiObj[lang].replace("${".concat(replaceKey, "}"), params[replaceKey]);
          }
        }

        out = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Lsi, {
          lsi: lsiResult
        });
      } else {
        out = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Lsi, {
          lsi: lsiObj
        });
      }
    }

    return out;
  }
});

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uu5imagingg01__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);
/* harmony import */ var uu5imagingg01__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5imagingg01__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _calls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15);
/* harmony import */ var _tag_list_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16);
/* harmony import */ var _image_from_call_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(17);
/* harmony import */ var _file_manager_tile_less__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18);
/* harmony import */ var _file_manager_tile_less__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_file_manager_tile_less__WEBPACK_IMPORTED_MODULE_8__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var LIGHTBOX_PLACEHOLDER_DATA = [{
  id: "image",
  src: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
  authenticate: true
}];
var MemoizedLightbox = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Component.memo(function (props) {
  return uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Imaging"].Lightbox, props);
});
var FileManagerTile = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].PureRenderMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].TAG + "FileManagerTile",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].CSS + "file-manager-tile",
      mainSelected: _config_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].CSS + "file-manager-tile-selected",
      selectableOnly: _config_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].CSS + "file-manager-selectable-only",
      innerTile: _config_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].CSS + "file-manager-inner-tile",
      smallTile: "small-tile",
      previewField: "preview-field",
      image: "image",
      previewContentWrapper: "preview-content-wrapper",
      infoField: "info-field",
      tileCard: "tile-card",
      infoBox: "info-box",
      infoFieldRow: "info-field-row",
      infoFieldCol: "info-field-col",
      primaryAttribute: "primary-attribute",
      secondaryAttribute: "secondary-attribute",
      buttonPanel: "button-panel",
      selectButton: "select-button",
      flex: function flex(props) {
        return props.tileType === "small" ? "" : _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css("\n              display: flex;\n              align-items: stretch;\n\n              & > .plus4u5-files-file-manager-tile {\n                display: flex;\n                flex-direction: column;\n                align-items: stretch;\n\n                & > .tile-card {\n                  flex: 1 0 auto;\n                  display: flex;\n                  flex-direction: column;\n                  align-items: stretch;\n\n                  & > .info-box {\n                    flex: 1 0 auto;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: stretch;\n\n                    & > .info-field {\n                      flex: 1 0 auto;\n                      display: flex;\n                      flex-direction: column;\n                      align-items: stretch;\n                    }\n                  }\n                }\n              }\n            ");
      }
    },
    defaults: {
      maxButtons: 3
    },
    opt: {
      nestingLevelWrapper: true,
      pureRender: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    fileManager: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object,
    tileType: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    getThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    isS: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    uuCmdGetBinaryData: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string]),
    uuCmdGetBinaryDataUri: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    uuCmdGetThumbnailData: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string]),
    uuCmdGetThumbnailDataUri: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onFileClick: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    shouldShowThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    fileButtons: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object,
    customSelectable: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    selectableOnly: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    onFilenameSet: uu5g04__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      selectableOnly: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    return _objectSpread({
      loadError: false,
      renderButtons: this.props.isS,
      src: undefined,
      srcMeta: this._updateSrc(this.props.uuCmdGetBinaryData, this.props.uuCmdGetBinaryDataUri),
      thumbSrc: undefined,
      thumbThumbSrc: undefined
    }, this._updateThumbnails(), {
      icon: this.props.data.icon || "mdi-file",
      thumbnailType: this.props.data.thumbnailType || "icon",
      binaryType: this.props.data.type || "other"
    });
  },
  componentDidMount: function componentDidMount() {
    this._updateLightbox();
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {
    var _this = this;

    this.setState(function (prevState) {
      if (!prevState.renderButtons && _this.props.isS) {
        return {
          renderButtons: true
        };
      }
    });

    this._updateLightbox(prevState.src);
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var newState = {};

    if (nextProps.baseUri !== this.props.baseUri || nextProps.uuCmdGetBinaryData !== this.props.uuCmdGetBinaryData || nextProps.code !== this.props.code) {
      newState.srcMeta = this._updateSrc(nextProps.uuCmdGetBinaryData, nextProps.uuCmdGetBinaryDataUri, {
        baseUri: nextProps.baseUri,
        binary: nextProps.data.binary,
        data: {
          code: nextProps.code
        }
      });
    }

    var updatedThumbnailData = this._updateThumbnails(nextProps);

    if (!uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Tools.deepEqual(updatedThumbnailData.thumbSrcMeta, this.state.thumbSrcMeta)) {
      newState.thumbSrcMeta = updatedThumbnailData.thumbSrcMeta;
    }

    if (!uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Tools.deepEqual(updatedThumbnailData.thumbThumbSrcMeta, this.state.thumbThumbSrcMeta)) {
      newState.thumbThumbSrcMeta = updatedThumbnailData.thumbThumbSrcMeta;
    }

    if (nextProps.data.icon !== this.props.data.icon || nextProps.data.thumbnailType !== this.props.data.thumbnailType || nextProps.data.binaryType !== this.props.data.binaryType) {
      newState = _objectSpread({}, newState, {
        icon: nextProps.data.icon || "mdi-file",
        thumbnailType: nextProps.data.thumbnailType || "icon",
        binaryType: nextProps.data.type || "other"
      });
    }

    if (Object.keys(newState).length) {
      this.setState(newState);
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:private
  _updateLightbox: function _updateLightbox(prevSrc) {
    if (this._lightbox && prevSrc !== this.state.src) {
      if (this.state.src !== undefined) {
        this._lightbox.replaceImage(this.state.src || LIGHTBOX_PLACEHOLDER_DATA[0].src, "image");
      }
    } // NOTE Currently it's not possible to change data while lightbox is opened => that's why
    // we waited for new "src" and we'll open the lightbox now.


    if (this._lightbox && this._lastOpenId !== this.state.lightboxOpenId && this.state.src !== undefined) {
      this._lastOpenId = this.state.lightboxOpenId;

      this._lightbox.open();
    }
  },
  _updateSrc: function _updateSrc(uuCmd, uuCmdUri) {
    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
        baseUri = _ref.baseUri,
        binary = _ref.binary,
        stringParams = _ref.stringParams,
        data = _ref.data,
        _ref$download = _ref.download,
        download = _ref$download === void 0 ? false : _ref$download;

    var callback = arguments.length > 3 ? arguments[3] : undefined;
    data = data || {
      code: this.props.data.binary.code
    };
    baseUri = baseUri || this.props.baseUri;
    var stringSrc;

    if (typeof uuCmdUri === "function") {
      stringSrc = uuCmdUri(binary || this.props.data.binary, download);
    } else if (typeof uuCmd !== "function") {
      stringSrc = _calls_js__WEBPACK_IMPORTED_MODULE_3__["default"].getCommandUri(baseUri, uuCmd, data);

      if (stringParams) {
        stringSrc += "&" + stringParams;
      }

      if (download) stringSrc += "&contentDisposition=attachment";
    }

    if (download && stringSrc && uu5g04__WEBPACK_IMPORTED_MODULE_1__["Environment"].isTrustedDomain(stringSrc)) {
      var session = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Environment"].getSession();
      stringSrc += "&access_token=" + (session ? (session.getCallToken() || {}).token : "");
    }

    return {
      data: data,
      uuCmd: uuCmd,
      stringSrc: stringSrc,
      callback: callback
    };
  },
  _updateThumbnails: function _updateThumbnails() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var code = props.data.binary.code;
    var thumbCode = code.length > 61 ? code.substr(0, 61) : code;
    thumbCode = thumbCode + "_th";
    var thumbnail = props.getThumbnail(thumbCode);
    var thumbSrcMeta;
    var thumbThumbSrcMeta;

    if (thumbnail) {
      var stringParams = thumbnail.sys.mts;
      stringParams = stringParams.replace(/[:.-]/g, ""); // TODO ??? Why using uuCmdGetThumbnailData for getting props.data.binary?

      thumbSrcMeta = this._updateSrc(props.uuCmdGetThumbnailData, props.uuCmdGetThumbnailDataUri, {
        data: {
          code: code
        },
        binary: props.data.binary,
        stringParams: stringParams
      });
      thumbThumbSrcMeta = this._updateSrc(props.uuCmdGetThumbnailData, props.uuCmdGetThumbnailDataUri, {
        data: {
          code: thumbCode
        },
        binary: thumbnail,
        stringParams: stringParams
      });
    }

    return {
      thumbSrcMeta: thumbSrcMeta,
      thumbThumbSrcMeta: thumbThumbSrcMeta
    };
  },
  _buildPreview: function _buildPreview(renderImages) {
    var _this2 = this;

    var preview;

    if (this.state.thumbnailType === "original") {
      // no thumbnails, show original images
      if (renderImages) {
        var mainPropsToPass = this.getMainPropsToPass();

        if (this.props.customSelectable !== "none" && this.props.selectableOnly) {
          preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(_image_from_call_js__WEBPACK_IMPORTED_MODULE_7__["default"], {
            srcMeta: this.state.srcMeta,
            onSrcReady: function onSrcReady(_ref2) {
              var src = _ref2.src;
              return _this2.setState({
                src: src
              });
            },
            style: {
              maxWidth: mainPropsToPass.style && mainPropsToPass.style.width ? mainPropsToPass.style.width - 4 : 200
            },
            authenticate: true
          });
        } else {
          preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(_image_from_call_js__WEBPACK_IMPORTED_MODULE_7__["default"], {
            srcMeta: this.state.srcMeta,
            onSrcReady: function onSrcReady(_ref3) {
              var src = _ref3.src;
              return _this2.setState({
                src: src
              });
            },
            imageComponent: uu5g04__WEBPACK_IMPORTED_MODULE_1__["Imaging"].Image,
            fit: "coverNoScaleUp",
            authenticate: true,
            onClick: this.props.onFileClick ? function () {
              return _this2.props.onFileClick(_this2.props.data.binary);
            } : undefined
          });
        }
      } else {
        preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Icon, {
          icon: this.state.icon
        });
      }
    } else if (this.state.thumbnailType === "thumbnail") {
      // show thumbnails
      if (this.state.thumbSrcMeta && renderImages && !this.state.loadError) {
        var _mainPropsToPass = this.getMainPropsToPass();

        if (this.props.customSelectable !== "none" && this.props.selectableOnly) {
          preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(_image_from_call_js__WEBPACK_IMPORTED_MODULE_7__["default"], {
            srcMeta: this.state.thumbThumbSrcMeta,
            onSrcReady: function onSrcReady(_ref4) {
              var src = _ref4.src;
              return _this2.setState({
                thumbThumbSrc: src
              });
            },
            style: {
              maxWidth: _mainPropsToPass.style && _mainPropsToPass.style.width ? _mainPropsToPass.style.width - 4 : 200
            },
            authenticate: true
          });
        } else {
          preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(_image_from_call_js__WEBPACK_IMPORTED_MODULE_7__["default"], {
            srcMeta: this.state.thumbSrcMeta,
            thumbSrcMeta: this.state.thumbThumbSrcMeta,
            imageComponent: uu5g04__WEBPACK_IMPORTED_MODULE_1__["Imaging"].Image,
            onSrcReady: function onSrcReady(_ref5) {
              var src = _ref5.src,
                  thumbSrc = _ref5.thumbSrc;
              return _this2.setState({
                thumbSrc: src,
                thumbThumbSrc: thumbSrc
              });
            },
            lightbox: this.props.data.id,
            fit: "coverNoScaleUp",
            authenticate: true,
            onClick: this.props.onFileClick ? function () {
              return _this2.props.onFileClick(_this2.props.data.binary);
            } : undefined
          });
        }
      } else {
        preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Icon, {
          icon: this.state.icon
        });
      }
    } else {
      // show icons
      preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Icon, {
        icon: this.state.icon
      });
    } // TODO :-( Currently we need this.state.src because of Lightbox so we download both thumbnail & full image
    // right away.


    if (this.state.lightboxSrcMeta) {
      preview = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Fragment, null, preview, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(_image_from_call_js__WEBPACK_IMPORTED_MODULE_7__["default"], {
        style: {
          display: "none"
        },
        srcMeta: this.state.lightboxSrcMeta,
        onSrcReady: function onSrcReady(_ref6) {
          var src = _ref6.src;
          return _this2.setState({
            src: src
          });
        },
        srcReadyKey: this.state.lightboxOpenId + "",
        authenticate: true
      }));
    }

    return preview;
  },
  _openPreviewForm: function _openPreviewForm(binaryCode, type, event) {
    event.preventDefault();
    event.stopPropagation();
    this.props.onFileClick(binaryCode, type);
  },
  _getMainAttrValue: function _getMainAttrValue() {
    return this.props.onFilenameSet ? _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this.props.onFilenameSet(this.props.data.binary)) : this.props.data.binary.filename;
  },
  _toggleSelected: function _toggleSelected() {
    if (this.props.selected) {
      this.props.fileManager.customRemoveSelectedItem(this.props.id);
    } else {
      this.props.fileManager.customAddSelectedItem(this.props.id);
    }
  },
  _onDownloadLinkClick: function _onDownloadLinkClick() {
    var _this$_updateSrc = this._updateSrc(this.props.uuCmdGetBinaryData, this.props.uuCmdGetBinaryDataUri, {
      download: true
    }),
        data = _this$_updateSrc.data,
        stringSrc = _this$_updateSrc.stringSrc,
        uuCmd = _this$_updateSrc.uuCmd;

    if (!stringSrc && typeof this.props.uuCmdGetBinaryData === "function") {
      // blob cannot be downloaded directly - we must download manually and change content type to octet/stream
      var filename = this.props.binary.filename;
      uuCmd(data).then(function (dtoOut) {
        var fileBlob = new Blob([dtoOut], {
          type: "octet/stream"
        }); // save blob in IE and Edge - standard click on a link doesn't work in this browsers

        if (typeof navigator.msSaveBlob === "function") {
          navigator.msSaveBlob(fileBlob, filename);
          return;
        }

        var url = window.URL.createObjectURL(fileBlob); // to set name for the file we need to create link element and set name into download attribute

        var link = document.createElement("a");
        link.href = url;
        link.download = filename;
        link.style = "display: none;";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        setTimeout(function () {
          window.URL.revokeObjectURL(url);
        }, 60000);
      });
    } else {
      window.open(stringSrc, "_self");
    }
  },
  _getDownloadLink: function _getDownloadLink(opt, i) {
    return uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Link, {
      key: "dropdownItem" + i,
      className: "uu5-bricks-dropdown-item-link",
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(opt.label),
      onClick: this._onDownloadLinkClick,
      download: true
    });
  },
  _renderButtonPanel: function _renderButtonPanel() {
    var _this3 = this;

    var buttons = [];
    var dropdownItems = [];
    var _this$props$fileButto = this.props.fileButtons,
        itemList = _this$props$fileButto.itemList,
        hideDropdown = _this$props$fileButto.hideDropdown;

    if (this.props.customSelectable !== "none" && this.props.selectableOnly && this.props.data.clickable) {
      buttons.push(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Button, {
        key: "magnifyButton",
        onClick: function onClick(opt, event) {
          event.preventDefault();
          event.stopPropagation();

          if (_this3.props.onFileClick) {
            _this3.props.onFileClick(_this3.props.data.binary);
          } else if (_this3._lightbox) {
            _this3.setState(function (state) {
              return {
                lightboxSrcMeta: state.srcMeta,
                lightboxOpenId: (state.lightboxOpenId || 0) + 1
              };
            });
          }
        },
        colorSchema: "primary"
      }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Icon, {
        icon: "mdi-magnify-plus"
      })));
    }

    itemList = itemList.filter(Boolean);
    var dropdownItemsAreDuplicitOnly = true;

    var _loop = function _loop(i) {
      var item = itemList[i];
      var alsoAsButton = false;

      if (item.active && (_this3.props.customSelectable === "none" || !_this3.props.selectableOnly) && !(_this3.props.tileType === "small" && _this3.props.isS)) {
        alsoAsButton = true;
      }

      if (alsoAsButton) {
        buttons.push(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Button, {
          key: "button" + i,
          onClick: function onClick(opt, event) {
            event.preventDefault();
            event.stopPropagation();
            if (typeof item.onClick === "function") item.onClick(_this3.props.data.binary, _this3.state.binaryType);
          },
          colorSchema: "primary",
          tooltip: item.label ? _this3.getLsiItem(item.label) : undefined
        }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Icon, {
          icon: item.icon
        })));
      }

      if ((!hideDropdown || _this3.props.tileType === "small" && _this3.props.isS) && (_this3.props.customSelectable === "none" || !_this3.props.selectableOnly)) {
        if (item.isDownload) {
          if (dropdownItemsAreDuplicitOnly) dropdownItemsAreDuplicitOnly = alsoAsButton;
          dropdownItems.push(_this3._getDownloadLink(item, i));
        } else {
          if (item.icon !== "mdi-magnify-plus" || item.icon === "mdi-magnify-plus" && _this3.props.data.clickable) {
            if (dropdownItemsAreDuplicitOnly) dropdownItemsAreDuplicitOnly = alsoAsButton;
            dropdownItems.push(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Dropdown.Item, {
              label: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(item.label),
              onClick: function onClick() {
                return item.onClick(_this3.props.data.binary, _this3.state.binaryType);
              },
              key: "dropdownItem" + i
            }));
          }
        }
      }
    };

    for (var i = 0; i < itemList.length; i++) {
      _loop(i);
    }

    if (dropdownItemsAreDuplicitOnly) dropdownItems = [];
    var remainingButtons = this.getDefault("maxButtons") - (dropdownItems.length > 0 ? 1 : 0);
    if (buttons.length > remainingButtons) buttons.splice(remainingButtons);
    return this.state.renderButtons && uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Div, {
      className: this.getClassName("buttonPanel")
    }, buttons, dropdownItems.length > 0 && uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Dropdown, {
      label: "",
      ref_: function ref_(opt) {
        return _this3._dropdown = opt;
      },
      iconOpen: "mdi-dots-vertical",
      iconClosed: "mdi-dots-vertical",
      pullRight: true,
      colorSchema: "primary",
      allowTags: ["UU5.Bricks.Link"]
    }, dropdownItems));
  },
  _renderSelectButton: function _renderSelectButton() {
    var _this4 = this;

    return this.props.customSelectable !== "none" && uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Button, {
      key: "selectButton",
      className: this.getClassName("selectButton") + " " + (this.props.selected ? this.getClassName("selectButtonSelected") : ""),
      tooltip: this.getLsiItem({
        cs: "Vybrat soubor",
        en: "Select File"
      }),
      onClick: function onClick(opt, event) {
        return _this4._toggleSelected(event);
      },
      colorSchema: this.props.isS ? this.props.selected ? "orange" : "blue" : "orange"
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Icon, {
      icon: "mdi-checkbox-marked-circle",
      style: {
        color: "#ffffff",
        fontSize: this.props.isS ? null : "32px"
      }
    }));
  },
  _getFullInfoBox: function _getFullInfoBox() {
    var _this5 = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoBox")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("previewField") + (this.props.data.clickable ? " " + this.getClassName("image") : "")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("previewContentWrapper")
    }, this._buildPreview(this.props.shouldShowThumbnail))), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoField")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("primaryAttribute"),
      title: this.props.data.binary.filename
    }, this._getMainAttrValue()), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("secondaryAttribute"),
      title: this.props.data.binary.code
    }, this.props.data.binary.code), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Resize, null, function (size) {
      return uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(_tag_list_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
        key: "tagList",
        items: _this5.props.data.binary.tagList,
        onTagExpand: _this5.props.handleMeasure,
        className: "tag-list",
        width: size.width,
        height: size.height
      });
    }), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("secondaryAttribute")
    }, new Date(this.props.data.binary.sys.mts).toLocaleString().slice(0, -3).replace(/:$/, ""))), this._renderSelectButton(), !this.props.isS && this._renderButtonPanel());
  },
  _getSmallInfoBox: function _getSmallInfoBox() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", null, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("previewField") + (this.props.data.clickable ? " " + this.getClassName("image") : "")
    }, this._buildPreview(false)), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoField")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoFieldRow")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoFieldCol"),
      title: this.props.data.binary.filename
    }, this._getMainAttrValue()), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoFieldCol")
    }, new Date(this.props.data.binary.sys.mts).toLocaleString().slice(0, -3))), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoFieldRow")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      className: this.getClassName("infoFieldCol"),
      title: this.props.data.binary.code
    }, this.props.data.binary.code))), this._renderSelectButton(), !this.props.isS && this._renderButtonPanel());
  },
  _setLightboxRef: function _setLightboxRef(ref) {
    this._lightbox = ref;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this6 = this;

    var mainPropsToPass = this.getMainPropsToPass();
    if (this.props.selected) mainPropsToPass.className += " " + this.getClassName("mainSelected");
    if (this.props.customSelectable !== "none" && this.props.selectableOnly) mainPropsToPass.className += " " + this.getClassName("selectableOnly");
    if (this.props.tileType === "small") mainPropsToPass.className += " " + this.getClassName("smallTile");
    return uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Div, {
      style: this.props.wrapperStyle,
      className: this.getClassName("flex")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Div, _extends({}, mainPropsToPass, {
      mainAttrs: {
        onMouseOver: function onMouseOver() {
          return _this6.setState({
            renderButtons: true
          });
        },
        onClick: function onClick(event) {
          event.preventDefault();
          event.stopPropagation();
          _this6.props.customSelectable !== "none" && _this6.props.selectableOnly ? _this6._toggleSelected() : null;
        }
      }
    }), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1__["Bricks"].Card, {
      className: this.getClassName("tileCard"),
      elevation: 1,
      elevationHover: 2,
      colorSchema: this.props.selected ? "orange" : null,
      bgStyle: "outline",
      style: {
        borderWidth: this.props.selected ? "2px" : "1px",
        margin: "0"
      }
    }, this.props.isS && this._renderButtonPanel(), this.props.tileType === "small" ? this._getSmallInfoBox() : this._getFullInfoBox()), uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create("div", {
      onClick: function onClick(e) {
        return e.stopPropagation();
      }
    }, this.props.selectableOnly ? // our re-render always causes the lightbox to close => use memo-ized component so that it doesn't re-render at all
    // (we'll control it using API methods)
    uu5g04__WEBPACK_IMPORTED_MODULE_1__["Common"].Element.create(MemoizedLightbox, {
      name: this.props.data.id,
      ref_: this._setLightboxRef,
      data: LIGHTBOX_PLACEHOLDER_DATA
    }) : null)));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (FileManagerTile);

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// This file was auto-generated according to the "namespace" setting in package.json.
// Manual changes to this file are discouraged, if values are inconsistent with package.json setting.
/* harmony default export */ __webpack_exports__["default"] = ({
  TAG: "Plus4U5.Files.",
  CSS: "plus4u5-files-"
});

/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__12__;

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu_appg01__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var uu_appg01__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu_appg01__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_1__);
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Server calls of application client.
 */


var Calls = {
  APP_BASE_URI: location.protocol + "//" + location.host + uu5g04__WEBPACK_IMPORTED_MODULE_1__["Environment"].getAppBasePath(),
  call: function call(method, url, dtoIn, clientOptions) {
    if (this._detectIe() && method === "get") {
      dtoIn.data = dtoIn.data || {};
      dtoIn.data.Msiets = new Date().getTime();
    }

    uu_appg01__WEBPACK_IMPORTED_MODULE_0__["Client"][method](url, dtoIn.data || null, clientOptions).then(function (response) {
      return dtoIn.done(response.data);
    }, function (response) {
      return dtoIn.fail(response);
    });
  },
  callWithHeader: function callWithHeader(method, url, dtoIn, clientOptions, header) {
    uu_appg01__WEBPACK_IMPORTED_MODULE_0__["Client"][method](url, dtoIn.data || null, clientOptions).then(function (response) {
      return dtoIn.done(response.data, response.headers(header));
    }, function (response) {
      return dtoIn.fail(response);
    });
  },
  getCommandUri: function getCommandUri(baseUri, aUseCase) {
    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    // useCase <=> e.g. "getSomething" or "sys/getSomething"
    // add useCase to the application base URI
    // NOTE Using string concatenation instead of UriBuilder to support also URLs
    // that don't conform to uuUri specification.
    if (baseUri && !baseUri.match(/\/$/)) {
      baseUri = baseUri + "/";
    }

    var targetUriStr = (baseUri || Calls.APP_BASE_URI) + aUseCase.replace(/^\/+/, ""); // override tid / awid if it's present in environment (use also its gateway in such case)

    var env = uu5g04__WEBPACK_IMPORTED_MODULE_1__["Environment"];

    if (env.tid || env.awid || env.vendor || env.app) {
      var uriBuilder = uu_appg01__WEBPACK_IMPORTED_MODULE_0__["Uri"].UriBuilder.parse(targetUriStr);

      if (env.tid || env.awid) {
        if (env.gatewayUri) uriBuilder.setGateway = env.gatewayUri;
        if (env.tid) uriBuilder.setTid = env.tid;
        if (env.awid) uriBuilder.setAwid = env.awid;
      }

      if (env.vendor || env.app) {
        if (env.vendor) uriBuilder.setVendor = env.vendor;
        if (env.app) uriBuilder.setApp = env.app;
        if (env.subApp) uriBuilder.setSubApp = env.subApp;
      }

      targetUriStr = uriBuilder.toUri().toString();
    }

    var first = true;

    for (var param in params) {
      if (first) {
        targetUriStr += "?";
        first = false;
      } else {
        targetUriStr += "&";
      }

      targetUriStr += "".concat(param, "=").concat(params[param]);
    }

    return targetUriStr;
  },
  _detectIe: function _detectIe() {
    var ua = window.navigator.userAgent;
    var msie = ua.indexOf("MSIE ");

    if (msie > 0) {
      // IE 10
      return true;
    }

    var trident = ua.indexOf("Trident/");

    if (trident > 0) {
      // IE 11
      var rv = ua.indexOf("rv:");
      return true;
    }

    var edge = ua.indexOf("Edge/");

    if (edge > 0) {
      // Edge (IE 12+)
      return true;
    }

    return false;
  },
  customPostMultipartCmd: function customPostMultipartCmd(baseUri, ucName, dtoIn) {
    var commandUri = Calls.getCommandUri(baseUri, ucName); // NOTE Edge doesn't support 'new File()' so the value is Blob and we have to pass file name via FormData API.

    var formData = new FormData();
    if (dtoIn.data.sys) formData.append("sys.rev", dtoIn.data.sys.rev);
    if (dtoIn.data.code) formData.append("code", dtoIn.data.code);

    if (Array.isArray(dtoIn.data.tagList)) {
      dtoIn.data.tagList.forEach(function (tag, index) {
        formData.append("tagList[" + index + "]", tag);
      });
    } // file must be set to form data at last due to parsing on the server. All data appended after the file won't be parsed on the server
    // by default data is sorted by uuApp client but this doesn't work in IE where FormData doesn't have proper API.


    if (dtoIn.data.data) {
      formData.append("data", dtoIn.data.data, dtoIn.data.data.name);
    }

    var adjustedDtoIn = _objectSpread({}, dtoIn, {
      data: formData
    });

    Calls.call("post", commandUri.toString(), adjustedDtoIn, {
      requestTimeout: 0,
      // set no timeout when uploading
      headers: {
        "content-type": "multipart/form-data"
      }
    });
  },
  customPostCmd: function customPostCmd(baseUri, ucName, dtoIn) {
    var commandUri = Calls.getCommandUri(baseUri, ucName);
    Calls.call("post", commandUri.toString(), dtoIn);
  },
  customGetCmd: function customGetCmd(baseUri, ucName, dtoIn) {
    var commandUri = Calls.getCommandUri(baseUri, ucName);
    Calls.call("get", commandUri.toString(), dtoIn);
  },
  customGetNotTransformedCmd: function customGetNotTransformedCmd(baseUri, ucName, dtoIn) {
    var commandUri = Calls.getCommandUri(baseUri, ucName);
    Calls.callWithHeader("get", commandUri.toString(), dtoIn, {
      transformResponse: false
    }, "content-type");
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Calls);

/***/ }),
/* 14 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__14__;

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = (uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Css.createCssModule("plusu-files"));

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);




var TagList = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.BaseMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].TAG + "TagList",
    classNames: {
      main: function main(props, state) {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("\n          line-height: 22px;\n          position: relative;\n          ".concat(state.showAllTags ? "max-height: auto;" : "max-height: 44px;", "\n          ").concat(state.showAllTags ? "flex-basis: auto;" : "flex-basis: 44px;", "\n          overflow: hidden;\n        "));
      },
      resize: function resize() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n        ");
      },
      tag: function tag() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("\n          cursor: default;\n          background-color: rgba(0, 0, 0, 0.1);\n          color: rgba(0, 0, 0, .87);\n          margin-right: 4px;\n          margin-bottom: 2px;\n          vertical-align: top;\n\n          .uu5-bricks-icon {\n            display: none;\n          }\n        ");
      },
      tagInvisible: function tagInvisible() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("\n          visibility: hidden;\n        ");
      },
      expander: function expander() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("\n          cursor: pointer;\n        ");
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    items: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string),
    onTagExpand: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    height: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.number,
    width: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.number
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      items: undefined,
      onTagExpand: null,
      height: 0,
      width: 0
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    this._node = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Reference.create();
    this._updateState = "initial";
    return {
      width: this.props.width,
      height: this.props.height,
      hiddenCount: 0,
      showAllTags: false
    };
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var newState = {};

    if (nextProps.height) {
      if (Math.abs(nextProps.height - this.props.height) > 2) {
        newState.height = nextProps.height;
      }
    }

    if (nextProps.width) {
      newState.width = nextProps.width;
    }

    if (Object.keys(newState) !== 0) {
      this.setState(newState, function () {
        if (typeof nextProps.onTagExpand === "function") {
          nextProps.onTagExpand();
        }
      });
    } // NOTE If converted to getDerivedStateFromProps then add condition like "this.props !== nextProps"
    // (we want this to do only if props changed, not if just state changed).


    this._updateState = "initial";
  },
  componentDidMount: function componentDidMount() {
    this._updateHiddenTags();
  },
  componentDidUpdate: function componentDidUpdate() {
    this._updateHiddenTags();
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _updateHiddenTags: function _updateHiddenTags() {
    var _this = this;

    if (!this._node.current) return;
    if (this.state.showAllTags) return;
    var hiddenCount = 0;
    var scrollHeight = this._node.current.scrollHeight;

    var rect = this._node.current.getBoundingClientRect();

    var expander;

    if (scrollHeight > rect.height) {
      // TODO optimalize algorithm to find first hidden object
      // filter all nodes that are not created from props.tags
      var tagClassName = this.getClassName("tag");
      var expanderClassName = this.getClassName("expander");
      var childNodes = [];

      for (var i = 0; i < this._node.current.childNodes.length; i++) {
        var node = this._node.current.childNodes[i];

        if (node.className.indexOf(tagClassName) !== -1) {
          if (node.className.indexOf(expanderClassName) === -1) {
            childNodes.push(node);
          } else {
            expander = node;
          }
        }
      } // measure all tags and count how many is visible


      for (var _i = 0; _i < childNodes.length; _i++) {
        var nodeRect = childNodes[_i].getBoundingClientRect(); // node is not fully (nearly fully) visible; -4px reserved if container was not high enough / browser uses weird font sizes / ...


        if (nodeRect.bottom - 4 >= rect.bottom) {
          // find first invisible node
          hiddenCount = childNodes.length - _i;
          break;
        }
      }
    } // NOTE There's a potential never-ending update loop:
    // 1. Assume several labels, 1st is short (so expander can be near it), 2nd is long (expander would be wrapped on the next line).
    // 2. At some point, 1st+2nd+expander will be rendered, but expader will be wrapped onto the 3rd line and therefore be hidden.
    // 3. So hiddenCount gets increased => 1st+expander+2nd will be rendered, but 1st+expander are short and are on single line,
    //    and 2nd is alone on the 2nd line, i.e. it is visible => hiddenCount gets decreased, leading to step 2.


    this.setState(function (state) {
      if (state.hiddenCount === hiddenCount) {
        // count of hidden nodes does not chnaged -> check if expander is visible otherwise is not needed to change state
        if (expander && expander.getBoundingClientRect().bottom - 4 >= rect.bottom) {
          // expander is hidden -> increase count of hidden nodes to rerender expander to new position
          if (_this._updateState === "initial") _this._updateState = "shrinked";else if (_this._updateState === "shrinked,expanded") _this._updateState = "shrinked,expanded,shrinked"; // shrinked, expanded, now shrinked again,are in a loop

          return {
            hiddenCount: state.hiddenCount + 1
          };
        } else {
          return null;
        }
      }

      if (_this._updateState === "shrinked" && hiddenCount < state.hiddenCount) _this._updateState = "shrinked,expanded";else if (_this._updateState === "shrinked,expanded,shrinked") return null; // break loop

      return {
        hiddenCount: hiddenCount
      };
    });
    Promise.resolve().then(function () {
      return _this._updateState = "initial";
    });
  },
  _showAllTags: function _showAllTags() {
    var _this2 = this;

    this.setState({
      showAllTags: true
    }, function () {
      if (typeof _this2.props.onTagExpand === "function") {
        _this2.props.onTagExpand();
      }
    });
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    var _this3 = this;

    if (!Array.isArray(this.props.items) || !this.props.items.length) {
      return null;
    }

    var hiddenCount = this.state.showAllTags ? 0 : this.state.hiddenCount;
    var firstInivisibleItem = this.props.items.length - hiddenCount;
    var visibleItems = this.props.items.slice(0, firstInivisibleItem);
    var invisibleItems = hiddenCount ? this.props.items.slice(firstInivisibleItem) : null;
    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create("div", {
      // eslint-disable-next-line react/prop-types
      className: this.getClassName("main") + (this.props.className ? " " + this.props.className : ""),
      ref: this._node,
      style: {
        maxHeight: this.state.height && !this.state.showAllTags ? this.state.height + "px" : undefined
      }
    }, visibleItems.map(function (tag) {
      return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Label, {
        key: tag,
        colorSchema: "custom",
        className: _this3.getClassName("tag")
      }, tag);
    }), hiddenCount ? uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Label, {
      key: "show-all",
      colorSchema: "custom",
      className: this.getClassName("tag") + " " + this.getClassName("expander"),
      onClick: this._showAllTags
    }, "+", this.state.hiddenCount) : null, invisibleItems && invisibleItems.map(function (tag) {
      return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Label, {
        key: tag,
        colorSchema: "custom",
        className: _this3.getClassName("tag") + " " + _this3.getClassName("tagInvisible")
      }, tag);
    }));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (TagList);

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageFromCall", function() { return ImageFromCall; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//@@viewOn:imports

 //@@viewOff:imports

var STATICS = {
  //@@viewOn:statics
  displayName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "ImageFromCall" //@@viewOff:statics

};
var ImageFromCall = Object(uu5g04__WEBPACK_IMPORTED_MODULE_0__["createComponent"])(_objectSpread({}, STATICS, {
  //@@viewOn:mixins
  //@@viewOff:mixins
  //@@viewOn:propTypes
  propTypes: {
    srcMeta: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.shape({
      data: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.any,
      uuCmd: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string]),
      stringSrc: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
      callback: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func
    }).isRequired,
    srcReadyKey: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
    onSrcReady: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func
  },
  //@@viewOff:propTypes
  //@@viewOn:defaultProps
  defaultProps: {
    srcMeta: undefined
  },
  //@@viewOff:defaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // TODO Don't eagerly prepare "src" if thumbnail is set (currently it is required
    // because UU5.Imaging.Image requires both of them set).
    return {
      src: this._updateSrc("src", this.props.srcMeta),
      thumbSrc: this._updateSrc("thumbSrc", this.props.thumbSrcMeta)
    };
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var newState = {};

    if (!uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.deepEqual(this.props.srcMeta, nextProps.srcMeta)) {
      newState.src = this._updateSrc("src", nextProps.srcMeta);
    }

    if (!uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.deepEqual(this.props.thumbSrcMeta, nextProps.thumbSrcMeta)) {
      newState.thumbSrc = this._updateSrc("thumbSrc", nextProps.thumbSrcMeta);
    }

    if (Object.keys(newState).length > 0) {
      this.setState(newState);
    }
  },
  componentDidMount: function componentDidMount() {
    this._checkSrcReady();
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {
    this._checkSrcReady();
  },
  componentWillUnmount: function componentWillUnmount() {
    this._unmounted = true;
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:private
  _checkSrcReady: function _checkSrcReady() {
    if (this._id_src === this._id_srcFinished && this._id_thumbSrc === this._id_thumbSrcFinished && this._lastReportedId !== this._id_src + " " + this._id_thumbSrc + " " + this.props.srcReadyKey) {
      this._lastReportedId = this._id_src + " " + this._id_thumbSrc + " " + this.props.srcReadyKey;

      if (typeof this.props.onSrcReady === "function") {
        this.props.onSrcReady({
          src: this.state.src,
          thumbSrc: this.state.thumbSrc
        });
      }
    }
  },
  _updateSrc: function _updateSrc(stateName, settings) {
    var _this = this;

    if (!settings) return null;
    var id = this["_id_" + stateName] = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Tools.generateUUID();
    var data = settings.data,
        uuCmd = settings.uuCmd,
        stringSrc = settings.stringSrc,
        callback = settings.callback;

    if (!stringSrc && typeof uuCmd === "function") {
      uuCmd(data).then(function (dataOut) {
        return _this._updateSrcDone(id, dataOut, stateName, callback);
      }, function (dataOut) {
        return _this._updateSrcFail(id, dataOut, stateName, callback);
      });
      return undefined;
    } else {
      this._updateSrcDone(id, stringSrc, stateName, callback);

      return stringSrc;
    }
  },
  _updateSrcDone: function _updateSrcDone(id, data, stateName, callback) {
    var _this2 = this;

    if (this._unmounted) return; // called synchonously from initialiation

    if (this["_id_" + stateName] === id) {
      this["_id_" + stateName + "Finished"] = id;

      if (this.state) {
        this.setState(function (state) {
          if (state[stateName] && state[stateName].match(/^blob:/)) {
            // release old image url
            window.URL.revokeObjectURL(state[stateName]);
          } // create new url to blob


          var result = {};
          result[stateName] = typeof data === "string" ? data : window.URL.createObjectURL(data);
          return result;
        }, function () {
          if (typeof callack === "function") callback(_this2.state);
        });
      }
    }
  },
  _updateSrcFail: function _updateSrcFail(id, error, stateName, callback) {
    var _this3 = this;

    if (this._unmounted) return;

    if (this["_id_" + stateName] === id) {
      this["_id_" + stateName + "Finished"] = id;

      if (this.state) {
        var result = {};
        result[stateName] = null;
        console.log(error);
        this.setState(result, function () {
          if (typeof callack === "function") callback(_this3.state);
        });
      }
    }
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this$props = this.props,
        imageComponent = _this$props.imageComponent,
        srcMeta = _this$props.srcMeta,
        thumbSrcMeta = _this$props.thumbSrcMeta,
        onSrcReady = _this$props.onSrcReady,
        restProps = _objectWithoutProperties(_this$props, ["imageComponent", "srcMeta", "thumbSrcMeta", "onSrcReady"]);

    var _this$state = this.state,
        src = _this$state.src,
        thumbSrc = _this$state.thumbSrc;
    var ImageComponent = imageComponent || uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Image;
    var isReadyToRender = src !== undefined && (thumbSrcMeta ? thumbSrc !== undefined : true);
    var renderAsImage = isReadyToRender && src;
    return renderAsImage ? uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(ImageComponent, _extends({}, restProps, {
      src: src || undefined,
      thumbSrc: thumbSrc || undefined
    })) : null;
  } //@@viewOff:render

}));

/* harmony default export */ __webpack_exports__["default"] = (ImageFromCall);

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(19);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-file-manager-tile {\n  position: relative;\n}\n.plus4u5-files-file-manager-inner-tile {\n  position: relative;\n  border-radius: 2px;\n  border: 1px solid #D6D6D6;\n}\n.plus4u5-files-file-manager-selectable-only {\n  cursor: pointer;\n}\n.plus4u5-files-file-manager-tile .preview-field {\n  min-height: 127px;\n  max-height: 127px;\n  height: 127px;\n  text-align: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n  width: 100%;\n}\n.plus4u5-files-file-manager-tile .preview-content-wrapper {\n  vertical-align: middle;\n  height: 100%;\n}\n.plus4u5-files-file-manager-tile .tile-card {\n  padding: 1px;\n}\n.plus4u5-files-file-manager-tile-selected .tile-card {\n  padding: 0;\n}\n.plus4u5-files-file-manager-tile .preview-content-wrapper .uu5-bricks-image {\n  max-height: 127px;\n  margin: 0 auto;\n  height: 100%;\n  object-fit: scale-down;\n  border: 8px solid transparent;\n}\n.plus4u5-files-file-manager-tile .preview-field .uu5-bricks-icon {\n  font-size: 64px;\n  color: rgba(0, 0, 0, 0.54);\n}\n.plus4u5-files-file-manager-tile .info-field {\n  min-height: 64px;\n  padding: 8px;\n}\n.plus4u5-files-file-manager-tile .info-field .primary-attribute,\n.plus4u5-files-file-manager-tile .info-field .secondary-attribute {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.plus4u5-files-file-manager-tile .info-field .primary-attribute {\n  color: rgba(0, 0, 0, 0.7);\n  min-height: 22px;\n}\n.plus4u5-files-file-manager-tile .info-field .secondary-attribute {\n  color: rgba(0, 0, 0, 0.54);\n  font-size: 12px;\n  min-height: 18px;\n}\n.plus4u5-files-file-manager-tile .select-button {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 48px;\n  height: 48px;\n  border-radius: 0 0 16px 0;\n  opacity: 0;\n}\n.plus4u5-files-file-manager-tile-selected .select-button {\n  left: -1px;\n  top: -1px;\n}\n.plus4u5-files-file-manager-tile:hover .select-button {\n  opacity: 0.5;\n}\n.plus4u5-files-file-manager-tile-selected .select-button {\n  opacity: 1;\n}\n.plus4u5-files-file-manager-tile-selected:hover .select-button {\n  opacity: 1;\n}\n.plus4u5-files-file-manager-tile .button-panel {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  opacity: 0;\n  -webkit-transition: 0.1s opacity;\n  transition: 0.1s opacity;\n  text-align: right;\n}\n.plus4u5-files-file-manager-tile-selected .button-panel {\n  top: 7px;\n  right: 7px;\n}\n.plus4u5-files-file-manager-tile:hover .button-panel {\n  opacity: 1;\n}\n.plus4u5-files-file-manager-tile .button-panel .uu5-bricks-icon {\n  vertical-align: top;\n}\n.plus4u5-files-file-manager-tile .button-panel .uu5-bricks-button:not(:last-child) {\n  margin-right: 4px;\n}\n.plus4u5-files-file-manager-tile .button-panel .uu5-bricks-dropdown {\n  vertical-align: bottom;\n}\n.plus4u5-files-file-manager-tile .uu5-bricks-link {\n  color: #000000 !important;\n}\n.plus4u5-files-file-manager-tile.small-tile .preview-field {\n  display: inline-block;\n  width: 64px;\n  height: 64px;\n  min-height: 64px;\n  max-height: 64px;\n  text-align: center;\n  vertical-align: top;\n  border: none;\n}\n.plus4u5-files-file-manager-tile.small-tile .preview-field .uu5-bricks-icon {\n  font-size: 36px;\n  margin-top: 4px;\n}\n.plus4u5-files-file-manager-tile.small-tile .info-field {\n  display: inline-block;\n  width: 100%;\n  max-width: calc(100% - 80px);\n  height: 64px;\n}\n.plus4u5-files-file-manager-tile.small-tile .info-field-row:first-child {\n  margin-top: 2px;\n}\n.plus4u5-files-file-manager-tile.small-tile .info-field-row {\n  line-height: 16px;\n}\n.plus4u5-files-file-manager-tile.small-tile .info-field-col {\n  display: inline-block;\n  max-width: 65%;\n  color: rgba(0, 0, 0, 0.54);\n  font-size: 12px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.plus4u5-files-file-manager-tile.small-tile .info-field-row:first-child .info-field-col:first-child {\n  font-size: 16px;\n  min-height: 24px;\n  color: rgba(0, 0, 0, 0.7);\n}\n.plus4u5-files-file-manager-tile.small-tile .info-field-col:nth-child(2) {\n  float: right;\n  max-width: 35%;\n}\n@media (max-width: 768px) {\n  .plus4u5-files-file-manager-tile .button-panel {\n    position: initial;\n    opacity: 1;\n    -webkit-transition: none;\n    transition: none;\n    padding: 8px;\n    height: 48px;\n  }\n  .plus4u5-files-file-manager-tile .select-button {\n    position: absolute;\n    left: 8px;\n    top: 8px;\n    width: 32px;\n    height: 32px;\n    border-radius: 2px;\n    opacity: 1;\n    -webkit-transition: none;\n    transition: none;\n  }\n  .plus4u5-files-file-manager-tile-selected .select-button {\n    left: 7px;\n    top: 7px;\n  }\n  .plus4u5-files-file-manager-tile .preview-field {\n    min-height: 144px;\n    height: 144px;\n    border-top: 1px solid rgba(0, 0, 0, 0.12);\n  }\n  .plus4u5-files-file-manager-tile .preview-field .uu5-bricks-icon {\n    font-size: 104px;\n    line-height: 104px;\n  }\n  .plus4u5-files-file-manager-tile .preview-content-wrapper {\n    display: table-cell;\n    vertical-align: middle;\n  }\n  .plus4u5-files-file-manager-tile .preview-content-wrapper,\n  .plus4u5-files-file-manager-tile .preview-content-wrapper .uu5-bricks-image {\n    max-height: 142px;\n  }\n  .plus4u5-files-file-manager-tile .info-field .primary-attribute {\n    font-size: 16px;\n    min-height: 24px;\n  }\n  .plus4u5-files-file-manager-tile .info-field .secondary-attribute {\n    font-size: 14px;\n    min-height: 20px;\n  }\n  .plus4u5-files-file-manager-tile .button-panel .uu5-bricks-button {\n    line-height: 16px;\n    font-size: 16px;\n  }\n  .plus4u5-files-file-manager-tile .button-panel .uu5-bricks-button:not(:last-child) {\n    margin-right: 8px;\n  }\n  .plus4u5-files-file-manager-tile:hover .select-button {\n    opacity: 1;\n  }\n  .plus4u5-files-file-manager-tile.small-tile .preview-field .uu5-bricks-icon {\n    line-height: 1.5;\n  }\n  .plus4u5-files-file-manager-tile.small-tile .preview-field {\n    width: 64px;\n    padding: 0;\n  }\n  .plus4u5-files-file-manager-tile.small-tile .info-box {\n    border-top: 1px solid rgba(0, 0, 0, 0.12);\n  }\n  .plus4u5-files-file-manager-tile.small-tile .info-field {\n    max-width: calc(100% - 71px);\n  }\n  .plus4u5-files-file-manager-tile.small-tile .button-panel {\n    vertical-align: top;\n    padding-left: 16px;\n    height: 48px;\n  }\n}\n", ""]);



/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(22);

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),
/* 22 */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15);
/* harmony import */ var _forms_tags_select_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(24);
/* harmony import */ var _file_manager_type_filter_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27);
/* harmony import */ var _file_manager_type_filter_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_file_manager_type_filter_less__WEBPACK_IMPORTED_MODULE_6__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }








var FileManagerTypeFilter = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "FileManagerTypeFilter",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-manager-type-filter",
      leftCol: "left-col",
      rightCol: "right-col",
      label: "label",
      addTagFilterPanel: function addTagFilterPanel() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css("\n          .uu5-bricks-panel-header {\n            display: none;\n          }\n\n          .uu5-bricks-panel-body-body {\n            padding: 0;\n          }\n        ");
      },
      filterButton: function filterButton() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css("\n          && {\n            border-radius: 16px;\n          }\n\n          margin: 0 0 8px 8px;\n          \n          &:last-child{\n            margin-right: 0px;\n          }\n        ");
      },
      addTagFilterSelect: function addTagFilterSelect() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css("\n          &&& {\n            margin: 0;\n          }\n\n          .uu5-forms-input-wrapper > span:first-child {\n            display: none;\n          }\n\n          .uu5-forms-input-wrapper > .uu5-forms-text-button.uu5-forms-text-button {\n            margin-top: 0;\n          }\n        ");
      },
      rightTagFilterPanelColumn: function rightTagFilterPanelColumn() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css("text-align: right; && { padding: 0; }");
      }
    },
    lsi: {
      addFilterButtonLabel: {
        cs: "Filtrovat podle tagu",
        en: "Filter by tag"
      },
      tagFilterButtonPrefix: {
        cs: "Tag: ",
        en: "Tag: "
      }
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    controller: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    fileTypeFilters: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    tags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
    displayFilterByTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    var fileTypeFilters = {
      image: {
        label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_FILE_MANAGER_FILTER_IMAGE,
        active: false,
        types: ["image", "svg"]
      },
      text: {
        label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_FILE_MANAGER_FILTER_TEXT,
        active: false,
        types: ["text", "xml", "pdf"]
      },
      other: {
        label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_FILE_MANAGER_FILTER_OTHER,
        active: false,
        types: ["other", "archive", "json"]
      }
    };
    return {
      fileTypeFilters: fileTypeFilters,
      tags: null,
      displayFilterByTags: true
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    var _this = this;

    this._bs = {};
    this._filters = {};
    this.props.fileTypeFilters && Object.keys(this.props.fileTypeFilters).forEach(function (key) {
      if (_this.props.fileTypeFilters.hasOwnProperty(key)) {
        if (_this.props.fileTypeFilters[key].active) {
          for (var i = 0; i < _this.props.fileTypeFilters[key].types.length; i++) {
            _this._filters[_this.props.fileTypeFilters[key].types[i]] = {
              visible: true
            };
          }
        }
      }
    });
    return {
      buttons: this.props.fileTypeFilters,
      tagFilters: []
    };
  },
  componentWillMount: function componentWillMount() {
    this.props.controller.registerBar("typeFilter", this);
  },
  componentDidMount: function componentDidMount() {
    this._buildFilter();
  },
  componentWillUnmount: function componentWillUnmount() {
    this.props.controller.unregisterBar("typeFilter");
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _filterFn: function _filterFn(item) {
    return this._filters[_helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(item.type).toLowerCase()];
  },
  _buildFilter: function _buildFilter() {
    var classes = [];
    Object.entries(this._filters).forEach(function (_ref) {
      var _ref2 = _slicedToArray(_ref, 2),
          key = _ref2[0],
          value = _ref2[1];

      if (value.visible) classes.push(key);
    });

    if (classes.length > 0) {
      var r = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Span, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Icon, {
        icon: "mdi-paw"
      }), "\xA0", classes.join(",\xA0"));
      this.props.controller.addFilterExt("type", r, null, this._filterFn, null);
    } else {
      this.props.controller.removeFilterExt("type");
    }
  },
  _handleClick: function _handleClick(type) {
    var _this2 = this;

    return function (e) {
      var buttons = _this2.state.buttons;
      buttons[type].active = !buttons[type].active;

      _this2.setState({
        buttons: buttons
      });

      {
        if (!buttons[type].active) {
          for (var i = 0; i < buttons[type].types.length; i++) {
            delete _this2._filters[buttons[type].types[i]];
          }
        } else {
          for (var _i2 = 0; _i2 < buttons[type].types.length; _i2++) {
            _this2._filters[buttons[type].types[_i2]] = {
              visible: true
            };
          }
        }

        _this2._buildFilter();
      }
    };
  },
  _registerBS: function _registerBS(type, r) {
    this._bs[type] = r;
  },
  _registerAddTagFilterPanel: function _registerAddTagFilterPanel(panel) {
    this._addTagFilterPanel = panel;
  },
  _shouldRenderCancel: function _shouldRenderCancel() {
    var should = false;

    if (this.state.tagFilters && this.state.tagFilters.length) {
      return true;
    }

    for (var button in this.state.buttons) {
      if (this.state.buttons[button].active) {
        should = true;
        break;
      }
    }

    return should;
  },
  _clearFilter: function _clearFilter() {
    var _this3 = this;

    var buttons = this.state.buttons;

    for (var button in buttons) {
      buttons[button].active = false;
    }

    this._filters = {};

    this._buildFilter();

    this.setState(function (state) {
      // clean all filters in tagFilter
      state.tagFilters.forEach(function (tag) {
        return _this3.props.controller.removeFilterExt("tag-" + tag);
      });
      return {
        buttons: buttons,
        tagFilters: []
      };
    });
  },
  _toggleAddFilterPanel: function _toggleAddFilterPanel() {
    this._addTagFilterPanel && this._addTagFilterPanel.toggle();
  },
  _closeTagFilterPanel: function _closeTagFilterPanel() {
    this._addTagFilterPanel && this._addTagFilterPanel.collapse();
  },
  _addTagFilter: function _addTagFilter(_ref3) {
    var _this4 = this;

    var tag = _ref3.tag;
    this.setState(function (state) {
      if (state.tagFilters.indexOf(tag) === -1) {
        _this4.props.controller.addFilterExt("tag-" + tag, tag, null, function (item) {
          return item.binary.tagList && item.binary.tagList.indexOf(tag) !== -1;
        });

        return {
          tagFilters: [].concat(_toConsumableArray(state.tagFilters), [tag])
        };
      }
    });
  },
  _removeTagFilter: function _removeTagFilter(component) {
    var _this5 = this;

    var tag = component.props._tag;
    this.setState(function (state) {
      _this5.props.controller.removeFilterExt("tag-" + tag);

      return {
        tagFilters: state.tagFilters.filter(function (filterTag) {
          return filterTag !== tag;
        })
      };
    });
  },
  _filterIgnoreTags: function _filterIgnoreTags(item) {
    var _this6 = this;

    return !item.binary.tagList || !Array.isArray(this.props.ignoreTags) || item.binary.tagList.every(function (tag) {
      return _this6.props.ignoreTags.indexOf(tag) === -1;
    });
  },
  _renderButtonSwitches: function _renderButtonSwitches() {
    var _this7 = this;

    var buttons = [];

    var _loop = function _loop(key) {
      buttons.push(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].ButtonSwitch, {
        key: "switch_button_" + key,
        className: _this7.getClassName("filterButton"),
        props: {
          onClick: _this7._handleClick(key)
        },
        ref_: function ref_(r) {
          return _this7._registerBS(key, r);
        },
        switchedOn: _this7.state.buttons[key].active,
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_this7.state.buttons[key].label),
        onProps: {
          colorSchema: "primary"
        },
        offProps: {
          bgStyle: "outline",
          colorSchema: "primary"
        }
      }));
    };

    for (var key in this.state.buttons) {
      _loop(key);
    }

    return buttons;
  },
  _renderTagFilters: function _renderTagFilters() {
    var _this8 = this;

    if (!this.props.tags || !this.props.displayFilterByTags) return null;
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, this.state.tagFilters.map(function (tag) {
      return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Button, {
        _tag: tag,
        key: tag,
        className: _this8.getClassName("filterButton"),
        colorSchema: "primary",
        toggled: true,
        onClick: _this8._removeTagFilter
      }, _this8.getLsiComponent("tagFilterButtonPrefix"), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Span, null, tag), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Icon, {
        icon: "mdi-close"
      }));
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Button, {
      key: "addTagFilter",
      className: this.getClassName("filterButton"),
      onClick: this._toggleAddFilterPanel,
      colorSchema: "primary",
      bgStyle: "outline"
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Icon, {
      icon: "mdi-plus"
    }), this.getLsiComponent("addFilterButtonLabel")));
  },
  _getAvailableTags: function _getAvailableTags() {
    var _this9 = this;

    // filter all already added filters
    return this.props.tags.filter(function (tag) {
      return _this9.state.tagFilters.indexOf(tag) === -1;
    });
  },
  _getChild: function _getChild() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, this.getMainPropsToPass(), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      className: this.getClassName("leftCol")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Span, {
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_FILE_MANAGER_FILTER_HEADER),
      className: this.getClassName("label")
    }), this._renderButtonSwitches(), this._renderTagFilters()), this._shouldRenderCancel() && uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      className: this.getClassName("rightCol")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Button, {
      bgStyle: "transparent",
      onClick: this._clearFilter,
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_FILE_MANAGER_FILTER_RESET)
    }))), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Panel, {
      className: this.getClassName("addTagFilterPanel"),
      ref_: this._registerAddTagFilterPanel
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Well, {
      colorSchema: "blue"
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Row, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Column, {
      colWidth: "xs-10 s-8 m-6 l-4"
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_forms_tags_select_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
      availableTags: this._getAvailableTags(),
      allowCustomTags: true,
      buttonColorSchema: "blue",
      onTagSelect: this._addTagFilter,
      className: this.getClassName("addTagFilterSelect")
    })), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Column, {
      colWidth: "xs-2 s-4 m-6 l-8",
      className: this.getClassName("rightTagFilterPanelColumn")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Button, {
      onClick: this._closeTagFilterPanel
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Icon, {
      icon: "mdi-chevron-up"
    })))))));
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return this._getChild();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (FileManagerTypeFilter);

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagsSelect", function() { return TagsSelect; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(25);
/* harmony import */ var uu5g04_forms__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_forms__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);
/* harmony import */ var _autocomplete_items_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(26);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

//@@viewOn:imports




 //@@viewOff:imports

var TagsSelect = uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.VisualComponent.create({
  displayName: _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].TAG + "TagsSelect",
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.ElementaryMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Forms.TextInputMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].TAG + "TagsSelect",
    classNames: {
      main: function main() {
        return _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].CSS + "TagsSelect " + _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("align-items: baseline; .uu5-bricks-button.uu5-forms-input-button { width: auto; padding: 0 16px; }");
      },
      tag: function tag() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("\n          && {\n            margin-right: 4px;\n            background-color: rgba(0, 0, 0, 0.1);\n            color: rgba(0, 0, 0, .87);\n\n            .uu5-bricks-icon {\n              font-size: inherit;\n              position: static;\n              padding: 0;\n            }\n          }\n        ");
      },
      textButton: function textButton(props, state) {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("\n          input:-ms-input-placeholder { color: #bdbdbd; }\n          ".concat(props.tagListPosition === "top" ? "&&& { margin-bottom: 0px; }" : "margin-bottom: 8px;", "\n          ").concat(state.value && state.value.length ? "&&& { margin-top: 8px; }" : "", "\n        "));
      }
    },
    lsi: {
      addButtonLabel: {
        cs: "Přidat",
        en: "Add"
      },
      tagIsAlreadyAdded: {
        cs: 'Tag "$1" je již přidaný.',
        en: 'The tag "$1" is already added.'
      },
      customTagIsNotAllowed: {
        cs: "Není povolené přidávat vlastní tagy.",
        en: "It is not allowed to create custom tags."
      },
      tagIsNotAllowed: {
        cs: 'Tag "$1" není povolený.',
        en: 'The tag "$1" is not allowed.'
      },
      placeholder: {
        cs: "Název tagu",
        en: "Tag Name"
      },
      noTagInfoText: {
        cs: "Vložte tag pomocí vstupního pole níže",
        en: "Insert a tag via input field lower"
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    availableTags: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string),
    ignoreTags: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string),
    allowCustomTgas: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool,
    colorSchema: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
    buttonColorSchema: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.string,
    onTagSelect: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.func,
    tagListPosition: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.oneOf(["top", "bottom"]),
    displayHint: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.PropTypes.bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      availableTags: null,
      ignoreTags: null,
      allowCustomTags: false,
      onTagSelect: null,
      tagListPosition: "top",
      buttonColorSchema: "default",
      displayHint: true
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var _this = this;

    // init cache
    this._removeFnCache = {}; // create button configuration

    this._buttons = [{
      icon: "mdi-plus",
      colorSchema: this.props.buttonColorSchema,
      onClick: function onClick() {
        return _this._addTagValue();
      },
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.ScreenSize, null, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.ScreenSize.Item, {
        screenSize: "xs"
      }, uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Icon, {
        icon: "mdi-plus"
      })), uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.ScreenSize.Item, {
        screenSize: "*"
      }, this.getLsiComponent("addButtonLabel")))
    }];
    return {
      textValue: "",
      focused: false
    };
  },
  componentWillMount: function componentWillMount() {
    // need to initialize value here because of input mixin
    this.setState({
      value: this.props.value || []
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _buttons: undefined,
  _removeFnCache: undefined,
  _registerTextButton: function _registerTextButton(textButton) {
    this._textButton = textButton;
  },
  _getRemoveFn: function _getRemoveFn(tag) {
    var _this2 = this;

    if (!this._removeFnCache[tag]) {
      // create new function into cache if doesn't exist
      this._removeFnCache[tag] = function () {
        _this2.setState(function (state) {
          var newValue = state.value.filter(function (item) {
            return item !== tag;
          });

          if (newValue.length !== state.value.length) {
            // tag is removed from state => remove function from cache
            delete _this2._removeFnCache[tag];
            return {
              value: newValue
            };
          }
        });
      };
    }

    return this._removeFnCache[tag];
  },
  _addTagValue: function _addTagValue(value) {
    var _this3 = this;

    this.setState(function (state) {
      value = value === undefined ? state.textValue : value;
      if (!value) return; // validate value towards ignored tags

      if (_this3.props.ignoreTags && _this3.props.ignoreTags.indexOf(value) !== -1) {
        _this3._textButton.setError(_this3.getLsiValue("tagIsNotAllowed").replace("$1", value));

        return;
      } // validate value towards currently set tags


      if (state.value && state.value.indexOf(value) !== -1) {
        _this3._textButton.setWarning(_this3.getLsiValue("tagIsAlreadyAdded").replace("$1", value));

        return;
      }

      if (!_this3.props.allowCustomTags && (!_this3.props.availableTags || _this3.props.availableTags.indexOf(value) === -1)) {
        _this3._textButton.setError(_this3.getLsiValue("customTagIsNotAllowed"));

        return;
      }

      if (typeof _this3.props.onTagSelect === "function") {
        _this3.props.onTagSelect({
          component: _this3,
          value: state.value,
          tag: value
        });

        return {
          textValue: ""
        };
      } // value is valid - add tag and clear input


      _this3._textButton.setInitial("");

      return {
        value: [].concat(_toConsumableArray(state.value), [value]),
        textValue: ""
      };
    });
  },
  _updateTextValue: function _updateTextValue(_ref) {
    var value = _ref.value;
    this.setState({
      textValue: value
    });
  },
  _onTextInputBlur: function _onTextInputBlur() {
    this.setState({
      focused: false
    });
  },
  _onTextInputFocus: function _onTextInputFocus() {
    this.setState({
      focused: true
    });
  },
  _renderTagList: function _renderTagList() {
    var _this4 = this;

    return this.state.value && this.state.value.length ? this.state.value.map(function (tag, index) {
      return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Label, {
        key: tag,
        colorSchema: "custom",
        onClick: _this4._getRemoveFn(tag),
        icon: "mdi-close",
        className: _this4.getClassName("tag")
      }, tag);
    }) : this.props.displayHint ? uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create("span", {
      className: _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("color: rgba(0, 0, 0, .24)")
    }, this.getLsiValue("noTagInfoText")) : null;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var inputId = this.getId() + "-input";
    return uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Bricks.Div, this._getInputAttrs(), this.getLabel(inputId), this.getInputWrapper(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Fragment, null, this.props.tagListPosition === "top" && this._renderTagList(), uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Forms.TextButton, {
      colorSchema: this.props.colorSchema,
      key: "textButton",
      ref_: this._registerTextButton,
      buttons: this._buttons,
      actionOnEnter: true,
      inputAttrs: {
        onFocus: this._onTextInputFocus,
        onBlur: this._onTextInputBlur
      },
      onChange: this._updateTextValue,
      inline: true,
      spacing: 0,
      className: this.getClassName("textButton"),
      placeholder: this.getLsiValue("placeholder"),
      mainAttrs: {
        onKeyPress: function onKeyPress(e) {
          if ((e.keyCode || e.which) === 13 && !e.shiftKey && !e.ctrlKey) {
            e.preventDefault(); // prevent sending form
          }
        }
      },
      value: this.state.textValue
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0___default.a.Common.Element.create(_autocomplete_items_js__WEBPACK_IMPORTED_MODULE_4__["default"], {
      key: "autocomplete-items",
      items: this.props.availableTags,
      filterValue: this.state.textValue,
      filterItems: this.state.value,
      shown: this.state.focused,
      onClick: this._addTagValue
    }), this.props.tagListPosition !== "top" && this._renderTagList())));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (TagsSelect);

/***/ }),
/* 25 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__25__;

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);




var ClassNames = {};
var ClassDefs = {
  popover: "\n    width: 100%;\n    max-height: 350px;\n    overflow-y: auto;\n  ",
  link: "\n    && {\n      color: rgba(0,0,0, .87);\n      display: block;\n      padding: 8px 16px;\n      width: 100%;\n  \n      &:hover {\n        text-decoration: none;\n        background-color: #E0E0E0;\n      }\n    }\n  "
};

var getClassName = function getClassName(className) {
  if (!ClassNames[className]) {
    ClassNames[className] = _helpers_css_js__WEBPACK_IMPORTED_MODULE_3__["default"].css(ClassDefs[className]);
  }

  return ClassNames[className];
};

var AutocompleteItems = function AutocompleteItems(props) {
  // no items to shown => render null
  if (!props.shown || !Array.isArray(props.items) || !props.items.length) return null;
  var items = props.items; // filter items by filterValue

  if (props.filterValue) {
    items = items.filter(function (item) {
      return item.indexOf(props.filterValue) !== -1;
    });
  } // filter items by filterItems


  if (Array.isArray(props.filterItems)) {
    items = items.filter(function (item) {
      return props.filterItems.indexOf(item) === -1;
    });
  } // validate if is something to show


  if (items.length === 0) {
    return null;
  }

  return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Popover, {
    shown: true,
    fitHeightToViewport: true,
    forceRender: true,
    className: getClassName("popover")
  }, items.map(function (item) {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Link, {
      className: getClassName("link"),
      colorSchema: "default",
      key: item,
      mainAttrs: {
        onMouseDown: function onMouseDown(e) {
          e.preventDefault();
          props.onClick(item);
        }
      }
    }, item);
  }));
};

AutocompleteItems.displayName = _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].TAG + "AutocompleteItems";
AutocompleteItems.tagName = _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].TAG + "AutocompleteItems";
AutocompleteItems.propTypes = {
  items: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
  filterValue: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  filterItems: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
  shown: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
  onClick: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
};
AutocompleteItems.defaultProps = {
  filterValue: "",
  shown: false
};
/* harmony default export */ __webpack_exports__["default"] = (AutocompleteItems);

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(28);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-file-manager-type-filter {\n  width: 100%;\n  padding: 8px 0 0;\n  border-bottom: 1px solid #D6D6D6;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n.plus4u5-files-file-manager-type-filter .left-col .label {\n  margin-right: 16px;\n}\n.plus4u5-files-file-manager-type-filter .left-col .uu5-bricks-button-switch.uu5-bricks-button > *,\n.plus4u5-files-file-manager-type-filter .right-col .uu5-bricks-button > * {\n  vertical-align: top;\n}\n.plus4u5-files-file-manager-type-filter .right-col .uu5-bricks-button {\n  background-color: transparent;\n  margin-bottom: 8px;\n}\n.plus4u5-files-file-manager-type-filter .right-col .uu5-bricks-button {\n  padding: 0;\n}\n@media (max-width: 480px) {\n  .plus4u5-files-file-manager-type-filter {\n    display: block;\n  }\n  .plus4u5-files-file-manager-type-filter .left-col,\n  .plus4u5-files-file-manager-type-filter .right-col {\n    min-width: 100%;\n    text-align: left;\n  }\n}\n", ""]);



/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _forms_form_controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(30);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var _helpers_file_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32);
/* harmony import */ var _calls__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(13);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(15);
/* harmony import */ var _file_uploader_less__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(55);
/* harmony import */ var _file_uploader_less__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_file_uploader_less__WEBPACK_IMPORTED_MODULE_8__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n        visibility: hidden;\n      "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n        overflow: hidden;\n        transition: height 500ms;\n        ", "\n      "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n        overflow: hidden;\n      "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }











function detectMobileBrowser() {
  var check = false;

  (function (a) {
    if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;
  })(navigator.userAgent || navigator.vendor || window.opera);

  return check;
}

var FileUploader = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "FileUploader",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader",
      successState: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-success-state",
      failureState: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-failure-state",
      heightMeasurer: _helpers_css_js__WEBPACK_IMPORTED_MODULE_7__["default"].css(_templateObject()),
      wrapper: function wrapper(props, state) {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_7__["default"].css(_templateObject2(), !props.dndEnabled ? "height: ".concat(state.height, "px;") : "");
      },
      initialContent: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-initial-content",
      hiddenInitialContent: _helpers_css_js__WEBPACK_IMPORTED_MODULE_7__["default"].css(_templateObject3()),
      progressContent: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-progress-content",
      dndContent: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-dnd-content",
      statsWrapper: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-stats-wrapper",
      progressStat: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-progress-stat",
      progressStatContent: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-progress-stat-content",
      progressStatMessage: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-progress-stat-message",
      resultSuccess: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-result-success",
      resultFailed: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-result-failed",
      hoverArea: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-hover-area",
      resetButton: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "file-uploader-reset-button"
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    baseUri: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    lsiLabels: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    uuCmdCreateBinary: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    onSetFiles: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    customCodesEnabled: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    customCodesRequired: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    sizeLimit: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
    dndEnabled: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      uuCmdCreateBinary: "uu-app-binarystore/createBinary",
      customCodesEnabled: false,
      sizeLimit: undefined,
      dndEnabled: true
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    this._index = 0;
    this._files = [];
    this._onDragEnterCounter = 0;
    this._codes = [];
    this._lsiLabels = {
      placeholder: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_DROP_BAR_CONTENT,
      uploadSuccessMsg: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_UPLOAD_RESULT_SUCCESS,
      uploadFailedMsg: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_UPLOAD_RESULT_FAILED
    };

    if (this.props.lsiLabels) {
      for (var key in this.props.lsiLabels) {
        this._lsiLabels[key] = this.props.lsiLabels[key];
      }
    }

    return {
      state: "initial",
      hover: false,
      progressStats: [],
      height: 0
    };
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {
    var isDnd = !this.props.dndEnabled && !detectMobileBrowser();

    if (isDnd && this._heightMeasurer) {
      if (prevState.progressStats.length !== this.state.progressStats.length || prevState.state !== this.state.state) {
        var height;

        if (this.state.state !== "initial" && this.state.progressStats.length) {
          var element = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].DOM.findNode(this._heightMeasurer);
          height = element.getBoundingClientRect().height;
        } else {
          height = 0;
        }

        this.setState({
          height: height
        });
      }
    }
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  update: function update() {
    return true;
  },
  getProgress: function getProgress() {
    return this.state.progressStats;
  },
  setProgress: function setProgress(progressStats) {
    var state = "initial";
    var success = true;

    if (progressStats.length > 0) {
      var done = true;

      for (var i = 0; i < progressStats.length; i++) {
        if (progressStats[i].state === "failed") {
          success = false;
        }

        if (progressStats[i].state !== "success" && progressStats[i].state !== "failed") {
          done = false;
          break;
        }
      }

      state = done ? "done" : "inProgress";
    }

    this.setState({
      progressStats: progressStats,
      state: state,
      success: success
    });
  },
  setFiles: function setFiles(files, opt) {
    var _this = this;

    this._files = this.state.state === "inProgress" ? this._files : [];

    if (files.length > 0) {
      files.forEach(function (file) {
        _this._files.push(file);
      });

      if (this.props.onSetFiles && typeof this.props.onSetFiles === "function") {
        this.props.onSetFiles(files, opt);
      } else {
        if (this.props.customCodesEnabled) {
          this._openDnDForm(files);
        } else {
          this._uploadFiles(files);
        }
      }
    }

    return this;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _registerHeightMeasurer: function _registerHeightMeasurer(ref) {
    this._heightMeasurer = ref;
  },
  _saveImageDone: function _saveImageDone(dtoOut) {
    var progressStats = this.state.progressStats;
    progressStats[this._index].state = "success";

    if (this._index + 1 < this._files.length) {
      progressStats[this._index + 1].state = "started";
      this.setState({
        progressStats: progressStats
      });
      this._index++;

      this._saveImage();
    } else {
      this.setState({
        progressStats: progressStats
      });

      this._uploadDone();
    }
  },
  _saveImageFail: function _saveImageFail(dtoOut) {
    var progressStats = this.state.progressStats;
    progressStats[this._index].state = "failed";

    if (this._index + 1 < this._files.length) {
      progressStats[this._index + 1].state = "started";
      this.setState({
        progressStats: progressStats
      });
      this._index++;

      this._saveImage();
    } else {
      this.setState({
        progressStats: progressStats
      });

      this._uploadDone();
    }
  },
  _saveImage: function _saveImage() {
    if (this._files[this._index] && this._files[this._index].size > Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_5__["getMaxFileSize"])(this.props.sizeLimit) * 1024) {
      var progressStats = this.state.progressStats;
      progressStats[this._index].state = "failed";

      if (this._index + 1 < this._files.length) {
        progressStats[this._index + 1].state = "started";
        this.setState({
          progressStats: progressStats
        });
        this._index++;

        this._saveImage();
      } else {
        this.setState({
          progressStats: progressStats
        });

        this._uploadDone();
      }
    } else {
      var data = this._files[this._index];
      var done = this._saveImageDone;
      var fail = this._saveImageFail;

      if (this._codes[this._index]) {
        data.code = this._codes[this._index];
      }

      if (typeof this.props.uuCmdCreateBinary === "function") {
        this.props.uuCmdCreateBinary(data).then(done, fail);
      } else {
        var dtoIn = {
          data: data,
          done: done,
          fail: fail
        };
        _calls__WEBPACK_IMPORTED_MODULE_6__["default"].customPostMultipartCmd(this.props.baseUri, this.props.uuCmdCreateBinary, dtoIn);
      }
    }
  },
  _uploadFiles: function _uploadFiles(files) {
    var _this2 = this;

    var wasRunning = this.state.state === "inProgress";
    var progressStats = wasRunning ? this.state.progressStats : [];

    for (var i = 0; i < files.length; i++) {
      progressStats.push({
        name: files[i].name,
        state: !wasRunning && i === 0 ? "started" : "waiting"
      });
    }

    this.setState({
      progressStats: progressStats,
      state: "inProgress"
    }, function () {
      if (!wasRunning) {
        _this2._index = 0;

        _this2._saveImage();
      }
    });
  },
  _uploadDone: function _uploadDone() {
    var success = true;

    for (var i = 0; i < this.state.progressStats.length; i++) {
      if (this.state.progressStats[i].state === "failed") {
        success = false;
        break;
      }
    }

    this.setState({
      state: "done",
      success: success
    });
  },
  _openDnDForm: function _openDnDForm(fileList) {
    var _this3 = this;

    this._formController.openDnDForm(fileList, function (codeList) {
      _this3._codes = codeList;

      _this3._uploadFiles(fileList);
    }, {
      customCodesEnabled: this.props.customCodesEnabled,
      customCodesRequired: this.props.customCodesRequired
    }, this.props.customCodesRequired);
  },
  _onDropHandler: function _onDropHandler(e) {
    this._onDragEnterCounter = 0;
    this.setState({
      hover: false
    });
    e.preventDefault();
    e.stopPropagation();
    var files = [];

    if (this.state.state !== "inProgress") {
      if (e.dataTransfer.items) {
        // Use DataTransfer interface to access the file(s)
        for (var i = 0; i < e.dataTransfer.files.length; i++) {
          if (e.dataTransfer.files[i].type || e.dataTransfer.files[i].size % 4096 !== 0) {
            var file = e.dataTransfer.files[i];
            files.push(file);
          }
        }
      }

      this.setFiles(files);
    }
  },
  _onDragOverHandler: function _onDragOverHandler(e) {
    e.preventDefault();
    e.stopPropagation();
  },
  _onDragEnterHandler: function _onDragEnterHandler(e) {
    this._onDragEnterCounter++;
    !this.state.hover && this.setState({
      hover: true
    });
    e.preventDefault();
    e.stopPropagation();
  },
  _onDragEndHandler: function _onDragEndHandler(e) {
    this._onDragEnterCounter = 0;
    this.setState({
      hover: false
    });
    e.preventDefault();
    e.stopPropagation();
  },
  _onDragLeaveHandler: function _onDragLeaveHandler(e) {
    this._onDragEnterCounter--;
    this._onDragEnterCounter <= 0 && this.setState({
      hover: false
    });
    e.preventDefault();
    e.stopPropagation();
  },
  _getInitialContent: function _getInitialContent(isDnd) {
    var _this4 = this;

    var className = this.getClassName("initialContent");

    if (!isDnd) {
      className += " " + this.getClassName("hiddenInitialContent");
    }

    if (isDnd) {
      className += " " + this.getClassName("dndContent");
    }

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      className: className,
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this._lsiLabels.placeholder),
      ref_: function ref_(r) {
        _this4._dropZone = r;
      },
      mainAttrs: isDnd ? {
        onDragOver: this._onDragOverHandler,
        onDragEnter: this._onDragEnterHandler,
        onDrop: this._onDropHandler,
        onDragEnd: this._onDragEndHandler,
        onDragLeave: this._onDragLeaveHandler
      } : null
    });
  },
  _getResultContent: function _getResultContent() {
    return this.state.success ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this._lsiLabels.uploadSuccessMsg),
      className: this.getClassName("resultSuccess")
    }) : uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this._lsiLabels.uploadFailedMsg),
      className: this.getClassName("resultFailed")
    });
  },
  _getClearButton: function _getClearButton() {
    var _this5 = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Link, {
      onClick: function onClick() {
        return _this5.setState({
          state: "initial"
        });
      },
      className: this.getClassName("resetButton"),
      colorSchema: "custom"
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Icon, {
      icon: "mdi-close"
    }));
  },
  _getProgressContent: function _getProgressContent(isDnd) {
    var stats = [];

    for (var i = 0; i < this.state.progressStats.length; i++) {
      var statItem = this.state.progressStats[i];
      var icon = void 0;

      switch (statItem.state) {
        case "waiting":
          icon = "mdi-timer";
          break;

        case "started":
          icon = "mdi-loading";
          break;

        case "success":
          icon = "mdi-checkbox-marked-circle";
          break;

        case "failed":
          icon = "mdi-alert";
          break;
      }

      stats.push(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
        key: "stat_" + i,
        className: this.getClassName("progressStat")
      }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Icon, {
        icon: icon
      }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", {
        className: this.getClassName("progressStatContent")
      }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Span, {
        content: this.state.progressStats[i].name
      }), statItem.message ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", {
        className: this.getClassName("progressStatMessage")
      }, statItem.message) : null)));
    }

    var wrapperClassName = this.getClassName("progressContent");

    if (isDnd) {
      wrapperClassName += " " + this.getClassName("dndContent");
    }

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      className: wrapperClassName,
      mainAttrs: isDnd ? {
        onDragOver: this._onDragOverHandler,
        onDragEnter: this._onDragEnterHandler,
        onDrop: this._onDropHandler,
        onDragEnd: this._onDragEndHandler,
        onDragLeave: this._onDragLeaveHandler
      } : null
    }, this.state.state === "inProgress" && uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Loading, null), this.state.state === "done" && this._getResultContent(), this.state.state === "done" && this._getClearButton(), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      className: this.getClassName("statsWrapper")
    }, stats));
  },
  _getMainPropsToPass: function _getMainPropsToPass() {
    var mainProps = this.getMainPropsToPass();

    if (this.state.state === "done") {
      if (this.state.success) {
        mainProps.className += " " + this.getClassName("successState");
      } else {
        mainProps.className += " " + this.getClassName("failureState");
      }
    }

    return mainProps;
  },
  _getChild: function _getChild() {
    var _this6 = this;

    var isDnd = this.props.dndEnabled && !detectMobileBrowser();
    var content;

    switch (this.state.state) {
      case "initial":
        content = this._getInitialContent(isDnd);
        break;

      case "inProgress":
      case "done":
        content = this._getProgressContent(isDnd);
        break;
    }

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Fragment, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_forms_form_controller_js__WEBPACK_IMPORTED_MODULE_2__["default"], {
      lsiLabels: this._lsiLabels,
      key: "formController",
      ref_: function ref_(r) {
        return _this6._formController = r;
      }
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, _extends({}, this._getMainPropsToPass(), {
      key: "uploader"
    }), content, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      className: this.getClassName("hoverArea"),
      style: !this.state.hover ? {
        display: "none"
      } : null
    })));
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      className: this.getClassName("wrapper")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", {
      className: this.getClassName("heightMeasurer"),
      ref: this._registerHeightMeasurer
    }, this._getChild()));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (FileUploader);

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15);
/* harmony import */ var _update_file_form_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(31);
/* harmony import */ var _update_binary_meta_data_form_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(35);
/* harmony import */ var _delete_file_form_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(38);
/* harmony import */ var _preview_file_form_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(41);
/* harmony import */ var _share_file_form_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(44);
/* harmony import */ var _dnd_form_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(47);
/* harmony import */ var _controls_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(50);
/* harmony import */ var _form_controller_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(53);
/* harmony import */ var _form_controller_less__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_form_controller_less__WEBPACK_IMPORTED_MODULE_12__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }














var FormController = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].CcrReaderMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "FormController",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "form-controller",
      modalHeader: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "form-controller-modal-header",
      alignRight: function alignRight() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_4__["default"].css("text-align: right;");
      }
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    settings: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    lsiLabels: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    allowCustomTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    ignoreTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
    availableTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
    onTagCreate: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    sizeLimit: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
    outputMaxHeight: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
    outputMaxWidth: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
    outputQuality: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      settings: {},
      allowCustomTags: false,
      ignoreTags: undefined,
      onTagCreate: undefined,
      availableTags: undefined,
      sizeLimit: undefined,
      outputMaxHeight: undefined,
      outputMaxWidth: undefined,
      outputQuality: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    this._initialDomNode = null;
    return {
      forceRender: undefined
    };
  },
  componentDidMount: function componentDidMount() {
    // check whether we're in a modal window and use forceRender iff we're are
    // (to render our own modals over the current one)
    var node = this._initialDomNode;

    while (node && node.tagName && !node.classList.contains("uu5-bricks-modal")) {
      node = node.parentNode;
    }

    this.setState({
      forceRender: !!(node && node.tagName)
    });
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  openDnDForm: function openDnDForm(fileList, onSave, formProps) {
    var _this = this;

    var modalContent = {
      header: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
        className: this.getClassName("modalHeader"),
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.lsiLabels.addBinariesFormHeader || _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_ADD_BINARIES)
      }),
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_dnd_form_js__WEBPACK_IMPORTED_MODULE_10__["default"], _extends({
        ref_: function ref_(r) {
          _this._currentForm = r;
        },
        id: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.generateUUID(),
        done: onSave,
        fileList: fileList,
        onCancel: this._closeModal,
        lsiLabels: this.props.lsiLabels,
        ignoreTags: this.props.ignoreTags,
        availableTags: this.props.availableTags,
        allowCustomTags: this.props.allowCustomTags,
        onTagCreate: this.props.onTagCreate,
        sizeLimit: this.props.sizeLimit,
        outputMaxHeight: this.props.outputMaxHeight,
        outputMaxWidth: this.props.outputMaxWidth,
        outputQuality: this.props.outputQuality
      }, formProps)),
      onClose: function onClose() {
        return _this._closeModal();
      },
      footer: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_controls_js__WEBPACK_IMPORTED_MODULE_11__["default"], {
        formComponent: this._getCurrentForm,
        className: this.getClassName("alignRight")
      }),
      sticky: false,
      size: "l"
    };

    this._openModal(modalContent);
  },
  openUpdateBinaryForm: function openUpdateBinaryForm(file, binary, thumbnail, addThumbnail, removeThumbnail, onSuccess) {
    var _this2 = this;

    var modalContent = {
      header: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
        className: this.getClassName("modalHeader"),
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.lsiLabels.updateBinaryFormHeader)
      }),
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_update_file_form_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
        ref_: function ref_(r) {
          _this2._currentForm = r;
        },
        id: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.generateUUID(),
        file: file,
        done: this._closeModal,
        thumbnail: thumbnail,
        addThumbnail: addThumbnail,
        removeThumbnail: removeThumbnail,
        binary: binary,
        onCancel: this._closeModal,
        onSuccess: onSuccess,
        baseUri: this.props.settings.baseUri,
        cmdUpdateBinaryData: this.props.settings.uuCmdUpdateBinaryData,
        cmdCreateThumbnail: this.props.settings.uuCmdCreateThumbnail,
        cmdUpdateThumbnailData: this.props.settings.uuCmdUpdateThumbnailData,
        cmdDeleteThumbnail: this.props.settings.uuCmdDeleteThumbnail,
        shouldSaveThumbnail: this.props.settings.thumbnailStrategy !== "none",
        lsiLabels: this.props.lsiLabels,
        currentControls: this._getCurrentControls,
        outputMaxHeight: this.props.settings.outputMaxHeight,
        outputMaxWidth: this.props.settings.outputMaxWidth,
        outputQuality: this.props.settings.outputQuality,
        sizeLimit: this.props.sizeLimit
      }),
      onClose: this._closeModal,
      footer: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_controls_js__WEBPACK_IMPORTED_MODULE_11__["default"], {
        ref_: function ref_(r) {
          return _this2._currentControls = r;
        },
        formComponent: this._getCurrentForm,
        className: this.getClassName("alignRight")
      }),
      sticky: false,
      size: "l"
    };

    this._openModal(modalContent);
  },
  openUpdateBinaryMetaDataForm: function openUpdateBinaryMetaDataForm(binary, onSuccess) {
    var _this3 = this;

    var modalContent = {
      header: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
        className: this.getClassName("modalHeader"),
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.lsiLabels.updateBinaryMetaDataFormHeader)
      }),
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_update_binary_meta_data_form_js__WEBPACK_IMPORTED_MODULE_6__["default"], {
        ref_: function ref_(r) {
          _this3._currentForm = r;
        },
        id: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.generateUUID(),
        done: this._closeModal,
        binary: binary,
        onCancel: this._closeModal,
        onSuccess: onSuccess,
        baseUri: this.props.settings.baseUri,
        cmdUpdateBinary: this.props.settings.uuCmdUpdateBinary,
        currentControls: this._getCurrentControls,
        ignoreTags: this.props.ignoreTags,
        availableTags: this.props.availableTags,
        allowCustomTags: this.props.allowCustomTags,
        onTagCreate: this.props.onTagCreate
      }),
      onClose: function onClose() {
        return _this3._closeModal();
      },
      footer: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_controls_js__WEBPACK_IMPORTED_MODULE_11__["default"], {
        ref_: function ref_(r) {
          return _this3._currentControls = r;
        },
        id: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.generateUUID(),
        formComponent: this._getCurrentForm,
        className: this.getClassName("alignRight")
      }),
      sticky: false,
      size: "m",
      overflow: true
    };

    this._openModal(modalContent);
  },
  openDeleteBinaryForm: function openDeleteBinaryForm(binary, thumbnail, removeThumbnail, onSuccess) {
    var _this4 = this;

    var modalContent = {
      header: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
        className: this.getClassName("modalHeader"),
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.lsiLabels.deleteBinaryFormHeader)
      }),
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_delete_file_form_js__WEBPACK_IMPORTED_MODULE_7__["default"], {
        ref_: function ref_(r) {
          _this4._currentForm = r;
        },
        id: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.generateUUID(),
        binary: binary,
        filename: binary.filename,
        thumbnail: thumbnail,
        removeThumbnail: removeThumbnail,
        onSuccess: onSuccess,
        done: this._closeModal,
        onCancel: this._closeModal,
        baseUri: this.props.settings.baseUri,
        cmdDeleteBinary: this.props.settings.uuCmdDeleteBinary,
        cmdDeleteThumbnail: this.props.settings.uuCmdDeleteThumbnail,
        shouldSaveThumbnail: this.props.settings.thumbnailStrategy !== "none",
        lsiLabels: this.props.lsiLabels,
        currentControls: this._getCurrentControls
      }),
      footer: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_controls_js__WEBPACK_IMPORTED_MODULE_11__["default"], {
        ref_: function ref_(r) {
          return _this4._currentControls = r;
        },
        formComponent: this._getCurrentForm,
        hasDelete: true,
        className: this.getClassName("alignRight")
      }),
      onClose: function onClose() {
        return _this4._closeModal(true);
      },
      sticky: false,
      size: "m"
    };

    this._openModal(modalContent);
  },
  openPreviewBinaryForm: function openPreviewBinaryForm(binary) {
    var _this5 = this;

    var modalContent = {
      header: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
        className: this.getClassName("modalHeader"),
        content: binary.filename
      }),
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_preview_file_form_js__WEBPACK_IMPORTED_MODULE_8__["default"], {
        ref_: function ref_(r) {
          return _this5._currentForm = r;
        },
        id: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.generateUUID(),
        code: binary.code,
        done: this._closeModal,
        onCancel: this._closeModal,
        rev: binary.sys.rev,
        baseUri: this.props.settings.baseUri,
        cmdGetBinaryData: this.props.settings.uuCmdGetBinaryData
      }),
      onClose: function onClose() {
        return _this5._closeModal();
      },
      sticky: false,
      size: "auto"
    };

    this._openModal(modalContent);
  },
  openShareBinaryForm: function openShareBinaryForm(binary, type) {
    var _this6 = this;

    var modalContent = {
      header: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
        className: this.getClassName("modalHeader"),
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.lsiLabels.shareBinaryFormHeader)
      }),
      content: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_share_file_form_js__WEBPACK_IMPORTED_MODULE_9__["default"], {
        ref_: function ref_(r) {
          _this6._currentForm = r;
        },
        id: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.generateUUID(),
        binary: binary,
        settings: this.props.settings.sharingOptions[type] ? this.props.settings.sharingOptions[type] : this.props.settings.sharingOptions["default"],
        done: this._closeModal,
        onCancel: this._closeModal
      }),
      footer: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_controls_js__WEBPACK_IMPORTED_MODULE_11__["default"], {
        formComponent: this._getCurrentForm,
        label: _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_BUTTON_COPY,
        className: this.getClassName("alignRight")
      }),
      onClose: function onClose() {
        return _this6._closeModal();
      },
      sticky: false,
      size: "l"
    };

    this._openModal(modalContent);
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _openModal: function _openModal(modalContent) {
    this._modal.open(modalContent);
  },
  _closeModal: function _closeModal() {
    var _this7 = this;

    this._modal.close(false);

    setTimeout(function () {
      return _this7._currentControls && _this7._currentControls.setDisabledButton(false);
    }, 500);
    this._currentForm = null;
  },
  _getCurrentForm: function _getCurrentForm() {
    return this._currentForm;
  },
  _getCurrentControls: function _getCurrentControls() {
    return this._currentControls;
  },
  _setInitialDomNodeRef: function _setInitialDomNodeRef(ref) {
    this._initialDomNode = ref;
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    var _this8 = this;

    var forceRender = this.state.forceRender;
    return forceRender === undefined ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create("div", {
      ref: this._setInitialDomNodeRef
    }) : uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Modal, {
      ref: function ref(r) {
        return _this8._modal = r;
      },
      forceRender: forceRender,
      controlled: false
    });
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (FormController);

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _calls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var _helpers_file_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32);
/* harmony import */ var _update_file_form_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(33);
/* harmony import */ var _update_file_form_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_update_file_form_less__WEBPACK_IMPORTED_MODULE_6__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }








var UpdateFileForm = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "UpdateFileForm",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "update-file-form"
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    done: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onSuccess: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onCancel: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    addThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    removeThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    thumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    binary: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    file: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    baseUri: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    cmdUpdateBinaryData: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    cmdCreateThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    cmdUpdateThumbnailData: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    cmdDeleteThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    shouldSaveThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    lsiLabels: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    currentControls: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    outputMaxHeight: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
    outputMaxWidth: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number,
    outputQuality: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {},
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  getForm: function getForm() {
    return this._form;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _callUpdateBinary: function _callUpdateBinary(values, imageFile) {
    var isImage = values.data.type && values.data.type.match(/image\//);
    var done;

    if (!this.props.shouldSaveThumbnail || !isImage && !this.props.thumbnail) {
      done = this._saveDone;
    } else if (!isImage && this.props.thumbnail) {
      done = this._deleteThumbnail;
    } else {
      done = this._saveThumbnail;
    }

    var fail = this._sendFail;
    var data = {
      code: this.props.binary.code,
      data: imageFile
    };
    data.sys = {
      rev: this.props.binary.sys.rev
    };

    if (typeof this.props.cmdUpdateBinaryData === "function") {
      this.props.cmdUpdateBinaryData(data).then(done, fail);
    } else {
      var dtoIn = {
        data: data,
        done: done,
        fail: fail
      };
      _calls_js__WEBPACK_IMPORTED_MODULE_2__["default"].customPostMultipartCmd(this.props.baseUri, this.props.cmdUpdateBinaryData, dtoIn);
    }
  },
  _onSave: function _onSave() {
    var _this = this;

    var values = this._form.getValues();

    Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_5__["adjustFile"])(values.data, this.props).then(function (file) {
      _this._callUpdateBinary(values, file);
    }, function (error) {
      _this._sendFail(error);
    });
  },
  _saveThumbnail: function _saveThumbnail(dtoOut) {
    var _this2 = this;

    var values = this._form.getValues();

    Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_5__["adjustFile"])(values.data, {
      outputMaxHeight: 512,
      outputMaxWidth: 512,
      outputQuality: 0.85
    }).then(function (file) {
      var dtoIn = {
        done: function done(thumbnailDtoOut) {
          _this2.props.addThumbnail(thumbnailDtoOut);

          _this2._saveDone(dtoOut);
        },
        fail: function fail() {
          uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.warning("Saving image thumbnail failed.");

          _this2._saveDone(dtoOut);
        },
        data: {
          code: (dtoOut.code.length > 61 ? dtoOut.code.substr(0, 61) : dtoOut.code) + "_th",
          data: file
        }
      };

      if (_this2.props.thumbnail) {
        dtoIn.data.sys = {
          rev: _this2.props.thumbnail.sys.rev
        };

        if (typeof _this2.props.cmdUpdateThumbnailData === "function") {
          _this2.props.cmdUpdateThumbnailData(dtoIn.data).then(dtoIn.done, dtoIn.fail);
        } else {
          _calls_js__WEBPACK_IMPORTED_MODULE_2__["default"].customPostMultipartCmd(_this2.props.baseUri, _this2.props.cmdUpdateThumbnailData, dtoIn);
        }
      } else {
        if (typeof _this2.props.cmdCreateThumbnail === "function") {
          _this2.props.cmdCreateThumbnail(dtoIn.data).then(dtoIn.done, dtoIn.fail);
        } else {
          if (typeof _this2.props.cmdCreateThumbnail === "function") {
            _this2.props.cmdCreateThumbnail(dtoIn.data).then(dtoIn.done, dtoIn.fail);
          } else {
            _calls_js__WEBPACK_IMPORTED_MODULE_2__["default"].customPostMultipartCmd(_this2.props.baseUri, _this2.props.cmdCreateThumbnail, dtoIn);
          }
        }
      }
    });
  },
  _deleteThumbnail: function _deleteThumbnail(dtoOut) {
    var _this3 = this;

    var dtoIn = {
      done: function done() {
        _this3.props.removeThumbnail(_this3._getSafeThumbnailCode(_this3.props.binary.code));

        _this3._saveDone(dtoOut);
      },
      fail: function fail() {
        uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.warning("Delete image thumbnail failed.");

        _this3._saveDone(dtoOut);
      },
      data: {
        code: this._getSafeThumbnailCode(this.props.binary.code)
      }
    };

    if (typeof this.props.cmdDeleteThumbnail === "function") {
      this.props.cmdDeleteThumbnail(dtoIn.data).then(dtoIn.done, dtoIn.fail);
    } else {
      _calls_js__WEBPACK_IMPORTED_MODULE_2__["default"].customPostCmd(this.props.baseUri, this.props.cmdDeleteThumbnail, dtoIn);
    }
  },
  _getSafeThumbnailCode: function _getSafeThumbnailCode(code) {
    return (code.length > 61 ? code.substr(0, 61) : code) + "_th";
  },
  _sendFail: function _sendFail(opt) {
    this.props.currentControls() && this.props.currentControls().setDisabledButton(false);
    var msg = null;

    if (!opt.error) {
      msg = opt.toString();
    } else if (opt.error && opt.error["cause"] && opt.error["cause"]["uuAppErrorMap"]["uu-app-objectstore/invalidRevision"]) {
      var code = opt.error["code"] + "/invalidRevision";
      msg = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors[code] || _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors["default"]);
    } else {
      msg = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors[opt.error["code"]] || _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors["default"]);
    }

    this._form.getAlertBus().setAlert({
      content: msg,
      colorSchema: "danger"
    });
  },
  _saveDone: function _saveDone(dtoOut, justSave) {
    this.props.onSuccess && this.props.onSuccess(dtoOut);
    this.props.done && this.props.done(dtoOut, justSave);

    this._fileForm.disable();
  },
  _registerFileInput: function _registerFileInput(input) {
    this._fileForm = input;

    this._validateFileSize({
      value: this.props.file
    });
  },
  _validateFileSize: function _validateFileSize(_ref) {
    var _this4 = this;

    var value = _ref.value;
    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;

    if (value) {
      // check file size after adjustment
      Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_5__["adjustFile"])(value, props).then(function (file) {
        if (file && file.size > Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_5__["getMaxFileSize"])(props.sizeLimit) * 1024) {
          _this4._fileForm.setError(_helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(props.lsiLabels.fileSizeExceededError, {
            maxSize: Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_5__["getMaxFileSize"])(props.sizeLimit) + "KB"
          }), value);
        } else {
          _this4._fileForm.setInitial(null, value);
        }
      });
    } else {
      this._fileForm.setInitial(null, value);
    }
  },
  _getChild: function _getChild() {
    var _this5 = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Form, _extends({}, this.getMainPropsToPass(), {
      onSave: function onSave(_ref2) {
        var component = _ref2.component,
            values = _ref2.values;
        return _this5._onSave(component, values);
      },
      onCancel: this.props.onCancel,
      ref_: function ref_(form) {
        return _this5._form = form;
      }
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].File, {
      label: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this.props.lsiLabels.addBinaryFormFile),
      controlled: false,
      required: true,
      name: "data",
      requiredMessage: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(this.props.lsiLabels.addBinaryFormFileRequired),
      ref_: this._registerFileInput,
      onChange: this._validateFileSize
    }));
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return this._getChild();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (UpdateFileForm);

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "adjustFile", function() { return adjustFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMaxFileSize", function() { return getMaxFileSize; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5imagingg01__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);
/* harmony import */ var uu5imagingg01__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5imagingg01__WEBPACK_IMPORTED_MODULE_1__);


var adjustFile = function adjustFile(data) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      outputQuality = _ref.outputQuality,
      outputMaxWidth = _ref.outputMaxWidth,
      outputMaxHeight = _ref.outputMaxHeight;

  return new Promise(function (resolve, reject) {
    var isImage = data.type && data.type.match(/image\//); // we adjust only images and adjustment must be set via props
    // so if file is not an image or is not set any of props changing output quality

    if (!isImage || !outputQuality && !outputMaxHeight && !outputMaxWidth) {
      return resolve(data);
    } // handle output quality


    new Promise(function (resolveOutputQuality) {
      if (outputQuality) {
        uu5g04__WEBPACK_IMPORTED_MODULE_0__["Imaging"].Adjustment.changeType(data, "jpg", outputQuality).then(function (resultOutputQuality) {
          return resolveOutputQuality(resultOutputQuality.imageFile);
        });
      } else {
        // no output quality change is needed
        resolveOutputQuality(data);
      }
    }).then(function (imageFile) {
      // handle resize of a image if is needed
      if (outputMaxWidth || outputMaxHeight) {
        uu5g04__WEBPACK_IMPORTED_MODULE_0__["Imaging"].Adjustment.resizeMax(imageFile, outputMaxWidth, outputMaxHeight).then(function (resultResizeMax) {
          resolve(resultResizeMax.imageFile);
        }, function (resultResizeMaxError) {
          reject({
            error: Object.assign(resultResizeMaxError, {
              code: "resizeFailed"
            })
          });
        });
      } else {
        // no resize is needed
        resolve(imageFile);
      }
    });
  });
};
var MAX_SIZE = 128 * 1024;
var getMaxFileSize = function getMaxFileSize(sizeLimit) {
  return sizeLimit ? Math.min(MAX_SIZE, sizeLimit) : MAX_SIZE;
};
/* harmony default export */ __webpack_exports__["default"] = ({
  adjustFile: adjustFile,
  getMaxFileSize: getMaxFileSize
});

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(34);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-update-file-form {\n  min-height: 84px;\n}\n", ""]);



/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _calls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var _tags_select_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(24);
/* harmony import */ var _add_file_form_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(36);
/* harmony import */ var _add_file_form_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_add_file_form_less__WEBPACK_IMPORTED_MODULE_6__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }








var UpdateBinaryMetaDataForm = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "UpdateBinaryForm",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "update-binary-form"
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    done: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onSuccess: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onCancel: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    binary: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object.isRequired,
    baseUri: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    cmdUpdateBinary: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]).isRequired,
    currentControls: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func.isRequired,
    ignoreTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
    availableTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
    allowCustomTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    onTagCreate: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  getForm: function getForm() {
    return this._form;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _callUpdateBinary: function _callUpdateBinary(values) {
    var data = {
      code: this.props.binary.code,
      tagList: values.tagList || [],
      sys: this.props.binary.sys
    };
    var done = this._saveDone;
    var fail = this._sendFail;

    if (typeof this.props.cmdUpdateBinary === "function") {
      this.props.cmdUpdateBinary(data).then(done, fail);
    } else {
      var dtoIn = {
        data: data,
        done: done,
        fail: fail
      };
      _calls_js__WEBPACK_IMPORTED_MODULE_2__["default"].customPostCmd(this.props.baseUri, this.props.cmdUpdateBinary, dtoIn);
    }
  },
  _onSave: function _onSave(_ref) {
    var component = _ref.component,
        values = _ref.values;
    this.props.currentControls() && this.props.currentControls().setDisabledButton(true);

    this._callUpdateBinary(values);
  },
  _sendFail: function _sendFail(opt) {
    this.props.currentControls() && this.props.currentControls().setDisabledButton(false);
    var msg = null;

    if (!opt.error) {
      msg = opt.toString();
    } else if (opt.error && opt.error["cause"] && opt.error["cause"]["uuAppErrorMap"]["uu-app-objectstore/invalidRevision"]) {
      var code = opt.error["code"] + "/invalidRevision";
      msg = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors[code] || _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors["default"]);
    } else {
      msg = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors[opt.error["code"]] || _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors["default"]);
    }

    this._form.getAlertBus().setAlert({
      content: msg,
      colorSchema: "danger"
    });
  },
  _saveDone: function _saveDone(dtoOut, justSave) {
    // check new tags and call onTagCreate
    if (this.props.onTagCreate && dtoOut.tagList) {
      var newTags = [];
      var originalTagList = this.props.binary.tagList || [];
      var availableTags = this.props.availableTags || [];

      if (!originalTagList && !availableTags.length) {
        newTags = _toConsumableArray(dtoOut.tagList);
      } else {
        dtoOut.tagList.forEach(function (tag) {
          if (originalTagList.indexOf(tag) === -1 && availableTags.indexOf(tag) === -1) {
            newTags.push(tag);
          }
        });
      }

      if (newTags.length) {
        this.props.onTagCreate(newTags);
      }
    }

    this.props.onSuccess && this.props.onSuccess(dtoOut);
    this.props.done && this.props.done(dtoOut, justSave);
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    var _this = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Form, _extends({}, this.getMainPropsToPass(), {
      onSave: this._onSave,
      onCancel: this.props.onCancel,
      ref_: function ref_(form) {
        return _this._form = form;
      },
      spacing: 8
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_tags_select_js__WEBPACK_IMPORTED_MODULE_5__["default"], {
      label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Lsi, {
        lsi: _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_ADD_TAGS
      }),
      labelAlignment: "left",
      availableTags: this.props.availableTags,
      ignoreTags: this.props.ignoreTags,
      allowCustomTags: this.props.allowCustomTags,
      name: "tagList",
      value: this.props.binary.tagList,
      labelColWidth: "xs-12",
      inputColWidth: "xs-12",
      tagListPosition: "bottom"
    }));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (UpdateBinaryMetaDataForm);

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(37);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-add-file-form {\n  min-height: 84px;\n}\n.plus4u5-files-add-file-form .uu5-forms-file {\n  margin-bottom: 24px;\n}\n.plus4u5-files-add-file-form .uu5-bricks-panel {\n  padding-bottom: 20px;\n}\n.plus4u5-files-add-file-form .uu5-bricks-panel .uu5-forms-input:first-child {\n  margin-top: 0px;\n}\n.plus4u5-files-add-file-form .uu5-bricks-panel .uu5-forms-input:last-child {\n  margin-bottom: 0px;\n}\n.plus4u5-files-add-file-form .uu5-bricks-panel .uu5-bricks-panel-body-body {\n  padding-left: 0;\n  padding-right: 0;\n}\n.plus4u5-files-add-file-form .uu5-bricks-panel .uu5-bricks-panel-header {\n  background-color: transparent;\n  border-bottom: solid 1px #BDBDBD;\n  -webkit-box-pack: start;\n          justify-content: start;\n  padding-bottom: 4px;\n}\n.plus4u5-files-add-file-form .uu5-bricks-panel .uu5-bricks-panel-header:hover,\n.plus4u5-files-add-file-form .uu5-bricks-panel .uu5-bricks-panel-header:focus {\n  background-color: transparent !important;\n}\n", ""]);



/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _calls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var _delete_file_form_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39);
/* harmony import */ var _delete_file_form_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_delete_file_form_less__WEBPACK_IMPORTED_MODULE_5__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var DeleteFileForm = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].CcrReaderMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "DeleteFileForm",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "delete-file-form"
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    done: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onSuccess: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onCancel: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    binary: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    thumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    removeThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    baseUri: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    cmdDeleteBinary: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    cmdDeleteThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    shouldSaveThumbnail: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    lsiLabels: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    currentControls: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  getForm: function getForm() {
    return this._form;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _onSave: function _onSave() {
    this.props.currentControls() && this.props.currentControls().setDisabledButton(true);
    var done = this.props.shouldSaveThumbnail && this.props.thumbnail ? this._deleteThumbnail : this._saveDone;
    var fail = this._sendFail;
    var data = {
      code: this.props.binary.code
    };

    if (typeof this.props.cmdDeleteBinary === "function") {
      this.props.cmdDeleteBinary(data).then(done, fail);
    } else {
      var dtoIn = {
        data: data,
        done: done,
        fail: fail
      };
      _calls_js__WEBPACK_IMPORTED_MODULE_2__["default"].customPostCmd(this.props.baseUri, this.props.cmdDeleteBinary, dtoIn);
    }
  },
  _deleteThumbnail: function _deleteThumbnail(dtoOut) {
    var _this = this;

    var dtoIn = {
      done: function done() {
        _this.props.removeThumbnail(_this.props.thumbnail.code);

        _this._saveDone(dtoOut);
      },
      fail: function fail() {
        uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.warning("Delete image thumbnail failed.");

        _this._saveDone(dtoOut);
      },
      data: {
        code: this.props.thumbnail.code
      }
    };

    if (typeof this.props.cmdDeleteThumbnail === "function") {
      this.props.cmdDeleteThumbnail(dtoIn.data).then(dtoIn.done, dtoIn.fail);
    } else {
      _calls_js__WEBPACK_IMPORTED_MODULE_2__["default"].customPostCmd(this.props.baseUri, this.props.cmdDeleteThumbnail, dtoIn);
    }
  },
  _sendFail: function _sendFail(opt) {
    this.props.currentControls() && this.props.currentControls().setDisabledButton(false);
    var msg = null;

    if (opt.error && opt.error["cause"] && opt.error["cause"]["uuAppErrorMap"]["uu-app-objectstore/invalidRevision"]) {
      var code = opt.error["code"] + "/invalidRevision";
      msg = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors[code] || _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors["default"]);
    } else {
      msg = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors[opt.error["code"]] || _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].commandErrors["default"]);
    }

    this._form.getAlertBus().setAlert({
      content: msg,
      colorSchema: "danger"
    });
  },
  _saveDone: function _saveDone(dtoOut, justSave) {
    var _this2 = this;

    this.props.onSuccess && this.props.onSuccess(this.props.binary.code);
    this.props.done && this.props.done(dtoOut, justSave);
    this.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE) && this.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus().clearAlerts(function () {
      _this2.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE) && _this2.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus && _this2.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus() && _this2.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus().setAlert({
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_DELETE_BINARY_SUCCESS_CONFIRM_MSG),
        colorSchema: "success",
        closeTimer: 3000
      });
    });
  },
  _onValidate: function _onValidate(component) {},
  _getChild: function _getChild() {
    var _this3 = this;

    var content;

    if (typeof this.props.lsiLabels.deleteBinaryFormContent === "string") {
      content = this.props.lsiLabels.deleteBinaryFormContent;
    } else {
      content = _objectSpread({}, this.props.lsiLabels.deleteBinaryFormContent);
    }

    if (typeof content === "string") {
      content = content.replace("${filename}", this.props.binary.filename);
    } else if (_typeof(content) === "object") {
      for (var key in content) {
        if (content.hasOwnProperty(key)) {
          content[key] = content[key].replace("${filename}", this.props.binary.filename);
        }
      }
    }

    var text = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(content);
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Form, _extends({}, this.getMainPropsToPass(), {
      onSave: function onSave(_ref) {
        var component = _ref.component,
            values = _ref.values;
        return _this3._onSave(component, values);
      },
      onCancel: this.props.onCancel,
      ref_: function ref_(form) {
        return _this3._form = form;
      }
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].P, _extends({}, this.getMainPropsToPass(), {
      content: text
    })));
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return this._getChild();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (DeleteFileForm);

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(40);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-delete-file-form .uu5-bricks-p {\n  text-align: center;\n  margin: 40px;\n}\n", ""]);



/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _calls_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
/* harmony import */ var _preview_file_form_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(42);
/* harmony import */ var _preview_file_form_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_preview_file_form_less__WEBPACK_IMPORTED_MODULE_5__);






var PreviewFileForm = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].TAG + "PreviewFileForm",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_2__["default"].CSS + "preview-file-form"
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    code: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    done: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onCancel: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    rev: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number]),
    baseUri: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    cmdGetBinaryData: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    if (this.props.cmdGetBinaryData && this.props.code) {
      this._updateImageSrc();
    }

    return {
      error: false,
      src: null
    };
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    if (nextProps.cmdGetBinaryData !== this.props.cmdGetBinaryData || nextProps.code !== this.props.code) {
      this._updateImageSrc(nextProps);
    }
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  getForm: function getForm() {
    return this._form;
  },
  hasUnsavedChanges: function hasUnsavedChanges() {
    return false;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _updateImageSrcDone: function _updateImageSrcDone(data) {
    this.setState(function (state) {
      if (state.src && state.src.match(/^blob:/)) {
        // release old image url
        window.URL.revokeObjectURL(state.src);
      } // create new url to blob


      return {
        src: data.match(/^blob:/) ? window.Url.createObjectURL(data) : data
      };
    });
  },
  _updateImageSrc: function _updateImageSrc() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var src;
    var data = {
      code: props.code
    };

    if (typeof props.cmdGetBinaryData === "function") {
      props.cmdGetBinaryData(data).then(this._updateImageSrcDone, this._updateImageSrcDone);
    } else {
      src = _calls_js__WEBPACK_IMPORTED_MODULE_1__["default"].getCommandUri(props.baseUri, props.cmdGetBinaryData, data);
      src = src + "&" + props.rev;

      this._updateImageSrcDone(src);
    }
  },
  _onSave: function _onSave() {
    this.props.done && this.props.done();
  },
  _renderImage: function _renderImage() {
    var _this = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Image, {
      mainAttrs: {
        onError: function onError() {
          return _this.setState({
            error: true
          });
        }
      },
      responsive: true,
      src: this.state.src,
      authenticate: true
    });
  },
  _renderError: function _renderError() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_3__["default"].LSI_LABEL_FILE_MANAGER_PREVIEW_ERROR)
    });
  },
  _getChild: function _getChild() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, this.getMainPropsToPass(), this.state.error ? this._renderError() : this._renderImage());
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return this._getChild();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (PreviewFileForm);

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(43);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-preview-file-form {\n  min-height: 64px;\n}\n.plus4u5-files-preview-file-form .uu5-bricks-image {\n  margin: 0 auto 8px;\n  max-height: calc(100vh - 112px);\n}\n", ""]);



/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareFileForm", function() { return ShareFileForm; });
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var _share_file_form_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(45);
/* harmony import */ var _share_file_form_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_share_file_form_less__WEBPACK_IMPORTED_MODULE_4__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






var ShareFileForm = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].CcrReaderMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "ShareFileForm",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "share-file-form",
      radioLabel: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "share-file-form-radio-label"
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    binary: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    done: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onCancel: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    settings: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].array
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    return {
      option: "1"
    };
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  getForm: function getForm() {
    return this._form;
  },
  hasUnsavedChanges: function hasUnsavedChanges() {
    return false;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _copyToClipboard: function _copyToClipboard(text) {
    var textArea = document.createElement("textarea");
    textArea.value = text;
    document.body.appendChild(textArea);
    textArea.select();

    try {
      document.execCommand("copy");
    } catch (err) {
      uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.warning("Oops, unable to copy", err);
    }

    document.body.removeChild(textArea);
  },
  _onSave: function _onSave() {
    var _this = this;

    this._embeddedText && this._copyToClipboard(this._embeddedText.getValue());
    this.props.done && this.props.done();
    this.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus().clearAlerts(function () {
      _this.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE) && _this.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus && _this.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus() && _this.getCcrComponentByKey(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Environment"].CCRKEY_PAGE).getAlertBus().setAlert({
        content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_SHARE_BINARY_SUCCESS_CONFIRM_MSG),
        colorSchema: "success",
        closeTimer: 3000
      });
    });
  },
  _getOutput: function _getOutput() {
    var output = this.props.settings[parseInt(this.state.option) - 1].value;
    var varScan = output.match(/\${[^(})]*}/g);

    if (varScan) {
      for (var i = 0; i < varScan.length; i++) {
        var attribute = varScan[i].substr(2, varScan[i].length - 3);
        var value = attribute.split(".").reduce(this._getVarOnKey, this.props.binary);
        output = output.replace(varScan[i], value !== undefined && value !== null ? value : "");
      }
    }

    return output;
  },
  _getVarOnKey: function _getVarOnKey(obj, i) {
    return obj[i];
  },
  _getChild: function _getChild() {
    var _this2 = this;

    var embeddedText = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Tools.findComponent("UuApp.DesignKit.EmbeddedText", {
      ref_: function ref_(r) {
        _this2._embeddedText = r;
      },
      header: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_FILE_MANAGER_SHARE_TEXT),
      level: 6,
      showCopyButton: false,
      codeStyle: this.props.settings[parseInt(this.state.option) - 1].codeStyle || "text",
      content: this._getOutput()
    });
    var radioValues = [];

    for (var i = 0; i < this.props.settings.length; i++) {
      radioValues.push({
        label: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.settings[i].label),
        name: (i + 1).toString(),
        value: this.state.option === (i + 1).toString()
      });
    }

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Form, _extends({}, this.getMainPropsToPass(), {
      onSave: function onSave(_ref) {
        var component = _ref.component,
            values = _ref.values;
        return _this2._onSave(component, values);
      },
      onCancel: this.props.onCancel,
      ref_: function ref_(form) {
        return _this2._form = form;
      }
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Div, {
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_FILE_MANAGER_SHARE_RADIO_LABEL),
      className: this.getClassName("radioLabel")
    }), uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Radios, {
      value: radioValues,
      onChange: function onChange(opt) {
        _this2.setState({
          option: opt.value
        });
      }
    }), embeddedText));
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return this._getChild();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (ShareFileForm);

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(46);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-share-file-form {\n  min-height: 64px;\n}\n.plus4u5-files-share-file-form .uu-uuapp-designkit-embedded-text .uu5-bricks-header {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.54);\n  margin-top: 24px;\n  margin-bottom: 16px;\n}\n.plus4u5-files-share-file-form .plus4u5-files-share-file-form-radio-label {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.54);\n  margin-top: 16px;\n  margin-bottom: 8px;\n}\n.plus4u5-files-share-file-form .uu5-forms-radios {\n  margin-top: 0;\n}\n.plus4u5-files-share-file-form .uu5-forms-message {\n  border: none;\n}\n.plus4u5-files-share-file-form .uu5-forms-radios:not(.uu5-common-disabled) .uu5-forms-checkbox-checked:not(.uu5-forms-checkbox-type-switch) .uu5-forms-right-wrapper {\n  background-color: transparent;\n}\n", ""]);



/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var _tags_select_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(24);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15);
/* harmony import */ var _helpers_file_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(32);
/* harmony import */ var _dnd_form_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48);
/* harmony import */ var _dnd_form_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_dnd_form_less__WEBPACK_IMPORTED_MODULE_7__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n        &&& {\n          margin: 8px 0 0;\n        }\n      "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n        padding: 24px 0;\n      "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }









var DnDBinaryForm = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "DnDBinaryForm",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "dnd-form",
      row: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "dnd-form-row " + _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject()),
      rowLabel: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "dnd-form-row-label",
      rowLabelRequired: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "dnd-form-row-label-required",
      formItem: _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject2())
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    done: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onSuccess: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    onCancel: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    fileList: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].array]),
    lsiLabels: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    customCodesEnabled: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    customCodesRequired: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    ignoreTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
    availableTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string),
    allowCustomTags: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    onTagCreate: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    return {
      feedbacks: {},
      messages: {},
      files: this.props.fileList.map(function (file) {
        return {
          file: file,
          feedback: "initial",
          message: undefined
        };
      })
    };
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    setTimeout(function () {
      return _this._first && _this._first.focus();
    }, 200); // TODO Remove / lower timeout when UU5 fixes animation of modal.
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    if (this.props.fileList !== nextProps.fileList) {
      this.setState({
        files: nextProps.fileList.map(function (file) {
          return {
            file: file,
            feedback: "initial",
            message: undefined
          };
        })
      });
    }
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  getForm: function getForm() {
    return this._form;
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _registerFileInput: function _registerFileInput(key, value) {
    this._validateFileSize(key, value);
  },
  _validateFileSize: function _validateFileSize(key, file) {
    var _this2 = this;

    if (file) {
      // check file size after adjustment
      Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_6__["adjustFile"])(file, this.props).then(function (adjustedFile) {
        var stateObject = _objectSpread({}, _this2.state.files[key]);

        var newFiles = _toConsumableArray(_this2.state.files);

        if (adjustedFile && adjustedFile.size > Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_6__["getMaxFileSize"])(_this2.props.sizeLimit) * 1024) {
          stateObject.feedback = "error";
          stateObject.message = _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_this2.props.lsiLabels.fileSizeExceededError, {
            maxSize: Object(_helpers_file_js__WEBPACK_IMPORTED_MODULE_6__["getMaxFileSize"])(_this2.props.sizeLimit) + "KB"
          });
          stateObject.file = adjustedFile;
          newFiles[key] = stateObject;

          _this2.setState({
            files: newFiles
          });
        } else {
          stateObject.feedback = "initial";
          stateObject.message = undefined;
          stateObject.file = adjustedFile;
          newFiles[key] = stateObject;

          _this2.setState({
            files: newFiles
          });
        }
      });
    } else {
      var stateObject = _objectSpread({}, this.state.files[key]);

      var newFiles = _toConsumableArray(this.state.files);

      stateObject.feedback = "initial";
      stateObject.message = undefined;
      stateObject.file = file;
      newFiles[key] = stateObject;
      this.setState({
        files: newFiles
      });
    }
  },
  _onSave: function _onSave() {
    var values = this._form.getValues();

    var codes = [];
    var tags = [];

    for (var i = 0; i < this.props.fileList.length; i++) {
      codes.push(values["code" + i]);
      tags.push(values["tag" + i]);
    }

    this.props.done(codes, tags);
    this.props.onCancel();
  },
  _validateCode: function _validateCode(opt) {
    if (opt.value && !opt.value.match(/^([a-zA-Z0-9_]){3,64}$/g)) {
      return {
        feedback: "error",
        message: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_INVALID_CODE),
        value: opt.value
      };
    }
  },
  _getRow: function _getRow(fileState, key) {
    var _this3 = this;

    var showTags = this.props.availableTags || this.props.allowCustomTags;
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Row, {
      key: "row" + key,
      className: this.getClassName("row")
    }, this.props.customCodesEnabled ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Text, {
      label: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_ADD_BINARY_CODE),
      inputColWidth: "s-12 m-7",
      labelColWidth: "s-12 m-5",
      className: this.getClassName("formItem"),
      name: "code" + key,
      ref_: function ref_(r) {
        key === 0 && (_this3._first = r);
      },
      inputAttrs: {
        autoComplete: "off"
      },
      onValidate: this._validateCode,
      required: this.props.customCodesRequired,
      requiredMessage: this.props.customCodesRequired && _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_ADD_BINARY_CODE_REQUIRED),
      controlled: false
    }) : null, showTags ? uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(_tags_select_js__WEBPACK_IMPORTED_MODULE_4__["default"], {
      label: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_ADD_TAGS),
      inputColWidth: "s-12 m-7",
      labelColWidth: "s-12 m-5",
      className: this.getClassName("formItem"),
      availableTags: this.props.availableTags,
      ignoreTags: this.props.ignoreTags,
      allowCustomTags: this.props.allowCustomTags,
      name: "tag" + key,
      displayHint: false,
      controlled: false
    }) : null, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].File, {
      ref_: function ref_() {
        return _this3._registerFileInput(key, fileState.file);
      },
      label: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.lsiLabels.addBinaryFormFile),
      inputColWidth: "s-12 m-7",
      labelColWidth: "s-12 m-5",
      className: this.getClassName("formItem"),
      name: "file" + key,
      value: fileState.file,
      feedback: fileState.feedback,
      message: fileState.message,
      onChange: function onChange(_ref) {
        var value = _ref.value;
        return _this3._validateFileSize(key, value);
      },
      required: true
    }));
  },
  _getRows: function _getRows() {
    var rows = [];

    for (var i = 0; i < this.state.files.length; i++) {
      rows.push(this._getRow(this.state.files[i], i));
    }

    return rows;
  },
  _getChild: function _getChild() {
    var _this4 = this;

    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Forms"].Form, _extends({}, this.getMainPropsToPass(), {
      onSave: function onSave(_ref2) {
        var component = _ref2.component,
            values = _ref2.values;
        return _this4._onSave(component, values);
      },
      onCancel: this.props.onCancel,
      ref_: function ref_(form) {
        return _this4._form = form;
      }
    }), this._getRows());
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return this._getChild();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (DnDBinaryForm);

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(49);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-dnd-form {\n  min-height: 84px;\n}\n.plus4u5-files-dnd-form .row .uu5-bricks-column:first-child .uu5-forms-text,\n.plus4u5-files-dnd-form .row .uu5-bricks-column:first-child .plus4u5-files-dnd-form-row-label {\n  width: 100%;\n  max-width: 240px;\n  float: right;\n}\n.plus4u5-files-dnd-form .plus4u5-files-dnd-form-row .uu5-bricks-column .plus4u5-files-dnd-form-row-label {\n  color: rgba(0, 0, 0, 0.54);\n  font-size: 14px;\n}\n.plus4u5-files-dnd-form .plus4u5-files-dnd-form-row .uu5-bricks-column .plus4u5-files-dnd-form-row-label-required::after {\n  content: \"*\";\n  display: inline-block;\n  width: 0;\n  color: #d0021b;\n}\n@media (max-width: 480px) {\n  .plus4u5-files-dnd-form .plus4u5-files-dnd-form-row:not(:nth-child(2)) {\n    margin-top: 48px;\n  }\n  .plus4u5-files-dnd-form .plus4u5-files-dnd-form-row .uu5-bricks-column:first-child .uu5-forms-text,\n  .plus4u5-files-dnd-form .plus4u5-files-dnd-form-row .uu5-bricks-column:last-child .plus4u5-files-dnd-form-row-label,\n  .plus4u5-files-dnd-form .plus4u5-files-dnd-form-row .uu5-bricks-column:first-child .plus4u5-files-dnd-form-row-label {\n    max-width: none;\n    float: none;\n  }\n  .plus4u5-files-dnd-form .uu5-forms-input {\n    margin: 0;\n  }\n}\n", ""]);



/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9);
/* harmony import */ var _controls_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(51);
/* harmony import */ var _controls_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_controls_less__WEBPACK_IMPORTED_MODULE_4__);





var Controls = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].VisualComponent.create({
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].BaseMixin, uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].ElementaryMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].TAG + "Controls",
    classNames: {
      main: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "controls",
      codeButtons: _config_config_js__WEBPACK_IMPORTED_MODULE_1__["default"].CSS + "controls-code-buttons"
    },
    opt: {
      nestingLevelWrapper: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    formComponent: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    hasDelete: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    label: uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, uu5g04__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      hasDelete: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:standardComponentLifeCycle
  getInitialState: function getInitialState() {
    return {
      disabledButton: false
    };
  },
  //@@viewOff:standardComponentLifeCycle
  //@@viewOn:interface
  setDisabledButton: function setDisabledButton(b) {
    this.setState({
      disabledButton: b
    });
  },
  //@@viewOff:interface
  //@@viewOn:overridingMethods
  //@@viewOff:overridingMethods
  //@@viewOn:componentSpecificHelpers
  _save: function _save(e) {
    if (this.props.formComponent() && this.props.formComponent().getForm() && this.props.formComponent().getForm().isValid()) {
      this.props.formComponent() && this.props.formComponent().getForm() && this.props.formComponent().getForm().save();
    }

    return this;
  },
  _getMainPropsToPass: function _getMainPropsToPass() {
    var props = this.getMainPropsToPass();
    props.disabled = false;
    return props;
  },
  _getButtons: function _getButtons() {
    var _this = this;

    var buttonCancelComp = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Button, {
      onClick: function onClick() {
        return _this.props.formComponent().getForm() && _this.props.formComponent().getForm().cancel();
      },
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(_config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_BUTTON_CANCEL),
      disabled: this.isDisabled(),
      key: "Cancel"
    });
    var buttonOkComp = uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Bricks"].Button, {
      colorSchema: this.props.hasDelete ? "danger" : "primary",
      onClick: this._save,
      content: _helpers_lsi_helper_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiComponent(this.props.label ? this.props.label : this.props.hasDelete ? _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_BUTTON_DELETE : _config_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].LSI_LABEL_BUTTON_SAVE),
      disabled: this.isDisabled() || this.state.disabledButton,
      key: "Submit"
    });
    return [buttonCancelComp, buttonOkComp];
  },
  //@@viewOff:componentSpecificHelpers
  //@@viewOn:render
  render: function render() {
    return uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_0__["Common"].Div, this._getMainPropsToPass(), this._getButtons());
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Controls);

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(52);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-controls {\n  text-align: center;\n  padding: 0;\n  font-family: ClearSans-Medium;\n}\n.plus4u5-files-controls .uu5-bricks-button {\n  margin: 0 4px;\n  min-width: 96px;\n}\n.plus4u5-files-controls .plus4u5-files-controls-code-buttons {\n  margin-bottom: 4px;\n}\n@media (min-width: 992px) {\n  .plus4u5-files-controls .plus4u5-files-controls-code-buttons {\n    display: inline-block;\n    position: absolute;\n    left: 12px;\n    margin-bottom: 0;\n  }\n}\n@media (max-width: 768px) {\n  .plus4u5-files-controls .uu5-bricks-button {\n    margin: 2px 4px;\n  }\n}\n", ""]);



/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(54);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-form-controller-modal-header {\n  width: 100%;\n}\n", ""]);



/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(56);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-file-uploader {\n  position: relative;\n  border-radius: 2px;\n  margin: 8px 0;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-initial-content,\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-content {\n  font-size: 16px;\n  color: rgba(0, 0, 0, 0.3);\n  padding: 8px 16px;\n  max-height: 320px;\n  overflow: auto;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-dnd-content {\n  text-align: center;\n  border: 3px dashed rgba(0, 0, 0, 0.17);\n  font-size: 18px;\n  padding: 24px 64px;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-dnd-content .plus4u5-files-file-uploader-stats-wrapper {\n  text-align: left;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat-message {\n  margin-top: -2px;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-hover-area {\n  position: absolute;\n  top: 8px;\n  bottom: 8px;\n  left: 8px;\n  right: 8px;\n  background-color: #e3f2fd;\n  z-index: -1;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-content {\n  position: relative;\n}\n.plus4u5-files-file-uploader.plus4u5-files-file-uploader-success-state {\n  background-color: #f1f8e9;\n}\n.plus4u5-files-file-uploader.plus4u5-files-file-uploader-success-state .plus4u5-files-file-uploader-dnd-content {\n  border-color: #388e3c;\n}\n.plus4u5-files-file-uploader.plus4u5-files-file-uploader-success-state .plus4u5-files-file-uploader-progress-stat-message {\n  color: #4caf50;\n}\n.plus4u5-files-file-uploader.plus4u5-files-file-uploader-failure-state {\n  background-color: #ffebee;\n}\n.plus4u5-files-file-uploader.plus4u5-files-file-uploader-failure-state .plus4u5-files-file-uploader-dnd-content {\n  border-color: #dd3d3d;\n}\n.plus4u5-files-file-uploader.plus4u5-files-file-uploader-failure-state .plus4u5-files-file-uploader-progress-stat-message {\n  color: #f44336;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-stats-wrapper {\n  color: #000000;\n  margin-top: 8px;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-align: baseline;\n          align-items: baseline;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat .plus4u5-files-file-uploader-progress-stat-content {\n  margin-left: 12px;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat .uu5-bricks-icon {\n  font-size: 20px;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat + .plus4u5-files-file-uploader-progress-stat {\n  margin-top: 2px;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-result-success,\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-result-failed {\n  font-family: ClearSans-Medium;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-reset-button {\n  position: absolute;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n  top: 0;\n  right: 0;\n  width: 32px;\n  height: 32px;\n  font-size: 20px;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-reset-button.uu5-bricks-link,\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-reset-button.uu5-bricks-link:hover,\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-reset-button.uu5-bricks-link:focus,\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-reset-button.uu5-bricks-link:visited {\n  text-decoration: none;\n  color: rgba(0, 0, 0, 0.54);\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat .mdi-checkbox-marked-circle,\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-result-success {\n  color: #4caf50;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat .mdi-alert,\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-result-failed {\n  color: #f44336;\n}\n.plus4u5-files-file-uploader .plus4u5-files-file-uploader-progress-stat .mdi-loading {\n  -webkit-animation: spin 1.2s infinite linear;\n          animation: spin 1.2s infinite linear;\n}\n@-webkit-keyframes plus4u5-files-file-uploader-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes plus4u5-files-file-uploader-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n", ""]);



/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilePasteHandlerMixin", function() { return FilePasteHandlerMixin; });
var instances = {};
var InstanceCounter = {
  getInstances: function getInstances(tagName) {
    return instances[tagName] || [];
  },
  Mixin: {
    componentDidMount: function componentDidMount() {
      var compInstances = instances[this.getTagName()];
      if (!compInstances) compInstances = instances[this.getTagName()] = [];
      compInstances.push(this);
    },
    componentWillUnmount: function componentWillUnmount() {
      var compInstances = instances[this.getTagName()];

      if (compInstances) {
        var idx = compInstances.indexOf(this);
        if (idx != -1) compInstances.splice(idx, 1);
      }
    }
  }
};
var FilePasteHandlerMixin = {
  mixins: [InstanceCounter.Mixin],
  componentDidMount: function componentDidMount() {
    if (!this.pasteFiles_) throw new Error("FilePasteHandler requires method pasteFiles_(blobs) to be defined.");

    if (InstanceCounter.getInstances("Plus4U5.Files.FileManager").length === 1) {
      document.addEventListener("paste", handleDocumentPaste);
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    if (InstanceCounter.getInstances("Plus4U5.Files.FileManager").length === 0) {
      document.removeEventListener("paste", handleDocumentPaste);
    }
  }
}; // NOTE This method must not be instance method (or mount/unmount listener registering would have to change).

function handleDocumentPaste(e) {
  if (e.repeat !== true) {
    // find out how many instances of Input / UploadInput components are present & visible
    var _instances = InstanceCounter.getInstances("Plus4U5.Files.FileManager");

    var pastableInstances = _instances.filter(function (it) {
      var result = false;

      if (!it.props.ignorePaste) {
        var domNode = it.findDOMNode(); // eslint-disable-line

        if (domNode) {
          var computedStyle = getComputedStyle(domNode);
          if (computedStyle.visibility !== "hidden" && computedStyle.display !== "none") result = true;
        }
      }

      return result;
    });

    if (pastableInstances.length === 1) {
      // paste files to the component
      var items = (e.clipboardData || e.originalEvent.clipboardData || {}).items;
      var blobs = [];

      for (var index in items) {
        var item = items[index];

        if (item.kind === "file") {
          var blob = item.getAsFile();
          blobs.push(blob);
        }
      }

      if (blobs.length > 0) {
        var component = pastableInstances[0];
        component.pasteFiles_(blobs);
      }
    }
  }
}

/* harmony default export */ __webpack_exports__["default"] = (FilePasteHandlerMixin);

/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/* harmony import */ var uu5g04__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g04__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);
/* harmony import */ var uu5g04_bricks__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g04_bricks__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var uu5tilesg01__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var uu5tilesg01__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uu5tilesg01__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
/* harmony import */ var _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15);
/* harmony import */ var _config_lsi_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8);
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: ", ";\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n        font-size: 24px;\n      "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n        font-size: 80px;\n        color: #616161;\n        width: 80px;\n        height: 80px;\n        display: flex;\n        align-items: center;\n      "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: ", ";\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: rgba(250, 250, 250, 0.95);\n        border: 4px dashed rgba(0, 0, 0, 0.17);\n      "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n        position: relative;\n      "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

//@@viewOn:imports






 //@@viewOff:imports

var ListWrapper = uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Reference.forward(function (props, ref) {
  return uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(ListWrapperBody, _extends({}, props, {
    listRef: ref
  }));
});
ListWrapper.displayName = _config_config__WEBPACK_IMPORTED_MODULE_4__["default"].TAG + "ListWrapper";
ListWrapper.hocFor = uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Tiles.List.hocFor;
var ListWrapperBody = uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.VisualComponent.create({
  displayName: "ListWrapperBody",
  //@@viewOn:mixins
  mixins: [uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.BaseMixin],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    classNames: {
      main: function main() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject());
      },
      emptyListWarning: _config_config__WEBPACK_IMPORTED_MODULE_4__["default"].CSS + "file-manager-empty-list-warning",
      dndHoverArea: function dndHoverArea() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject2());
      },
      hintWrapper: function hintWrapper() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject3(), typeof state.positionY === "number" ? state.positionY + "px" : "0");
      },
      hintIcon: function hintIcon() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject4());
      },
      hintText: function hintText() {
        return _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject5());
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    wrapperAttrs: uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.PropTypes.object,
    isEmpty: uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.PropTypes.bool,
    isEmptyMessage: uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.PropTypes.node
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {};
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    this._hasRendered = false;
    return {
      positionY: null,
      height: null,
      hintHeight: null
    };
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    if (this.props.isHovered !== nextProps.isHovered) {
      this._hasRendered = false;
    }
  },
  componentDidUpdate: function componentDidUpdate() {
    if (this._hoverArea && this._hintWrapper && !this._hasRendered) {
      this._hasRendered = true;
      this.forceUpdate();
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _registerHoverArea: function _registerHoverArea(ref) {
    this._hoverArea = ref;
  },
  _registerHintWrapper: function _registerHintWrapper(ref) {
    this._hintWrapper = ref;
  },
  _getHintWrapperClassName: function _getHintWrapperClassName() {
    if (this._hasRendered) {
      var hoverAreaRect = this._hoverArea.getBoundingClientRect();

      var hintWrapperRect = this._hintWrapper.getBoundingClientRect();

      var positionY;
      var visibleArea = {
        top: 0,
        height: hoverAreaRect.height
      };

      if (hoverAreaRect.top < 0) {
        visibleArea.top -= hoverAreaRect.top;
        visibleArea.height -= visibleArea.top;
      }

      if (hoverAreaRect.bottom > window.innerHeight) {
        visibleArea.height -= hoverAreaRect.bottom - window.innerHeight;
      }

      positionY = visibleArea.top + (visibleArea.height - hintWrapperRect.height) / 2;
      return _helpers_css_js__WEBPACK_IMPORTED_MODULE_5__["default"].css(_templateObject6(), typeof positionY === "number" ? positionY + "px" : "0");
    }
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this$props = this.props,
        wrapperAttrs = _this$props.wrapperAttrs,
        isHovered = _this$props.isHovered,
        listRef = _this$props.listRef,
        isEmpty = _this$props.isEmpty,
        isEmptyMessage = _this$props.isEmptyMessage,
        listProps = _objectWithoutProperties(_this$props, ["wrapperAttrs", "isHovered", "listRef", "isEmpty", "isEmptyMessage"]);

    return uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Fragment, null, this.props.children, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Bricks.Div, {
      mainAttrs: wrapperAttrs,
      className: this.getClassName("main")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Tiles.List, _extends({}, listProps, {
      ref: listRef
    })), isEmpty && uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Bricks.Div, {
      className: this.getClassName("emptyListWarning")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Bricks.Icon, {
      icon: "mdi-package-variant"
    }), uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Bricks.Div, {
      content: isEmptyMessage
    })), isHovered ? uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create("div", {
      className: this.getClassName("dndHoverArea"),
      ref: this._registerHoverArea
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create("div", {
      className: this._getHintWrapperClassName(),
      ref: this._registerHintWrapper
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create("span", {
      className: this.getClassName("hintIcon")
    }, uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Bricks.Icon, {
      icon: "mdi-upload"
    })), uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Common.Element.create(uu5g04__WEBPACK_IMPORTED_MODULE_1___default.a.Bricks.Lsi, {
      className: this.getClassName("hintText"),
      lsi: _config_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"].LSI_LABEL_FILE_MANAGER_DROP_ZONE
    }))) : null));
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (ListWrapper);

/***/ }),
/* 59 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__59__;

/***/ }),
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeTagsValue", function() { return normalizeTagsValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseScreenSizeProp", function() { return parseScreenSizeProp; });
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var normalizeTagsValue = function normalizeTagsValue(value) {
  return value.split(",").filter(function (item) {
    return !item.match(/^\s*$/);
  }).map(function (item) {
    return item.trim();
  });
};
var parseScreenSizeProp = function parseScreenSizeProp(value, defaultValue, process) {
  var result = {}; // value should be a string like "xs-value s-value ..." or an object like {xs: value, s: value, ...}

  if (typeof value === "string") {
    value.split(" ").forEach(function (value) {
      var valueParts = value.split("-");
      result[valueParts[0]] = valueParts[1];
    });
  } else {
    result = _objectSpread({}, value);
  }

  var lastValue = defaultValue;
  ["xs", "s", "m", "l", "xl"].forEach(function (size) {
    lastValue = result[size] || lastValue;
    result[size] = typeof process === "function" ? process(lastValue) : lastValue;
  });
  return result;
};
var Tools = {
  normalizeTagsValue: normalizeTagsValue,
  parseScreenSizeProp: parseScreenSizeProp
};
/* harmony default export */ __webpack_exports__["default"] = (Tools);

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(62);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"insertInto":"head","insertAt":{"before":"[data-uu-app-styles-insert-before]"},"hmr":false,"attrs":{"data-owner":"uu_plus4u5filesg01@4.3.1"}}

options.transform = transform
options.insertInto = "head";

var update = __webpack_require__(21)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(20)(false);
// Module
exports.push([module.i, ".plus4u5-files-file-manager .ReactVirtualized__Grid__innerScrollContainer {\n  overflow: visible !important;\n}\n.plus4u5-files-file-manager .plus4u5-files-file-manager-empty-list-warning {\n  margin-top: 64px;\n  text-align: center;\n  color: rgba(0, 0, 0, 0.54);\n}\n.plus4u5-files-file-manager .plus4u5-files-file-manager-empty-list-warning .uu5-bricks-icon {\n  font-size: 64px;\n}\n.plus4u5-files-file-manager .plus4u5-files-file-manager-empty-list-warning .uu5-common-div {\n  margin: 8px 16px;\n  font-size: 24px;\n}\n.plus4u5-files-file-manager .plus4u5-files-file-manager-dnd-wrapper {\n  border-bottom: 1px solid #D6D6D6;\n}\n.plus4u5-files-file-manager .uu5-tiles-list-controller-toolbar-container {\n  z-index: auto;\n}\n.plus4u5-files-file-manager .uu5-bricks-card,\n.plus4u5-files-file-manager .uu5-tiles-list-virtualized {\n  overflow: visible !important;\n}\n", ""]);



/***/ })
/******/ ]);
});