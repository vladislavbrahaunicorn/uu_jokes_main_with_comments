!function(e,r){
"object"==typeof exports&&"object"==typeof module?module.exports=r(require("uu_appg01_core-utils"),require("module")):"function"==typeof define&&define.amd?define("uu_appg01_core-logging",["uu_appg01_core-utils","module"],r):"object"==typeof exports?exports["uu_appg01_core-logging"]=r(require("uu_appg01_core-utils"),require("module")):(e.UuApp=e.UuApp||{},
e.UuApp.Logging=r(e["UuApp.Utils"],e[void 0]))}(window,(function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__7__){return function(e){var r={};function t(a){if(r[a])return r[a].exports
;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},
t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){
if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),
2&r&&"string"!=typeof e)for(var n in e)t.d(a,n,function(r){return e[r]}.bind(null,n));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e}
;return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=5)}([function(e,r){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(e,r,t){"use strict"
;e.exports={DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4,UNKNOWN:5,OFF:6}},function(e,r,t){"use strict";function a(e,r,t,a,n,o,i){try{var s=e[o](i),u=s.value}catch(e){return void t(e)}
s.done?r(u):Promise.resolve(u).then(a,n)}function n(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),
Object.defineProperty(e,a.key,a)}}var o=t(1),i=t(3),s=t(0).BaseError,u=function(){function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),
this._name=r,this._level=o.WARN,this._formatter=new i,this._outputter=console}var r,t,u,c,l;return r=e,(t=[{key:"getName",value:function(){return this._name}},{key:"setLevel",value:function(e){
if("number"==typeof e)this._level=e;else if("string"==typeof e){var r=void 0!==o[e.toUpperCase()]?o[e.toUpperCase()]:Number(e);void 0===r||isNaN(r)||(this._level=r)}else{
if(e)throw new s('Invalid logger level "'.concat(e,'"'));this._level=o.WARN}}},{key:"getLevel",value:function(){return this._level}},{key:"setSeverityLabels",value:function(e){
this._formatter.setSeverityLabels(e)}},{key:"getSeverityLabels",value:function(){return this._formatter.getSeverityLabels()}},{key:"setMessageFormat",value:function(e){
this._formatter.setMessageFormat(e)}},{key:"getMessageFormat",value:function(){return this._formatter.getMessageFormat()}},{key:"setErrorFormat",value:function(e){this._formatter.setErrorFormat(e)}},{
key:"getErrorFormat",value:function(){return this._formatter.getErrorFormat()}},{key:"setCauseFormat",value:function(e){this._formatter.setCauseFormat(e)}},{key:"getCauseFormat",value:function(){
return this._formatter.getCauseFormat()}},{key:"isDebugLoggable",value:function(){return this._level<=o.DEBUG}},{key:"debug",value:function(e){
var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._add(o.DEBUG,e,r)}},{key:"isInfoLoggable",value:function(){return this._level<=o.INFO}},{key:"info",value:function(e){
var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._add(o.INFO,e,r)}},{key:"isWarnLoggable",value:function(){return this._level<=o.WARN}},{key:"warn",value:function(e){
var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._add(o.WARN,e,r)}},{key:"isErrorLoggable",value:function(){return this._level<=o.ERROR}},{key:"error",value:function(e){
var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._add(o.ERROR,e,r)}},{key:"isFatalLoggable",value:function(){return this._level<=o.FATAL}},{key:"fatal",value:function(e){
var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._add(o.FATAL,e,r)}},{key:"log",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
;this._add(o.UNKNOWN,e,r)}},{key:"_add",value:function(e,r,t){this._level<=e&&this._write(new Date,e,r,t)}},{key:"_write",value:(c=regeneratorRuntime.mark((function e(r,t,a,n){var i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._formatter.formatMessage(r,this._name,t,a,n),"undefined"==typeof window){e.next=16;break}e.t0=t,
e.next=e.t0===o.FATAL||e.t0===o.ERROR?5:e.t0===o.WARN?7:e.t0===o.INFO||e.t0===o.UNKNOWN?9:e.t0===o.DEBUG?11:13;break;case 5:return this._outputter.error(i),e.abrupt("break",14);case 7:
return this._outputter.warn(i),e.abrupt("break",14);case 9:return this._outputter.info(i),e.abrupt("break",14);case 11:return this._outputter.debug(i),e.abrupt("break",14);case 13:
this._outputter.log(i);case 14:e.next=17;break;case 16:this._outputter.log(i);case 17:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,r=arguments;return new Promise((function(t,n){
var o=c.apply(e,r);function i(e){a(o,t,n,i,s,"next",e)}function s(e){a(o,t,n,i,s,"throw",e)}i(void 0)}))},function(e,r,t,a){return l.apply(this,arguments)})}])&&n(r.prototype,t),u&&n(r,u),e}()
;e.exports=u},function(module,exports,__webpack_require__){"use strict";function _slicedToArray(e,r){
return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1)
;return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}
function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function _iterableToArrayLimit(e,r){
if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);a=!0);
}catch(e){n=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,r){
if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,
"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}
var LogLevel=__webpack_require__(1),_require=__webpack_require__(0),BaseError=_require.BaseError,LoggerMDC=__webpack_require__(4),FORMAT_TAGS=/(%(?:{([^}]*)})?([a-zA-Z%]))/g,DEFAULT_SEVERITY_LABELS="DEBUG INFO WARN ERROR FATAL ANY OFF",DEFAULT_MESSAGE_FORMAT="[%d] %{5}s %n: %m%e",DEFAULT_ERROR_FORMAT="\n  %i [%t] %c: %m\n    %{\n    }b%{\n  Caused by:}C",ENTRY_SEPARATOR="\n",MessageFormatter=function(){
function MessageFormatter(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null
;_classCallCheck(this,MessageFormatter),this.setSeverityLabels(t||DEFAULT_SEVERITY_LABELS),this.setMessageFormat(e||DEFAULT_MESSAGE_FORMAT),this.setErrorFormat(r||DEFAULT_ERROR_FORMAT)}
return _createClass(MessageFormatter,[{key:"setSeverityLabels",value:function(e){e&&(this._severityLabels=e.split(" "))}},{key:"getSeverityLabels",value:function(){
return this._severityLabels.join(" ")}},{key:"setMessageFormat",value:function setMessageFormat(messageFormat){if(messageFormat){this._messageFormat=messageFormat
;var formatterSrc="(function (datetime, name, severity, message, error) {\n        return ".concat(this._transformFormat(messageFormat,this._processMessageFormatTag),";\n      }).bind(this);")
;this._messageFormatter=eval(formatterSrc)}}},{key:"getMessageFormat",value:function(){return this._messageFormat}},{key:"setErrorFormat",value:function setErrorFormat(errorFormat){if(errorFormat){
this._errorFormat=errorFormat;var formatterSrc="(function (error) {\n        return ".concat(this._transformFormat(errorFormat,this._processErrorFormatTag),";\n      }).bind(this);")
;this._errorFormatter=eval(formatterSrc)}}},{key:"getErrorFormat",value:function(){return this._errorFormat}},{key:"setCauseFormat",value:function setCauseFormat(causeFormat){if(causeFormat){
this._causeFormat=causeFormat;var formatterSrc="(function (error) {\n        return ".concat(this._transformFormat(causeFormat,this._processErrorFormatTag),";\n      }).bind(this);")
;this._causeFormatter=eval(formatterSrc)}else this._causeFormat=null,this._causeFormatter=null}},{key:"getCauseFormat",value:function(){return this._causeFormat}},{key:"formatMessage",
value:function(e,r,t,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return e||(e=new Date),r||(r=""),null==t&&(t=LogLevel.UNKNOWN),a||(a=""),this._messageFormatter(e,r,t,a,n)}},{
key:"_formatError",value:function(e){return this._errorFormatter(e)}},{key:"_formatCause",value:function(e){return(this._causeFormatter||this._errorFormatter)(e)}},{key:"_processStack",
value:function(e){var r=[],t=e.stack;return"string"==typeof t?r=t.split("\n"):t instanceof Array?r=t:t&&(r=t.toString().split("\n")),r}},{key:"_processMessageFormatTag",value:function(e,r){var t
;switch(e){case"C":t=r?'LoggerMDC.get("'.concat(r,'")'):"LoggerMDC.toJson()";break;case"d":t="datetime.toISOString()";break;case"e":t='error ? this._formatError(error): ""';break;case"m":switch(r){
case null:case void 0:t="message";break;case"JSON":t='message ? JSON.stringify(message).slice(1,-1) : ""';break;default:t='message ? message.replace(/\\r\\n|\\r|\\n/g, "'.concat(r,'"): ""')}break
;case"n":t="name";break;case"p":t='"-"';break;case"s":
t=r?"(Array(".concat(r,' + 1).join(" ") + (this._severityLabels[severity] || "ANY")).slice(-').concat(r,")"):'this._severityLabels[severity] || "ANY"';break;case"t":case"T":t='"-"'}return t}},{
key:"_processErrorFormatTag",value:function(e,r){var t;switch(e){case"b":t='this._processStack(error).join("'.concat(r||ENTRY_SEPARATOR,'")');break;case"c":t='error.name || "Error"';break;case"C":
t='error.cause ? ("'.concat(r||"",'" + this._formatCause(error.cause)) : ""');break;case"i":t='error.id ? error.id : "-"';break;case"m":
var a='error.message ? (error.message + ((error.paramMap && Object.keys(error.paramMap).length > 0) ? " (paramMap: " + JSON.stringify(error.paramMap) + ")" : "")) : (typeof error === "string" ? error : "")'
;switch(r){case null:case void 0:t=a;break;case"JSON":t="JSON.stringify(".concat(a,").slice(1,-1)");break;default:t="(".concat(a,').replace(/\\r\\n|\\r|\\n/g, "').concat(r,'")')}break;case"t":
t='error.timestamp ? error.timestamp.toISOString() : "-"'}return t}},{key:"_transformFormat",value:function(e,r){var t=this,a=[];e.replace(FORMAT_TAGS,(function(){
a.push(Array.prototype.slice.call(arguments,1,-2))}));var n='("'.concat(e.replace(/"/gm,'\\"'),'")');return a.forEach((function(e){var a,o=_slicedToArray(e,3),i=o[0],s=o[1],u=o[2]
;if(null==(a="%"!==u||s?r(u,s):"%"))throw new BaseError('unsupported format tag "'.concat(i,'" for ').concat(t.constructor.name));a='" + ('.concat(a,') + "'),n=n.replace(i,a)})),
n.replace(/\n/gm,"\\n").replace()}}]),MessageFormatter}();module.exports=MessageFormatter},function(e,r,t){"use strict";function a(e,r){for(var t=0;t<r.length;t++){var a=r[t]
;a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=t(0).ContextStore,o=t(9),i=o.getFactory,s=o.setFactory,u=function(){function e(){
!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,t,o;return r=e,o=[{key:"create",value:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(r=e,e=null),n.create("uuapp.logging",(function(){
var t=n.get("uuapp.logging");return e&&e.forEach((function(e){return t.bindEmitter(e)})),r()}))}},{key:"set",value:function(e,r){}},{key:"get",value:function(e){}},{key:"clear",value:function(){
var e=n.get("uuapp.logging");e&&e.set("mdc",{})}},{key:"toJson",value:function(){var e=n.get("uuapp.logging");if(e){var r=e.get("mdc");if(r)return JSON.stringify(r)}return"{}"}}],
(t=null)&&a(r.prototype,t),o&&a(r,o),e}();u.set=s(n,"uuapp.logging","mdc"),u.get=i(n,"uuapp.logging","mdc"),e.exports=u},function(e,r,t){e.exports=t(6)},function(e,r,t){
var a=t(7),n="undefined"!=typeof document,o=((a?a.uri:n&&(document.currentScript||Array.prototype.slice.call(document.getElementsByTagName("script"),-1)[0]||{}).src)||"").toString()
;"/4.0.0/"===(o=o.split(/\//).slice(0,-1).join("/")+"/").substr(-"/4.0.0/".length)&&(o=o.substr(0,o.length-"/4.0.0/".length)+"/4.7.2/"),t.p=o,e.exports=t(8)},function(e,r){
e.exports=__WEBPACK_EXTERNAL_MODULE__7__},function(e,r,t){"use strict";var a=t(2),n=t(10),o=t(1),i=t(3),s=t(4);e.exports={Logger:a,LoggerFactory:n,LogLevel:o,MessageFormatter:i,LoggerMDC:s}
},function(e,r){function t(){}e.exports={setFactory:function(e,r,a){return function(n,o){var i=e.get(r);i||(e.create(r,t),i=e.get(r));var s=i.get(a);s||(s={},i.set(a,s)),s[n]=o}},
getFactory:function(e,r,a){return function(n){var o=e.get(r);o||(e.create(r,t),o=e.get(r));var i=o.get(a);if(i)return i[n]}}}},function(e,r,t){"use strict";function a(e,r){for(var t=0;t<r.length;t++){
var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=t(2),o=t(0),i=o.BaseError,s=o.Config,u={},c=function(){function e(){
!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,t,o;return r=e,o=[{key:"get",value:function(r){
var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"!=typeof r)throw new i("LoggerFactory.get() must be called with a string argument (logger name).");var a=r.toLowerCase()
;if(u[a])return u[a].logger;var o=new n(r);return e.configure(o,t),u[a]={logger:o,hierarchical:t},o}},{key:"configure",value:function(e,r){
var t=e.getName().toString().toLowerCase(),a=s.get(t+".log_severity_labels",!1!==r),n=s.get(t+".log_message_format",!1!==r),o=s.get(t+".log_error_format",!1!==r),i=s.get(t+".log_cause_format",!1!==r),u=s.get(t+".log_level",!1!==r)
;e.setSeverityLabels(a),e.setMessageFormat(n),e.setErrorFormat(o),e.setCauseFormat(i),e.setLevel(u)}},{key:"configureAll",value:function(){Object.keys(u).map((function(r){var t=u[r]
;e.configure(t.logger,t.hirearchical)}))}}],(t=null)&&a(r.prototype,t),o&&a(r,o),e}();e.exports=c}])}));