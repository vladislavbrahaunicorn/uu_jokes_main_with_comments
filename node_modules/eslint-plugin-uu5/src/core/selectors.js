/**
 * @fileoverview uu5 component definition selectors and related logic
 * @author Martin FarkaÅ¡
 */
"use strict";

const CREATE_REACT_CLASS_SELECTOR = "CallExpression[callee.name='createReactClass'] > ObjectExpression";
const VS_COMPONENT_CREATE_SELECTOR = "CallExpression[callee.property.name='create']";
const VS_COMPONENT_REGEXP = /^UU5\.Common\.VisualComponent\.create/;

module.exports = {
  getCreateReactClassSelector: function() {
    return CREATE_REACT_CLASS_SELECTOR;
  },

  getVsComponentCreateSelector: function() {
    return VS_COMPONENT_CREATE_SELECTOR;
  },

  checkVsComponent: function(context, node, ruleChecker) {
    const src = context.getSourceCode().getText(node);

    if (!src.match(VS_COMPONENT_REGEXP)) {
      return;
    }

    ruleChecker(context, node.arguments[0]);
  }
};
