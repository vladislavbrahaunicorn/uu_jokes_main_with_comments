const { BaseError } = require("uu_appg01_core-utils");

class InvalidUriPartError extends BaseError {
  constructor(partName, value, expected) {
    let message = "";
    if (typeof expected !== "string") {
      expected = expected === String ? "string" : expected;
      message = `Value "${value}" of URI part [${partName}] must be ${expected} but its typeof is ${typeof value}.`;
    } else {
      message = `Value "${value}" of URI part [${partName}] does not match regular expression /${expected.replace(
        /\//g,
        "\\/"
      )}/.`;
    }

    super(message || "Unexpected error occurred during operation execution.", null);
    this.code = "uu-app-uri/InvalidUriPartError";
  }
}

module.exports = InvalidUriPartError;
