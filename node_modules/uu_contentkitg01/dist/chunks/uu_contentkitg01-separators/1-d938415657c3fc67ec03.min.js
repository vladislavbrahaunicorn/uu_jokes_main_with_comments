(window.__webpack_jsonp_uu_contentkitg01_2_7_2_uu_contentkitg01_separators=window.__webpack_jsonp_uu_contentkitg01_2_7_2_uu_contentkitg01_separators||[]).push([[1],{13:function(e,t,n){"use strict"
;n.r(t);var r=n(0),a=n.n(r),o=n(2),i=n(1),s=n(5),c=n(3),l=(n(8),n(4)),u=n(6);r.Common.Css.createCssModule("uucontentkit-editable");var p=r.Common.Css["uucontentkit-editable"];function m(){
return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}
function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return
;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{
if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={displayName:o.a.tag("Editable.ImagePreview")};var y=Object(l.createVisualComponent)(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({},b,{propTypes:{code:a.a.PropTypes.string,alt:a.a.PropTypes.string},defaultProps:{
code:null,alt:null},render:function(e){var t=Object(u.useBinary)(),n=t.getBinaryDataUri,r=t.callBinaryGetData,o=f(Object(l.useState)(),2),i=o[0],s=o[1];return Object(l.useMemo)((function(){var t,o;r({
code:(t=e.code,o=t,o&&o.match(a.a.Common.REGEXP.uu5data)&&(o=a.a.Common.Tools.parseFromUu5Data(t)),(o.length>61?o.substr(0,61):o)+"_th")}).then((function(e){var t=new Blob([e.data.buffer],{
type:e.contentType||"application/octet-stream"});s(URL.createObjectURL(t))})).catch((function(){s(n(e.code))}))}),[e.code]),
i?a.a.Common.Element.create(a.a.Bricks.Image,m({},a.a.Common.VisualComponent.getAttrs(e),{src:i,alt:e.alt,authenticate:!0})):a.a.Common.Element.create("div",a.a.Common.VisualComponent.getAttrs(e))}}))
;function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return
;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{
if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function C(){var e=_(["margin-top: 16px;"]);return C=function(){return e},e}function w(){
var e=_(["\n      display: flex;\n      align-items: center;\n      width: calc(100% - 48px);\n    "]);return w=function(){return e},e}function O(){
var e=_(["\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    "]);return O=function(){return e},e}function P(){
var e=_(["\n      font-size: 14px;\n      color: rgba(0, 0, 0, 0.54);\n      font-weight: 400;\n    "]);return P=function(){return e},e}function j(){var e=_(["font-size: 12px;"]);return j=function(){
return e},e}function N(){var e=_(["\n      display: block;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    "]);return N=function(){return e},e}function E(){
var e=_(["\n      width: 100px;\n      .uu5-bricks-icon {\n        font-size: 64px;\n      }\n    "]);return E=function(){return e},e}function I(){
var e=_(["\n      height: 80px;\n      width: 100px;\n      min-width: 100px;\n      text-align: center;\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-pack: center;\n      justify-content: center;\n      -webkit-box-align: center;\n      align-items: center;\n      overflow: hidden;\n      padding: 8px;\n\n    "])
;return I=function(){return e},e}function T(){var e=_([".uu5-tiles-action-bar-buttonsbox { align-items: flex-end;}"]);return T=function(){return e},e}function _(e,t){return t||(t=e.slice(0)),
Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=n(7).a.uu_plus4u5filesg01,k={displayName:o.a.tag("Editable.FileManager"),classNames:{buttonFix:function(){
return p.css(T())},preview:function(){return p.css(I())},previewIcon:function(){return p.css(E())},ellipsis:function(){return p.css(N())},secondaryAttribute:function(){return p.css(j())},
previewLsi:function(){return p.css(P())},previewDiv:function(){return p.css(O())},previewInnerDiv:function(){return p.css(w())},margin:function(){return p.css(C())}}};function x(e,t){
e.onChangeItems(e.items.map((function(n){return n.id===e.editedItemId?{id:n.id,props:g({},n.props,t)}:n})))}function B(e,t){var n={data:e};return new Promise((function(e,r){n.done=e,n.fail=r,t(n)}))}
var L=Object(l.createVisualComponent)(g({},k,{propTypes:{componentProps:a.a.PropTypes.object,onChangeProps:a.a.PropTypes.func,onChangeItems:a.a.PropTypes.func,items:a.a.PropTypes.array,
editedItemId:a.a.PropTypes.string,listOnlyImages:a.a.PropTypes.bool,fileTypeFilters:a.a.PropTypes.object,codePreviewLsi:a.a.PropTypes.object,isItem:a.a.PropTypes.bool,propName:a.a.PropTypes.string,
showWarning:a.a.PropTypes.func},defaultProps:{componentProps:void 0,onChangeProps:void 0,onChangeItems:void 0,items:void 0,editedItemId:void 0,listOnlyImages:!1,fileTypeFilters:{image:{label:{
cs:"Obrázky",en:"Images"},active:!1,types:["image","svg"]},text:{label:{cs:"Dokumenty",en:"Documents"},active:!1,types:["text","xml","pdf"]},other:{label:{cs:"Ostatní",en:"Other"},active:!1,
types:["other","archive","json"]}},codePreviewLsi:i.a.fileCodeSelected,noSelectedLsi:i.a.noFileSelected,propName:"code",isItem:!1,showWarning:void 0},render:function(e){
var t=Object(u.useSubApp)().basePath,n=v(Object(l.useState)({}),2),r=n[0],o=n[1],i=Object(u.useBinary)(),s=i.callBinaryCreate,c=i.callBinaryUpdate,p=i.callBinaryDelete,m=i.callBinaryList,f=i.getBinaryDataUri,d=Object(l.useRef)(),b=e.isItem?function(e){
return e.items.find((function(t){return t.id===e.editedItemId})).props[e.propName]}(e):e.componentProps[e.propName];return Object(l.useEffect)((function(){var e=setInterval((function(){
d&&d.current&&d.current._listController&&(d.current.customAddSelectedItem(b),clearInterval(e))}),500);return function(){clearInterval(e)}}),[e.editedItemId]),
a.a.Common.Element.create("div",a.a.Common.VisualComponent.getAttrs(e),function(e,t,n,r,o,i){var s;return i?(s="image"===r.type||"svg"===r.type?a.a.Common.Element.create("div",{
className:k.classNames.preview()},a.a.Common.Element.create(y,{code:r.code})):a.a.Common.Element.create("div",{className:k.classNames.preview()+" uu5-common-text "+k.classNames.previewIcon()
},r.icon&&a.a.Common.Element.create(a.a.Bricks.Icon,{icon:r.icon})),a.a.Common.Element.create("div",{className:k.classNames.margin()},a.a.Common.Element.create(a.a.Bricks.Lsi,{
className:k.classNames.previewLsi(),lsi:e.codePreviewLsi}),a.a.Common.Element.create("div",{className:k.classNames.previewDiv()},a.a.Common.Element.create("div",{
className:k.classNames.previewInnerDiv()},s,a.a.Common.Element.create("div",{className:k.classNames.ellipsis()},a.a.Common.Element.create("span",{className:k.classNames.ellipsis()
},r.filename),a.a.Common.Element.create("span",{className:k.classNames.ellipsis()+" "+k.classNames.secondaryAttribute()},r.code))),a.a.Common.Element.create(a.a.Bricks.Button,{onClick:function(){
t&&t.current&&t.current._listController&&t.current.customRemoveSelectedItem(i),e.onChangeProps(h({},e.propName,null)),o({})}},a.a.Common.Element.create(a.a.Bricks.Icon,{icon:"mdi-close"
}))),e.showWarning&&e.showWarning(r))):a.a.Common.Element.create("div",{className:k.classNames.margin()},a.a.Common.Element.create(a.a.Bricks.Lsi,{lsi:e.noSelectedLsi}))
}(e,d,0,r,o,b),a.a.Common.Element.create(S.FileManager,{ref_:d,className:k.classNames.buttonFix(),selectable:"single",lsiLabels:{header:null},headerHidden:!0,baseUri:t,thumbnailStrategy:"createNew",
uuCmdListBinaries:function(t){return e.listOnlyImages?function(e,t){var n={data:e};return new Promise((function(e,r){n.done=function(t){return e(g({},t))},n.fail=r,t(n)})).then((function(e){
return e.itemList=e.itemList.filter((function(e){return e.contentType.match(/\/svg/)||e.contentType.match(/image\//)})),e}))}(t,m):B(t,m)},uuCmdCreateBinary:function(e){return B(e,s)},
uuCmdUpdateBinaryData:function(e){return B(e,c)},uuCmdDeleteBinary:function(e){return B(e,p)},uuCmdGetBinaryDataUri:function(e,t){return t?f(e.code,"attachment"):f(e.code)},
fileTypeFilters:e.fileTypeFilters,fileButtons:{itemList:["download","update","delete"]},onFileClick:function(){},ignoreTags:["sys"],onSelect:function(t){var n,r,a,i,s=t.selected[0]
;s?e.isItem?x(e,(h(n={},e.propName,s.code),h(n,"fileName",s.filename),n)):e.onChangeProps((h(r={},e.propName,s.code),h(r,"fileName",s.filename),r)):e.isItem?x(e,(h(a={},e.propName,void 0),
h(a,"fileName",void 0),a)):e.onChangeProps((h(i={},e.propName,void 0),h(i,"fileName",void 0),i));o(s||{})}}))}}));function D(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){F(e,t,n[t])}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n,e}function M(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))
}(["\n      &.uu5-forms-input {margin: 0;}\n      width: 140px;\n      display: inline-block;\n\n      & .uu5-forms-label {\n        display: inline-block;\n        width: 80px\n      }\n\n      & .uu5-forms-input-wrapper {\n        display: inline-block;\n        width: 60px;\n      }\n    "])
;return M=function(){return e},e}var A={displayName:o.a.tag("Separators.HorizontalSeparatorEditable"),classNames:{input:function(){return s.a.css(M())}}},R=Object(r.createHoc)({getProps:function(e){
return D({},e,{fileTypeFilters:{},codePreviewLsi:i.a.imageCodeSelected,noSelectedLsi:i.a.noImageSelected,listOnlyImages:!0,showWarning:function(e){
return e&&e.type&&"svg"!==e.type?a.a.Common.Element.create(a.a.Bricks.Text,{colorSchema:"warning",content:i.a.help.svgWarning}):null}})},component:L}),z=[{name:i.a.setImage,setup:[R]},{
name:i.a.componentProperties,setup:[[{name:"rotate",type:"number",label:i.a.rotate,getProps:function(){return{message:i.a.help.rotate}}},{name:"translate",type:"text",label:i.a.translate,
getProps:function(){return{message:i.a.help.translate}}}]]}],U=Object(r.createVisualComponent)(D({},A,{propTypes:{props:a.a.PropTypes.shape(c.a.propTypes).isRequired,
onClose:a.a.PropTypes.func.isRequired,saveEditation:a.a.PropTypes.func.isRequired,componentName:a.a.PropTypes.string.isRequired},getInitialState:function(){return{editModalOpen:!1,
props:this.props.props}},getPropsToSave:function(){return D({},this.state.props)},_openEditModal:function(){this.setState({editModalOpen:!0})},_onRotateChange:function(e){var t=D({},this.state.props,{
rotate:e.value});this.setState({props:t})},_onTranslateChange:function(e){var t=D({},this.state.props,{translate:e.value});this.setState({props:t})},_getToolbarItems:function(){var e=this;return[{
type:"button",props:function(){return{pressed:e.state.editModalOpen,icon:"mdi-settings",onClick:function(){return e._openEditModal()},tooltip:i.a.setImagePlain}}
},a.a.Common.Element.create(a.a.Forms.Number,{value:this.state.props.rotate,label:i.a.rotate,className:A.classNames.input(),buttonHidden:!0,onBlur:this._onRotateChange,key:"rotate"
}),a.a.Common.Element.create(a.a.Forms.Text,{value:this.state.props.translate,label:i.a.translate,className:A.classNames.input(),onBlur:this._onTranslateChange,key:"translate"})]},
_onEndEditation:function(){this.props.onClose(D({},this.state.props))},_onCloseEditationModal:function(e){var t=this;if(e){var n=D({},this.state.props,e);this.setState({props:n,editModalOpen:!1
},(function(){return t.props.saveEditation(e)}))}else this.setState({editModalOpen:!1})},render:function(){
return a.a.Common.Element.create(a.a.Common.Fragment,null,a.a.Common.Element.create(a.a.BricksEditable.Toolbar,{onClose:this._onEndEditation,items:this._getToolbarItems()
},a.a.Common.Element.create(c.a,this.state.props)),this.state.editModalOpen&&a.a.Common.Element.create(a.a.BricksEditable.Modal,{shown:!0,onClose:this._onCloseEditationModal,
componentProps:this.state.props,componentName:this.props.componentName,componentPropsForm:z,menuWidth:"250px",header:i.a.editation.horizontalSeparator}))}}));t.default=U}}]);