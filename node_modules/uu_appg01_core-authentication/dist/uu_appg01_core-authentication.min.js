!function(t,e){
"object"==typeof exports&&"object"==typeof module?module.exports=e(require("uu_appg01_core-utils"),require("module")):"function"==typeof define&&define.amd?define("uu_appg01_core-authentication",["uu_appg01_core-utils","module"],e):"object"==typeof exports?exports["uu_appg01_core-authentication"]=e(require("uu_appg01_core-utils"),require("module")):(t.UuApp=t.UuApp||{},
t.UuApp.Authentication=e(t["UuApp.Utils"],t[void 0]))}(window,(function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}}
;return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){
"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),
8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),
2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t}
;return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";function r(t){
return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){
var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){
return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){
return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){
if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}
}),e&&o(t,e)}(n,t);var e=u(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(n(1).BaseError);t.exports=f},function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){
return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){
return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){
var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){
return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){
return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){!function(t,e){
if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}
}),e&&u(t,e)}(f,t);var e,n,r,a=c(f);function f(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i(this,f),"string"==typeof t&&(r=e,e=t,t=null),
(n=a.call(this,e,r))._session=t,n}return e=f,(n=[{key:"getSession",value:function(){return this._session}}])&&o(e.prototype,n),r&&o(e,r),f}(n(0));t.exports=s},function(t,e,n){t.exports=n(4)
},function(t,e,n){var r=n(5),i="undefined"!=typeof document,o=((r?r.uri:i&&(document.currentScript||Array.prototype.slice.call(document.getElementsByTagName("script"),-1)[0]||{}).src)||"").toString()
;"/4.0.0/"===(o=o.split(/\//).slice(0,-1).join("/")+"/").substr(-"/4.0.0/".length)&&(o=o.substr(0,o.length-"/4.0.0/".length)+"/4.7.2/"),n.p=o,t.exports=n(6)},function(t,n){t.exports=e
},function(t,e,n){"use strict";t.exports={get AuthenticationService(){return n(7)},get Session(){return n(8)},get Identity(){return n(9)},get ClientIdentity(){return n(10)},get ApplicationIdentity(){
return n(11)},get AuthenticationError(){return n(0)},get InvalidCredentials(){return n(12)},get UntrustedCredentials(){return n(2)}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,u){try{
var c=t[o](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,i)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(1),u=o.BaseError,c=o.Config,a=function(){function t(){!function(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o,a,f;return e=t,n=null,o=[{key:"authenticate",value:(a=regeneratorRuntime.mark((function e(n){
var r,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:null,i=t.get(),!r){e.next=8;break}return e.next=5,
i.authenticate(n,r);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,i.authenticate(n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})),f=function(){
var t=this,e=arguments;return new Promise((function(n,i){var o=a.apply(t,e);function u(t){r(o,n,i,u,c,"next",t)}function c(t){r(o,n,i,u,c,"throw",t)}u(void 0)}))},function(t){
return f.apply(this,arguments)})},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e||c.get("uu_app_default_authn_provider")
;if(!n)throw new u("Unable to get default authentication provider. Configuration parameter ".concat("uu_app_default_authn_provider"," is not set."));var r=t._realizations[n];if(r)return r
;throw new u('There is no authentication provider with name "'.concat(n,'".'))}},{key:"_register",value:function(e,n){t._realizations[e]=n}},{key:"DEFAULT_PROVIDER_PARAM",get:function(){
return"uu_app_default_authn_provider"}}],n&&i(e.prototype,n),o&&i(e,o),t}();a._realizations={},t.exports=a},function(t,e,n){"use strict";function r(t,e,n,r,i,o,u){try{var c=t[o](u),a=c.value}catch(t){
return void n(t)}c.done?e(a):Promise.resolve(a).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var u=t.apply(e,n);function c(t){
r(u,i,o,c,a,"next",t)}function a(t){r(u,i,o,c,a,"throw",t)}c(void 0)}))}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){
for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=n(2),a=function(){function t(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this._id=e.id||null,this._authenticationId=e.authenticationId||null,this._authenticationTime=e.authenticationTime||new Date,
this._authenticationLevelOfAssurance=e.authenticationLevelOfAssurance?parseInt(e.authenticationLevelOfAssurance):0,this._identity=e.identity,this._clientIdentity=e.clientIdentity,
this._applicationIdentity=e.applicationIdentity,this._attributes=e.attributes||{},
this._authenticated=!(!this._authenticationLevelOfAssurance||!(this._identity||this._applicationIdentity||this._clientIdentity))}var e,n,r,a,f;return e=t,(n=[{key:"getId",value:function(){
return this._id}},{key:"getAuthenticationId",value:function(){return this._authenticationId}},{key:"getAuthenticationTime",value:function(){return this._authenticationTime}},{
key:"getAuthenticationLevelOfAssurance",value:function(){return this._authenticationLevelOfAssurance}},{key:"getIdentity",value:function(){return this._identity}},{key:"getClientIdentity",
value:function(){return this._clientIdentity}},{key:"getApplicationIdentity",value:function(){return this._applicationIdentity}},{key:"isAuthenticated",value:function(){return!!this._authenticated}},{
key:"getCallTokenScope",value:(f=i(regeneratorRuntime.mark((function t(e){var n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:
return n.length>1&&void 0!==n[1]&&n[1],t.abrupt("return",e?e.toString().split("?")[0]:e);case 2:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)})},{key:"getCallToken",
value:(a=i(regeneratorRuntime.mark((function t(e){var n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.length>1&&void 0!==n[1]&&n[1],
new Error("Method not implemented.");case 2:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"assertTrustiness",value:function(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.minAuthenticationLevelOfAssurance
;if(null!=e&&null!=e&&e>this.getAuthenticationLevelOfAssurance())throw new c(this,"Minimum login level of assurance not met.");var n=t.maxAuthenticationAge;if(null!=n&&null!=n){
var r=this.getAuthenticationTime().getTime()/1e3,i=Date.now/1e3;if(r+n<i)throw new c(this,"User re-authentication required.")}}},{key:"getAttribute",value:function(t){return this._attributes[t]}},{
key:"close",value:function(){this._authenticated=!1}},{key:"toJSON",value:function(){return{identity:this._identity,clientIdentity:this._clientIdentity,applicationIdentity:this._applicationIdentity}}
}])&&u(e.prototype,n),r&&u(e,r),t}();t.exports=a},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),
this._uuIdentity=e,"string"==typeof n?this._name=n:n&&(this._name=n.name,this._type=n.type,this._levelOfAssurance=n.levelOfAssurance)}var e,n,i;return e=t,(n=[{key:"getUuIdentity",value:function(){
return this._uuIdentity}},{key:"getName",value:function(){return this._name}},{key:"getType",value:function(){return this._type}},{key:"getLevelOfAssurance",value:function(){
return this._levelOfAssurance}},{key:"getUUIdentity",value:function(){return this.getUuIdentity()}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i},function(t,e,n){"use strict";function r(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this._uuIdentity=e,
n&&(this._uri=n.uri,this._product=n.product,this._vendor=n.vendor,this._app=n.app,this._subApp=n.subApp,this._asid=n.asid,this._awid=n.awid)}var e,n,o;return e=t,(n=[{key:"getUuIdentity",
value:function(){return this._uuIdentity}},{key:"getUri",value:function(){return this._uri}},{key:"getProduct",value:function(){return this._product}},{key:"getVendor",value:function(){
return this._vendor}},{key:"getApp",value:function(){return this._app}},{key:"getSubApp",value:function(){return this._subApp}},{key:"getAsid",value:function(){return this._asid}},{key:"getAwid",
value:function(){return this._awid}}])&&i(e.prototype,n),o&&i(e,o),t}();t.exports=o},function(t,e,n){"use strict";function r(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,
"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),
"string"==typeof n?(this._code=e,this._name=n):n&&(this._uuIdentity=e,this._code=n.code,this._name=n.name)}var e,n,o;return e=t,(n=[{key:"getUuIdentity",value:function(){return this._uuIdentity}},{
key:"getCode",value:function(){return this._code}},{key:"getName",value:function(){return this._name}}])&&i(e.prototype,n),o&&i(e,o),t}();t.exports=o},function(t,e,n){"use strict";function r(t){
return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){
var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){
return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){
return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){
if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}
}),e&&o(t,e)}(n,t);var e=u(n);function n(){return i(this,n),e.apply(this,arguments)}return n}(n(0));t.exports=f}])}));